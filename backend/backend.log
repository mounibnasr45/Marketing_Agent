2025-07-02 17:14:08,290 - __main__ - INFO - Backend starting up...
2025-07-02 17:14:08,291 - __main__ - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-02 17:14:08,291 - __main__ - INFO - .env file exists: True
2025-07-02 17:14:08,292 - __main__ - INFO - SUPABASE_URL configured: Yes
2025-07-02 17:14:08,293 - __main__ - INFO - SUPABASE_KEY configured: Yes
2025-07-02 17:14:28,976 - __main__ - INFO -    Client: 127.0.0.1
2025-07-02 17:14:28,979 - __main__ - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '62', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-02 17:14:29,021 - __main__ - INFO -    Websites: ['www.youtube.com']
2025-07-02 17:14:29,021 - __main__ - INFO -    User ID: user-1751472868545
2025-07-02 17:14:31,723 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-02 17:14:37,842 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/IT8QPuboHhC7EfHZY "HTTP/1.1 200 OK"
2025-07-02 17:14:43,237 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/IT8QPuboHhC7EfHZY "HTTP/1.1 200 OK"
2025-07-02 17:14:51,019 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/IT8QPuboHhC7EfHZY "HTTP/1.1 200 OK"
2025-07-02 17:14:57,585 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/IT8QPuboHhC7EfHZY "HTTP/1.1 200 OK"
2025-07-02 17:14:57,937 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/SAGIoDwgBR3itahBz/items "HTTP/1.1 200 OK"
2025-07-02 17:15:00,839 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.user-1751472868545 "HTTP/1.1 400 Bad Request"
2025-07-02 17:15:00,908 - __main__ - INFO -    Status: 200
2025-07-02 17:15:00,908 - __main__ - INFO -    Processing time: 31.992s
2025-07-02 17:15:17,318 - __main__ - INFO -    Client: 127.0.0.1
2025-07-02 17:15:17,320 - __main__ - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '188', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-02 17:15:17,343 - __main__ - INFO -    Websites: ['www.youtube.com', 'netflix.com', 'imdb.com', 'hulu.com', 'facebook.com', 'vimeo.com', 'veoh.com', 'blip.tv', 'videosift.com', 'google.com', 'revver.com']
2025-07-02 17:15:17,344 - __main__ - INFO -    User ID: user-1751472905845
2025-07-02 17:15:18,724 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.user-1751472905845 "HTTP/1.1 400 Bad Request"
2025-07-02 17:15:22,531 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=www.youtube.com "HTTP/1.1 200 OK"
2025-07-02 17:15:24,803 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=netflix.com "HTTP/1.1 200 OK"
2025-07-02 17:15:30,065 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.user-1751472905845 "HTTP/1.1 400 Bad Request"
2025-07-02 17:15:30,073 - __main__ - INFO -    Status: 200
2025-07-02 17:15:30,073 - __main__ - INFO -    Processing time: 12.847s
2025-07-02 17:16:03,335 - __main__ - INFO -    Client: 127.0.0.1
2025-07-02 17:16:03,335 - __main__ - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '4924', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-02 17:16:08,380 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-02 17:16:11,310 - __main__ - INFO -    Status: 200
2025-07-02 17:16:11,310 - __main__ - INFO -    Processing time: 7.982s
2025-07-02 17:18:49,494 - __main__ - INFO -    Client: 127.0.0.1
2025-07-02 17:18:49,494 - __main__ - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '4935', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-02 17:18:52,873 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-02 17:18:54,011 - __main__ - INFO -    Status: 200
2025-07-02 17:18:54,012 - __main__ - INFO -    Processing time: 4.515s
2025-07-02 17:31:31,161 - __main__ - INFO -    Client: 127.0.0.1
2025-07-02 17:31:31,162 - __main__ - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '4946', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-02 17:31:35,120 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-02 17:31:51,785 - __main__ - INFO -    Status: 200
2025-07-02 17:31:51,786 - __main__ - INFO -    Processing time: 20.636s
2025-07-02 17:39:58,889 - __main__ - INFO -    Client: 127.0.0.1
2025-07-02 17:39:58,889 - __main__ - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'cache-control': 'max-age=0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5', 'cookie': 'ajs_anonymous_id=18579a7c-f4ce-4647-8aa9-b429ad6b9845; jenkins-timestamper-offset=-3600000; __next_hmr_refresh_hash__=233918a3d138393701bd93a7e8cbedd5633457081244afec'}
2025-07-02 17:39:58,899 - __main__ - INFO -    Status: 200
2025-07-02 17:39:58,900 - __main__ - INFO -    Processing time: 0.010s
2025-07-02 17:40:29,942 - __main__ - INFO -    Client: 127.0.0.1
2025-07-02 17:40:29,943 - __main__ - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '4948', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-02 17:40:40,938 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-02 17:40:43,438 - __main__ - INFO -    Status: 200
2025-07-02 17:40:43,439 - __main__ - INFO -    Processing time: 13.496s
2025-07-03 11:31:37,379 - config - INFO - Backend starting up...
2025-07-03 11:31:37,379 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 11:31:37,380 - config - INFO - .env file exists: True
2025-07-03 11:31:37,380 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 11:31:37,380 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 11:31:37,380 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 11:31:37,380 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 11:31:37,380 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 11:31:46,784 - config - INFO - Backend starting up...
2025-07-03 11:31:46,784 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 11:31:46,784 - config - INFO - .env file exists: True
2025-07-03 11:31:46,784 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 11:31:46,785 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 11:31:46,785 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 11:31:46,786 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 11:31:46,786 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 11:39:02,662 - config - INFO - Backend starting up...
2025-07-03 11:39:02,664 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 11:39:02,664 - config - INFO - .env file exists: True
2025-07-03 11:39:02,665 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 11:39:02,665 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 11:39:02,666 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 11:39:02,666 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 11:39:02,666 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 11:39:11,354 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:39:11,355 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:39:11,367 - middleware - INFO -    Status: 400
2025-07-03 11:39:11,368 - middleware - INFO -    Processing time: 0.045s
2025-07-03 11:40:24,726 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:40:24,729 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:40:24,757 - middleware - INFO -    Status: 200
2025-07-03 11:40:24,761 - middleware - INFO -    Processing time: 0.022s
2025-07-03 11:40:24,797 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:40:24,799 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '66', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:40:24,840 - routes - INFO -    Websites: ['https://github.com/']
2025-07-03 11:40:24,841 - routes - INFO -    User ID: user-1751539224397
2025-07-03 11:40:26,831 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 11:40:32,596 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Gck7HPsELaBdpEIyM "HTTP/1.1 200 OK"
2025-07-03 11:40:37,810 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Gck7HPsELaBdpEIyM "HTTP/1.1 200 OK"
2025-07-03 11:40:43,465 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Gck7HPsELaBdpEIyM "HTTP/1.1 200 OK"
2025-07-03 11:40:48,851 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Gck7HPsELaBdpEIyM "HTTP/1.1 200 OK"
2025-07-03 11:40:49,353 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/9IryfbuC4HB8sIUHr/items "HTTP/1.1 200 OK"
2025-07-03 11:40:51,580 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.user-1751539224397 "HTTP/1.1 400 Bad Request"
2025-07-03 11:40:51,678 - middleware - INFO -    Status: 200
2025-07-03 11:40:51,679 - middleware - INFO -    Processing time: 26.855s
2025-07-03 11:41:18,641 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:41:18,641 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:41:18,662 - middleware - INFO -    Status: 200
2025-07-03 11:41:18,663 - middleware - INFO -    Processing time: 0.024s
2025-07-03 11:41:18,674 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:41:18,675 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '128', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:41:18,691 - routes - INFO -    Websites: ['https://github.com/', 'indeed.com', 'glassdoor.com', 'monster.com', 'ziprecruiter.com']
2025-07-03 11:41:18,692 - routes - INFO -    User ID: user-1751539273582
2025-07-03 11:41:19,487 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.user-1751539273582 "HTTP/1.1 400 Bad Request"
2025-07-03 11:41:20,979 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://github.com/ "HTTP/1.1 200 OK"
2025-07-03 11:41:22,556 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=indeed.com "HTTP/1.1 200 OK"
2025-07-03 11:41:28,647 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.user-1751539273582 "HTTP/1.1 400 Bad Request"
2025-07-03 11:41:28,749 - middleware - INFO -    Status: 200
2025-07-03 11:41:28,750 - middleware - INFO -    Processing time: 10.070s
2025-07-03 11:42:42,110 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:42:42,113 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '64', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:42:42,128 - routes - INFO -    Websites: ['https://salla.com']
2025-07-03 11:42:42,128 - routes - INFO -    User ID: user-1751539361783
2025-07-03 11:42:43,439 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 11:42:49,066 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/vb1tZfcWpOq9GA6Tu "HTTP/1.1 200 OK"
2025-07-03 11:42:54,833 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/vb1tZfcWpOq9GA6Tu "HTTP/1.1 200 OK"
2025-07-03 11:43:00,011 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/vb1tZfcWpOq9GA6Tu "HTTP/1.1 200 OK"
2025-07-03 11:43:05,629 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/vb1tZfcWpOq9GA6Tu "HTTP/1.1 200 OK"
2025-07-03 11:43:10,801 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/vb1tZfcWpOq9GA6Tu "HTTP/1.1 200 OK"
2025-07-03 11:43:10,995 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/XlJwkP4Ud1nzKJC7n/items "HTTP/1.1 200 OK"
2025-07-03 11:43:11,879 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.user-1751539361783 "HTTP/1.1 400 Bad Request"
2025-07-03 11:43:11,935 - middleware - INFO -    Status: 200
2025-07-03 11:43:11,935 - middleware - INFO -    Processing time: 29.823s
2025-07-03 11:43:39,817 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:43:39,818 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '210', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:43:39,827 - routes - INFO -    Websites: ['https://salla.com', 'mapp.sa', 'ajsquare.com', 'namecheap.com', 'hostinger.com', 'zid.sa', 'godaddy.com', 'nutajr.com', 'qeematech.net', 'entaleq-online.com', 'sectionwp.com']
2025-07-03 11:43:39,827 - routes - INFO -    User ID: user-1751539408324
2025-07-03 11:43:40,972 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.user-1751539408324 "HTTP/1.1 400 Bad Request"
2025-07-03 11:43:43,017 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://salla.com "HTTP/1.1 200 OK"
2025-07-03 11:43:45,379 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=mapp.sa "HTTP/1.1 200 OK"
2025-07-03 11:43:47,186 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.user-1751539408324 "HTTP/1.1 400 Bad Request"
2025-07-03 11:43:47,218 - middleware - INFO -    Status: 200
2025-07-03 11:43:47,219 - middleware - INFO -    Processing time: 7.396s
2025-07-03 11:44:27,926 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:44:27,927 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '64', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:44:27,946 - routes - INFO -    Websites: ['https://salla.com']
2025-07-03 11:44:27,947 - routes - INFO -    User ID: user-1751539467581
2025-07-03 11:44:29,609 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 11:44:34,765 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/srNVgTXYemjqRrDhR "HTTP/1.1 200 OK"
2025-07-03 11:44:40,363 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/srNVgTXYemjqRrDhR "HTTP/1.1 200 OK"
2025-07-03 11:44:46,078 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/srNVgTXYemjqRrDhR "HTTP/1.1 200 OK"
2025-07-03 11:44:51,690 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/srNVgTXYemjqRrDhR "HTTP/1.1 200 OK"
2025-07-03 11:44:56,885 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/srNVgTXYemjqRrDhR "HTTP/1.1 200 OK"
2025-07-03 11:45:02,518 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/srNVgTXYemjqRrDhR "HTTP/1.1 200 OK"
2025-07-03 11:45:02,749 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/2rgAKMhlMGuM6gale/items "HTTP/1.1 200 OK"
2025-07-03 11:45:03,670 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.user-1751539467581 "HTTP/1.1 400 Bad Request"
2025-07-03 11:45:03,712 - middleware - INFO -    Status: 200
2025-07-03 11:45:03,713 - middleware - INFO -    Processing time: 35.800s
2025-07-03 11:47:26,131 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:47:26,131 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '210', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:47:26,140 - routes - INFO -    Websites: ['https://salla.com', 'mapp.sa', 'ajsquare.com', 'namecheap.com', 'hostinger.com', 'zid.sa', 'godaddy.com', 'nutajr.com', 'qeematech.net', 'entaleq-online.com', 'sectionwp.com']
2025-07-03 11:47:26,140 - routes - INFO -    User ID: user-1751539629434
2025-07-03 11:47:26,847 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.user-1751539629434 "HTTP/1.1 400 Bad Request"
2025-07-03 11:47:27,839 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://salla.com "HTTP/1.1 200 OK"
2025-07-03 11:47:29,263 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=mapp.sa "HTTP/1.1 200 OK"
2025-07-03 11:47:30,133 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.user-1751539629434 "HTTP/1.1 400 Bad Request"
2025-07-03 11:47:30,154 - middleware - INFO -    Status: 200
2025-07-03 11:47:30,160 - middleware - INFO -    Processing time: 4.023s
2025-07-03 11:55:59,068 - config - INFO - Backend starting up...
2025-07-03 11:55:59,068 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 11:55:59,069 - config - INFO - .env file exists: True
2025-07-03 11:55:59,069 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 11:55:59,069 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 11:55:59,069 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 11:55:59,070 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 11:55:59,070 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 11:56:16,519 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-03 11:56:16,520 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:56:16,521 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:56:16,523 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-03 11:56:16,524 - middleware - INFO -    Status: 200
2025-07-03 11:56:16,527 - middleware - INFO -    Processing time: 0.004s
2025-07-03 11:56:16,531 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 11:56:16,532 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:56:16,533 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '64', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:56:16,539 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 11:56:16,539 - routes - INFO -    Websites: ['https://salla.com']
2025-07-03 11:56:16,541 - routes - INFO -    User ID: user-1751540176173
2025-07-03 11:56:16,542 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 11:56:16,543 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 11:56:16,544 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 11:56:18,146 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 11:56:23,782 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LtIDQvA9iSkofCzLY "HTTP/1.1 200 OK"
2025-07-03 11:56:29,475 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LtIDQvA9iSkofCzLY "HTTP/1.1 200 OK"
2025-07-03 11:56:35,074 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LtIDQvA9iSkofCzLY "HTTP/1.1 200 OK"
2025-07-03 11:56:40,693 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LtIDQvA9iSkofCzLY "HTTP/1.1 200 OK"
2025-07-03 11:56:46,313 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LtIDQvA9iSkofCzLY "HTTP/1.1 200 OK"
2025-07-03 11:56:51,966 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LtIDQvA9iSkofCzLY "HTTP/1.1 200 OK"
2025-07-03 11:56:52,183 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/O2dER2z6GZQdeFb9v/items "HTTP/1.1 200 OK"
2025-07-03 11:56:52,197 - routes - INFO - [UUID] Generated UUID fd94c9b2-8ee7-5df4-92a5-96cb69db167f for user_id: user-1751540176173
2025-07-03 11:56:53,831 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.fd94c9b2-8ee7-5df4-92a5-96cb69db167f "HTTP/1.1 200 OK"
2025-07-03 11:56:53,843 - routes - INFO - [SUCCESS] Data saved to Supabase successfully
2025-07-03 11:56:53,847 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 11:56:53,851 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 11:56:53,852 - middleware - INFO -    Status: 200
2025-07-03 11:56:53,853 - middleware - INFO -    Processing time: 37.320s
2025-07-03 11:58:38,271 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-03 11:58:38,273 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:58:38,273 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:58:38,274 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-03 11:58:38,274 - middleware - INFO -    Status: 200
2025-07-03 11:58:38,275 - middleware - INFO -    Processing time: 0.003s
2025-07-03 11:58:38,280 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 11:58:38,281 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:58:38,282 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '210', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:58:38,284 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 11:58:38,285 - routes - INFO -    Websites: ['https://salla.com', 'mapp.sa', 'ajsquare.com', 'namecheap.com', 'hostinger.com', 'zid.sa', 'godaddy.com', 'nutajr.com', 'qeematech.net', 'entaleq-online.com', 'sectionwp.com']
2025-07-03 11:58:38,285 - routes - INFO -    User ID: user-1751540306918
2025-07-03 11:58:38,286 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 11:58:38,289 - routes - INFO - [UUID] Generated UUID d3cba6d9-67d8-597e-bf8d-b1dd25751925 for user_id: user-1751540306918
2025-07-03 11:58:38,870 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.d3cba6d9-67d8-597e-bf8d-b1dd25751925 "HTTP/1.1 200 OK"
2025-07-03 11:58:40,430 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://salla.com "HTTP/1.1 200 OK"
2025-07-03 11:58:42,467 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=mapp.sa "HTTP/1.1 200 OK"
2025-07-03 11:58:43,022 - routes - INFO - [UUID] Generated UUID d3cba6d9-67d8-597e-bf8d-b1dd25751925 for user_id: user-1751540306918
2025-07-03 11:58:43,546 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.d3cba6d9-67d8-597e-bf8d-b1dd25751925 "HTTP/1.1 200 OK"
2025-07-03 11:58:43,549 - routes - INFO - [SUCCESS] Data saved to Supabase successfully
2025-07-03 11:58:43,551 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 11:58:43,551 - middleware - INFO -    Status: 200
2025-07-03 11:58:43,552 - middleware - INFO -    Processing time: 5.271s
2025-07-03 12:01:21,271 - config - INFO - Backend starting up...
2025-07-03 12:01:21,272 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 12:01:21,272 - config - INFO - .env file exists: True
2025-07-03 12:01:21,272 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 12:01:21,273 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 12:01:21,273 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 12:01:21,273 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 12:01:21,273 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 12:02:04,769 - config - INFO - Backend starting up...
2025-07-03 12:02:04,769 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 12:02:04,770 - config - INFO - .env file exists: True
2025-07-03 12:02:04,770 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 12:02:04,770 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 12:02:04,770 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 12:02:04,771 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 12:02:04,771 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 12:02:20,133 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 12:02:20,133 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 12:02:20,133 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '64', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 12:02:20,136 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 12:02:20,137 - routes - INFO -    Websites: ['https://salla.com']
2025-07-03 12:02:20,137 - routes - INFO -    User ID: user-1751540539808
2025-07-03 12:02:20,137 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 12:02:20,139 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 12:02:20,140 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 12:02:21,750 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 12:02:27,368 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fflp2YCXYH3tKTAk "HTTP/1.1 200 OK"
2025-07-03 12:02:33,060 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fflp2YCXYH3tKTAk "HTTP/1.1 200 OK"
2025-07-03 12:02:38,655 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fflp2YCXYH3tKTAk "HTTP/1.1 200 OK"
2025-07-03 12:02:44,423 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fflp2YCXYH3tKTAk "HTTP/1.1 200 OK"
2025-07-03 12:02:50,134 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fflp2YCXYH3tKTAk "HTTP/1.1 200 OK"
2025-07-03 12:02:50,325 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/glQ5W8jLiSVwX7K8H/items "HTTP/1.1 200 OK"
2025-07-03 12:02:50,337 - routes - INFO - [UUID] Generated UUID 83c5fd84-9429-5c31-9912-98afc63da573 for user_id: user-1751540539808
2025-07-03 12:02:51,668 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.83c5fd84-9429-5c31-9912-98afc63da573 "HTTP/1.1 200 OK"
2025-07-03 12:02:51,672 - routes - INFO - [SUCCESS] Data saved to Supabase successfully
2025-07-03 12:02:51,673 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 12:02:51,673 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 12:02:51,674 - middleware - INFO -    Status: 200
2025-07-03 12:02:51,674 - middleware - INFO -    Processing time: 31.542s
2025-07-03 12:03:07,811 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 12:03:07,812 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 12:03:07,812 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '210', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 12:03:07,813 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 12:03:07,814 - routes - INFO -    Websites: ['https://salla.com', 'mapp.sa', 'ajsquare.com', 'namecheap.com', 'hostinger.com', 'zid.sa', 'godaddy.com', 'nutajr.com', 'qeematech.net', 'entaleq-online.com', 'sectionwp.com']
2025-07-03 12:03:07,814 - routes - INFO -    User ID: user-1751540574560
2025-07-03 12:03:07,814 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 12:03:07,815 - routes - INFO - [UUID] Generated UUID 21e92c71-61fe-577f-af32-1490cf6ed789 for user_id: user-1751540574560
2025-07-03 12:03:08,470 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.21e92c71-61fe-577f-af32-1490cf6ed789 "HTTP/1.1 200 OK"
2025-07-03 12:03:09,512 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://salla.com "HTTP/1.1 200 OK"
2025-07-03 12:03:11,757 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=mapp.sa "HTTP/1.1 200 OK"
2025-07-03 12:03:13,232 - routes - INFO - [UUID] Generated UUID 21e92c71-61fe-577f-af32-1490cf6ed789 for user_id: user-1751540574560
2025-07-03 12:03:13,801 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.21e92c71-61fe-577f-af32-1490cf6ed789 "HTTP/1.1 200 OK"
2025-07-03 12:03:13,804 - routes - INFO - [SUCCESS] Data saved to Supabase successfully
2025-07-03 12:03:13,808 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 12:03:13,809 - middleware - INFO -    Status: 200
2025-07-03 12:03:13,809 - middleware - INFO -    Processing time: 5.997s
2025-07-03 12:04:54,317 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-03 12:04:54,319 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 12:04:54,320 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 12:04:54,323 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-03 12:04:54,332 - middleware - INFO -    Status: 200
2025-07-03 12:04:54,333 - middleware - INFO -    Processing time: 0.006s
2025-07-03 12:04:54,346 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 12:04:54,352 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 12:04:54,354 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6088', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 12:04:54,368 - routes - INFO - [CHAT] Received chat message: can you summarize your context
2025-07-03 12:04:54,373 - routes - INFO -    Analysis data size: 6527 characters
2025-07-03 12:04:54,376 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 12:04:57,358 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 12:05:01,008 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 12:05:01,009 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 12:05:01,010 - middleware - INFO -    Status: 200
2025-07-03 12:05:01,010 - middleware - INFO -    Processing time: 6.664s
2025-07-03 12:05:38,931 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 12:05:38,931 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 12:05:38,932 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6103', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 12:05:38,933 - routes - INFO - [CHAT] Received chat message: analyse Traffic patterns and sources of salla
2025-07-03 12:05:38,934 - routes - INFO -    Analysis data size: 6527 characters
2025-07-03 12:05:38,934 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 12:05:41,566 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 12:05:55,197 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 12:05:55,199 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 12:05:55,199 - middleware - INFO -    Status: 200
2025-07-03 12:05:55,199 - middleware - INFO -    Processing time: 16.268s
2025-07-03 12:36:31,935 - config - INFO - Backend starting up...
2025-07-03 12:36:31,937 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 12:36:31,938 - config - INFO - .env file exists: True
2025-07-03 12:36:31,938 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 12:36:31,938 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 12:36:31,940 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 12:36:31,940 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 12:36:31,940 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 12:42:37,579 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-03 12:42:37,582 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 12:42:37,583 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 12:42:37,584 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-03 12:42:37,584 - middleware - INFO -    Status: 200
2025-07-03 12:42:37,586 - middleware - INFO -    Processing time: 0.005s
2025-07-03 12:42:37,799 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 12:42:37,800 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 12:42:37,800 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '74', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 12:42:37,841 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 12:42:37,841 - routes - INFO -    Websites: ['https://salla.com']
2025-07-03 12:42:37,841 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 12:42:37,842 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 12:42:37,843 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 12:42:37,843 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 12:42:39,727 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 12:42:44,894 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:42:50,701 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:42:56,394 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:43:02,094 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:43:07,737 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:43:13,025 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:43:18,842 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:43:24,544 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:43:30,140 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:43:35,375 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:43:41,086 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:43:41,355 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/CED5wxCDOIvkbXCa8/items "HTTP/1.1 200 OK"
2025-07-03 12:43:41,366 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 12:43:44,212 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 12:43:44,447 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 12:43:44,449 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 12:43:44,459 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 12:43:44,460 - middleware - INFO -    Status: 200
2025-07-03 12:43:44,460 - middleware - INFO -    Processing time: 66.660s
2025-07-03 13:03:01,165 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-03 13:03:01,177 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:03:01,375 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:03:01,605 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-03 13:03:01,636 - middleware - INFO -    Status: 200
2025-07-03 13:03:01,675 - middleware - INFO -    Processing time: 0.441s
2025-07-03 13:03:01,828 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 13:03:01,834 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:03:01,841 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '220', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:03:01,993 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 13:03:01,995 - routes - INFO -    Websites: ['https://salla.com', 'mapp.sa', 'ajsquare.com', 'namecheap.com', 'hostinger.com', 'zid.sa', 'godaddy.com', 'nutajr.com', 'qeematech.net', 'entaleq-online.com', 'sectionwp.com']
2025-07-03 13:03:01,997 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 13:03:01,998 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 13:03:02,452 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 13:03:04,224 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 13:03:06,665 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://salla.com "HTTP/1.1 200 OK"
2025-07-03 13:03:11,766 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=mapp.sa "HTTP/1.1 200 OK"
2025-07-03 13:03:13,092 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 13:03:14,309 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 13:03:14,829 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 13:03:14,872 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 13:03:14,878 - middleware - INFO -    Status: 200
2025-07-03 13:03:14,879 - middleware - INFO -    Processing time: 13.045s
2025-07-03 13:04:53,858 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-03 13:04:53,860 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:04:53,864 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:04:53,866 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-03 13:04:53,866 - middleware - INFO -    Status: 200
2025-07-03 13:04:53,866 - middleware - INFO -    Processing time: 0.007s
2025-07-03 13:04:53,880 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 13:04:53,881 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:04:53,881 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '66', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:04:53,883 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 13:04:53,883 - routes - INFO -    Websites: ['salla.com']
2025-07-03 13:04:53,883 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 13:04:53,883 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 13:04:53,884 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 13:04:53,884 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 13:04:55,574 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 13:05:01,651 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/DZjGbENbzAAglvAOt "HTTP/1.1 200 OK"
2025-07-03 13:05:06,899 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/DZjGbENbzAAglvAOt "HTTP/1.1 200 OK"
2025-07-03 13:05:12,112 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/DZjGbENbzAAglvAOt "HTTP/1.1 200 OK"
2025-07-03 13:05:17,966 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/DZjGbENbzAAglvAOt "HTTP/1.1 200 OK"
2025-07-03 13:05:23,662 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/DZjGbENbzAAglvAOt "HTTP/1.1 200 OK"
2025-07-03 13:05:23,847 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/9TXJ47v94bqH4tubK/items "HTTP/1.1 200 OK"
2025-07-03 13:05:23,871 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 13:05:24,696 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 13:05:25,208 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 13:05:25,215 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 13:05:25,224 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 13:05:25,226 - middleware - INFO -    Status: 200
2025-07-03 13:05:25,228 - middleware - INFO -    Processing time: 31.344s
2025-07-03 13:06:57,807 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 13:06:57,809 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:06:57,813 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '212', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:06:57,818 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 13:06:57,821 - routes - INFO -    Websites: ['salla.com', 'mapp.sa', 'ajsquare.com', 'namecheap.com', 'hostinger.com', 'zid.sa', 'godaddy.com', 'nutajr.com', 'qeematech.net', 'entaleq-online.com', 'sectionwp.com']
2025-07-03 13:06:57,823 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 13:06:57,824 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 13:06:57,832 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 13:06:58,291 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 13:07:00,342 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=salla.com "HTTP/1.1 200 OK"
2025-07-03 13:07:02,149 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=mapp.sa "HTTP/1.1 200 OK"
2025-07-03 13:07:02,900 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 13:07:03,415 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 13:07:03,675 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 13:07:03,686 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 13:07:03,688 - middleware - INFO -    Status: 200
2025-07-03 13:07:03,688 - middleware - INFO -    Processing time: 5.878s
2025-07-03 13:09:34,061 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-03 13:09:34,064 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:09:34,064 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:09:34,066 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-03 13:09:34,066 - middleware - INFO -    Status: 200
2025-07-03 13:09:34,066 - middleware - INFO -    Processing time: 0.005s
2025-07-03 13:09:34,326 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 13:09:34,328 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:09:34,329 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6064', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:09:34,336 - routes - INFO - [CHAT] Received chat message: summarize your context
2025-07-03 13:09:34,343 - routes - INFO -    Analysis data size: 6511 characters
2025-07-03 13:09:34,345 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 13:09:37,533 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 13:09:42,278 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 13:09:42,284 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 13:09:42,285 - middleware - INFO -    Status: 200
2025-07-03 13:09:42,287 - middleware - INFO -    Processing time: 7.957s
2025-07-03 13:10:28,292 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 13:10:28,293 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:10:28,293 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6185', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:10:28,294 - routes - INFO - [CHAT] Received chat message: provide detailed analysis and recommendations around: - Traffic patterns and optimization - Technology infrastructure - Competitive positioning
2025-07-03 13:10:28,295 - routes - INFO -    Analysis data size: 6511 characters
2025-07-03 13:10:28,296 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 13:10:34,256 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 13:10:46,676 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 13:10:46,679 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 13:10:46,681 - middleware - INFO -    Status: 200
2025-07-03 13:10:46,682 - middleware - INFO -    Processing time: 18.387s
2025-07-03 13:15:51,963 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-03 13:15:51,964 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:15:51,964 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:15:51,965 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-03 13:15:51,965 - middleware - INFO -    Status: 200
2025-07-03 13:15:51,965 - middleware - INFO -    Processing time: 0.002s
2025-07-03 13:15:51,972 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 13:15:51,976 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:15:51,983 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '67', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:15:51,988 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 13:15:51,989 - routes - INFO -    Websites: ['linked.com']
2025-07-03 13:15:51,991 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 13:15:51,992 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 13:15:51,993 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 13:15:51,993 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 13:15:54,023 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 13:15:59,244 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/cP2KtTm4Pjxmp9xi2 "HTTP/1.1 200 OK"
2025-07-03 13:16:05,245 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/cP2KtTm4Pjxmp9xi2 "HTTP/1.1 200 OK"
2025-07-03 13:16:11,081 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/cP2KtTm4Pjxmp9xi2 "HTTP/1.1 200 OK"
2025-07-03 13:16:16,810 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/cP2KtTm4Pjxmp9xi2 "HTTP/1.1 200 OK"
2025-07-03 13:16:22,496 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/cP2KtTm4Pjxmp9xi2 "HTTP/1.1 200 OK"
2025-07-03 13:16:22,681 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/55kkzQdPY5LRkEm9X/items "HTTP/1.1 200 OK"
2025-07-03 13:16:22,765 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 13:16:23,674 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 13:16:24,197 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 13:16:24,199 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 13:16:24,227 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 13:16:24,229 - middleware - INFO -    Status: 200
2025-07-03 13:16:24,229 - middleware - INFO -    Processing time: 32.255s
2025-07-03 13:16:51,707 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 13:16:51,708 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:16:51,709 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:16:51,714 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 13:16:51,715 - routes - INFO -    Websites: ['youtube.com']
2025-07-03 13:16:51,716 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 13:16:51,716 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 13:16:51,718 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 13:16:51,721 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 13:16:53,309 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 13:16:59,420 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Ovic61a25jhQososd "HTTP/1.1 200 OK"
2025-07-03 13:17:07,250 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Ovic61a25jhQososd "HTTP/1.1 200 OK"
2025-07-03 13:17:13,032 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Ovic61a25jhQososd "HTTP/1.1 200 OK"
2025-07-03 13:17:18,229 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Ovic61a25jhQososd "HTTP/1.1 200 OK"
2025-07-03 13:17:23,940 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Ovic61a25jhQososd "HTTP/1.1 200 OK"
2025-07-03 13:17:24,155 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/ueCJSU3ZxwdWFidWT/items "HTTP/1.1 200 OK"
2025-07-03 13:17:24,167 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 13:17:24,895 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 13:17:25,424 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 13:17:25,453 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 13:17:25,461 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 13:17:25,462 - middleware - INFO -    Status: 200
2025-07-03 13:17:25,463 - middleware - INFO -    Processing time: 33.754s
2025-07-03 14:39:12,661 - config - INFO - Backend starting up...
2025-07-03 14:39:12,662 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 14:39:12,662 - config - INFO - .env file exists: True
2025-07-03 14:39:12,662 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 14:39:12,662 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 14:39:12,663 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 14:39:12,663 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 14:39:12,663 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 14:41:19,735 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-03 14:41:19,739 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:41:19,739 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:41:19,743 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-03 14:41:19,743 - middleware - INFO -    Status: 200
2025-07-03 14:41:19,748 - middleware - INFO -    Processing time: 0.007s
2025-07-03 14:41:19,761 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 14:41:19,763 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:41:19,764 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:41:19,776 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 14:41:19,779 - routes - INFO -    Websites: ['youtube.com']
2025-07-03 14:41:19,781 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 14:41:19,784 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 14:41:19,787 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 14:41:19,791 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 14:41:21,820 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 14:41:27,535 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Y0InKOMtdeAw50gYA "HTTP/1.1 200 OK"
2025-07-03 14:41:33,421 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Y0InKOMtdeAw50gYA "HTTP/1.1 200 OK"
2025-07-03 14:41:39,144 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Y0InKOMtdeAw50gYA "HTTP/1.1 200 OK"
2025-07-03 14:41:45,180 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Y0InKOMtdeAw50gYA "HTTP/1.1 200 OK"
2025-07-03 14:41:50,840 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Y0InKOMtdeAw50gYA "HTTP/1.1 200 OK"
2025-07-03 14:41:56,074 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Y0InKOMtdeAw50gYA "HTTP/1.1 200 OK"
2025-07-03 14:41:56,275 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/CG435ffrH3OuGXosh/items "HTTP/1.1 200 OK"
2025-07-03 14:41:56,291 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 14:41:58,362 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 14:41:58,609 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 14:41:58,612 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 14:41:58,634 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 14:41:58,636 - middleware - INFO -    Status: 200
2025-07-03 14:41:58,637 - middleware - INFO -    Processing time: 38.875s
2025-07-03 14:42:22,077 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-03 14:42:22,078 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:42:22,078 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:42:22,079 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-03 14:42:22,080 - middleware - INFO -    Status: 200
2025-07-03 14:42:22,080 - middleware - INFO -    Processing time: 0.002s
2025-07-03 14:42:22,086 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 14:42:22,087 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:42:22,087 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '194', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:42:22,088 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 14:42:22,089 - routes - INFO -    Websites: ['youtube.com', 'netflix.com', 'imdb.com', 'hulu.com', 'facebook.com', 'vimeo.com', 'veoh.com', 'blip.tv', 'videosift.com', 'google.com', 'revver.com']
2025-07-03 14:42:22,089 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 14:42:22,089 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 14:42:22,090 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 14:42:22,837 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 14:42:24,559 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=youtube.com "HTTP/1.1 200 OK"
2025-07-03 14:42:26,438 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=netflix.com "HTTP/1.1 200 OK"
2025-07-03 14:42:30,459 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 14:42:31,146 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 14:42:31,667 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 14:42:31,684 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 14:42:31,686 - middleware - INFO -    Status: 200
2025-07-03 14:42:31,688 - middleware - INFO -    Processing time: 9.599s
2025-07-03 14:43:28,668 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 14:43:28,669 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:43:28,669 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '194', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:43:28,672 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 14:43:28,672 - routes - INFO -    Websites: ['youtube.com', 'netflix.com', 'imdb.com', 'hulu.com', 'facebook.com', 'vimeo.com', 'veoh.com', 'blip.tv', 'videosift.com', 'google.com', 'revver.com']
2025-07-03 14:43:28,672 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 14:43:28,673 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 14:43:28,673 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 14:43:29,084 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 14:43:29,881 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-03 14:43:29,882 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:43:29,883 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:43:29,884 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-03 14:43:29,885 - middleware - INFO -    Status: 200
2025-07-03 14:43:29,886 - middleware - INFO -    Processing time: 0.003s
2025-07-03 14:43:29,892 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 14:43:29,894 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:43:29,895 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6114', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:43:29,900 - routes - INFO - [CHAT] Received chat message: What are the growth opportunities based on this analysis?
2025-07-03 14:43:29,904 - routes - INFO -    Analysis data size: 6535 characters
2025-07-03 14:43:29,905 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 14:43:31,087 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=youtube.com "HTTP/1.1 200 OK"
2025-07-03 14:43:32,527 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=netflix.com "HTTP/1.1 200 OK"
2025-07-03 14:43:33,322 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 14:43:36,479 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 14:43:37,365 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 14:43:37,863 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 14:43:37,871 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 14:43:37,872 - middleware - INFO -    Status: 200
2025-07-03 14:43:37,874 - middleware - INFO -    Processing time: 9.203s
2025-07-03 14:43:44,042 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 14:43:44,043 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 14:43:44,043 - middleware - INFO -    Status: 200
2025-07-03 14:43:44,045 - middleware - INFO -    Processing time: 14.152s
2025-07-03 14:43:45,795 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 14:43:45,796 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:43:45,796 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6114', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:43:45,799 - routes - INFO - [CHAT] Received chat message: What are the growth opportunities based on this analysis?
2025-07-03 14:43:45,799 - routes - INFO -    Analysis data size: 6535 characters
2025-07-03 14:43:45,806 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 14:43:48,511 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 14:44:03,124 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 14:44:03,129 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 14:44:03,131 - middleware - INFO -    Status: 200
2025-07-03 14:44:03,137 - middleware - INFO -    Processing time: 17.334s
2025-07-03 14:44:43,950 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 14:44:43,952 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:44:43,952 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '67', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:44:43,954 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 14:44:43,955 - routes - INFO -    Websites: ['ooredoo.tn']
2025-07-03 14:44:43,956 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 14:44:43,957 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 14:44:43,960 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 14:44:43,962 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 14:44:45,407 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 14:44:51,042 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/M2ZxKzgGlTlp3TvjD "HTTP/1.1 200 OK"
2025-07-03 14:44:56,194 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/M2ZxKzgGlTlp3TvjD "HTTP/1.1 200 OK"
2025-07-03 14:45:01,496 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/M2ZxKzgGlTlp3TvjD "HTTP/1.1 200 OK"
2025-07-03 14:45:07,886 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/M2ZxKzgGlTlp3TvjD "HTTP/1.1 200 OK"
2025-07-03 14:45:13,493 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/M2ZxKzgGlTlp3TvjD "HTTP/1.1 200 OK"
2025-07-03 14:45:19,121 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/M2ZxKzgGlTlp3TvjD "HTTP/1.1 200 OK"
2025-07-03 14:45:19,304 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/xBcEvMc7rO9RL6fCa/items "HTTP/1.1 200 OK"
2025-07-03 14:45:19,317 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 14:45:20,219 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 14:45:20,459 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 14:45:20,460 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 14:45:20,461 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 14:45:20,461 - middleware - INFO -    Status: 200
2025-07-03 14:45:20,461 - middleware - INFO -    Processing time: 36.511s
2025-07-03 14:46:39,287 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 14:46:39,289 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:46:39,291 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '215', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:46:39,299 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 14:46:39,302 - routes - INFO -    Websites: ['ooredoo.tn', 'tunisietelecom.tn', 'orange.tn', 'google.com', 'google.tn', 'google.fr', 'yamli.com', 'bing.com', 'eddenyalive.com', 'tunisia-sat.com', 'tunisianet.com.tn']
2025-07-03 14:46:39,303 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 14:46:39,304 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 14:46:39,309 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 14:46:40,048 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 14:46:41,569 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=ooredoo.tn "HTTP/1.1 200 OK"
2025-07-03 14:46:44,393 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=tunisietelecom.tn "HTTP/1.1 200 OK"
2025-07-03 14:46:44,776 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 14:46:45,294 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 14:46:45,813 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 14:46:45,826 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 14:46:45,827 - middleware - INFO -    Status: 200
2025-07-03 14:46:45,830 - middleware - INFO -    Processing time: 6.539s
2025-07-03 14:47:23,985 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 14:47:23,986 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:47:23,986 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6167', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:47:23,988 - routes - INFO - [CHAT] Received chat message: make summarization for the context give for you
2025-07-03 14:47:23,988 - routes - INFO -    Analysis data size: 6602 characters
2025-07-03 14:47:23,989 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 14:47:26,580 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 14:47:33,561 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 14:47:33,564 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 14:47:33,565 - middleware - INFO -    Status: 200
2025-07-03 14:47:33,566 - middleware - INFO -    Processing time: 9.579s
2025-07-03 14:50:22,253 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 14:50:22,255 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:50:22,257 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6165', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:50:22,261 - routes - INFO - [CHAT] Received chat message: What technologies do the top competitors use?
2025-07-03 14:50:22,263 - routes - INFO -    Analysis data size: 6602 characters
2025-07-03 14:50:22,265 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 14:50:25,212 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 14:50:31,739 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 14:50:31,743 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 14:50:31,744 - middleware - INFO -    Status: 200
2025-07-03 14:50:31,744 - middleware - INFO -    Processing time: 9.491s
2025-07-03 15:11:08,416 - config - INFO - Backend starting up...
2025-07-03 15:11:08,417 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 15:11:08,417 - config - INFO - .env file exists: True
2025-07-03 15:11:08,417 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 15:11:08,418 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 15:11:08,418 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 15:11:08,418 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 15:11:08,418 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 15:15:36,958 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-03 15:15:36,960 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:15:36,961 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:15:36,962 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-03 15:15:36,963 - middleware - INFO -    Status: 200
2025-07-03 15:15:36,964 - middleware - INFO -    Processing time: 0.005s
2025-07-03 15:15:36,976 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 15:15:36,977 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:15:36,978 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:15:36,989 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 15:15:36,989 - routes - INFO -    Websites: ['chatgpt.com']
2025-07-03 15:15:36,990 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:15:36,991 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 15:15:36,992 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 15:15:36,992 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 15:15:39,015 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 15:15:44,738 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:15:50,013 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:15:55,279 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:16:01,018 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:16:06,655 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:16:12,308 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:16:17,910 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:16:23,576 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:16:29,273 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:16:34,926 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:16:40,567 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:16:46,220 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:16:46,411 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/Wuha06F7tlSRfPY5z/items "HTTP/1.1 200 OK"
2025-07-03 15:16:46,429 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:16:48,216 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:16:48,615 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:16:48,618 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 15:16:48,662 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 15:16:48,662 - middleware - INFO -    Status: 200
2025-07-03 15:16:48,667 - middleware - INFO -    Processing time: 71.686s
2025-07-03 15:17:19,089 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-03 15:17:19,090 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:17:19,090 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:17:19,092 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-03 15:17:19,092 - middleware - INFO -    Status: 200
2025-07-03 15:17:19,092 - middleware - INFO -    Processing time: 0.003s
2025-07-03 15:17:19,096 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 15:17:19,096 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:17:19,097 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '213', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:17:19,102 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 15:17:19,103 - routes - INFO -    Websites: ['chatgpt.com', 'openai.com', 'github.com', 'claude.ai', 'stackoverflow.com', 'google.com', 'ilovepdf.com', 'instagram.com', 'linkedin.com', 'reddit.com', 'facebook.com']
2025-07-03 15:17:19,103 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:17:19,103 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 15:17:19,107 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:17:19,769 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:17:21,288 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=chatgpt.com "HTTP/1.1 200 OK"
2025-07-03 15:17:21,790 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:17:22,020 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:17:22,258 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:17:22,262 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 15:17:22,262 - middleware - INFO -    Status: 200
2025-07-03 15:17:22,265 - middleware - INFO -    Processing time: 3.166s
2025-07-03 15:17:45,371 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 15:17:45,371 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:17:45,373 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '213', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:17:45,377 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 15:17:45,378 - routes - INFO -    Websites: ['chatgpt.com', 'openai.com', 'github.com', 'claude.ai', 'stackoverflow.com', 'google.com', 'ilovepdf.com', 'instagram.com', 'linkedin.com', 'reddit.com', 'facebook.com']
2025-07-03 15:17:45,379 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:17:45,379 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 15:17:45,382 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:17:46,069 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:17:47,502 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=chatgpt.com "HTTP/1.1 200 OK"
2025-07-03 15:17:47,986 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:17:48,485 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:17:48,979 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:17:48,984 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 15:17:48,986 - middleware - INFO -    Status: 200
2025-07-03 15:17:48,989 - middleware - INFO -    Processing time: 3.614s
2025-07-03 15:18:52,520 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 15:18:52,521 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:18:52,522 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '78', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:18:52,525 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 15:18:52,526 - routes - INFO -    Websites: ['https://supabase.com/']
2025-07-03 15:18:52,527 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:18:52,528 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 15:18:52,531 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 15:18:52,532 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 15:18:54,734 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 15:18:59,923 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/EBuZ1pLa9p4xvkdhy "HTTP/1.1 200 OK"
2025-07-03 15:19:05,257 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/EBuZ1pLa9p4xvkdhy "HTTP/1.1 200 OK"
2025-07-03 15:19:10,901 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/EBuZ1pLa9p4xvkdhy "HTTP/1.1 200 OK"
2025-07-03 15:19:16,522 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/EBuZ1pLa9p4xvkdhy "HTTP/1.1 200 OK"
2025-07-03 15:19:22,338 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/EBuZ1pLa9p4xvkdhy "HTTP/1.1 200 OK"
2025-07-03 15:19:28,154 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/EBuZ1pLa9p4xvkdhy "HTTP/1.1 200 OK"
2025-07-03 15:19:28,370 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/KLONVK3vkWTaYj1j8/items "HTTP/1.1 200 OK"
2025-07-03 15:19:28,379 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:19:29,311 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:19:29,912 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:19:29,934 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 15:19:29,937 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 15:19:29,937 - middleware - INFO -    Status: 200
2025-07-03 15:19:29,937 - middleware - INFO -    Processing time: 37.417s
2025-07-03 15:20:59,274 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 15:20:59,275 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:20:59,275 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '209', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:20:59,277 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 15:20:59,277 - routes - INFO -    Websites: ['https://supabase.com/', 'tailwindcss.com', 'resend.com', 'dribbble.com', 'lucide.dev', 'loom.com', 'expo.dev', 'vercel.com', 'webflow.com', 'canva.com', 'tally.so']
2025-07-03 15:20:59,278 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:20:59,278 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 15:20:59,281 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:20:59,906 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:21:01,106 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://supabase.com/ "HTTP/1.1 200 OK"
2025-07-03 15:21:03,642 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:21:04,128 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:21:04,626 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:21:04,633 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 15:21:04,637 - middleware - INFO -    Status: 200
2025-07-03 15:21:04,637 - middleware - INFO -    Processing time: 5.360s
2025-07-03 15:23:53,957 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 15:23:53,958 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:23:53,959 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '67', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:23:53,960 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 15:23:53,961 - routes - INFO -    Websites: ['github.com']
2025-07-03 15:23:53,961 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:23:53,961 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 15:23:53,962 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 15:23:53,962 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 15:23:55,388 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 15:24:01,039 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/h1V13vruAvKUoWid1 "HTTP/1.1 200 OK"
2025-07-03 15:24:06,683 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/h1V13vruAvKUoWid1 "HTTP/1.1 200 OK"
2025-07-03 15:24:12,344 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/h1V13vruAvKUoWid1 "HTTP/1.1 200 OK"
2025-07-03 15:24:18,040 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/h1V13vruAvKUoWid1 "HTTP/1.1 200 OK"
2025-07-03 15:24:18,223 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/nMzsMInDSIhN0cprP/items "HTTP/1.1 200 OK"
2025-07-03 15:24:18,272 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:24:19,189 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:24:19,450 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:24:19,452 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 15:24:19,455 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 15:24:19,456 - middleware - INFO -    Status: 200
2025-07-03 15:24:19,457 - middleware - INFO -    Processing time: 25.498s
2025-07-03 15:26:54,479 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 15:26:54,480 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:26:54,482 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '129', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:26:54,489 - routes - INFO - [TECH] Starting tech stack analysis for 5 websites
2025-07-03 15:26:54,491 - routes - INFO -    Websites: ['github.com', 'indeed.com', 'glassdoor.com', 'monster.com', 'ziprecruiter.com']
2025-07-03 15:26:54,493 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:26:54,496 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 15:26:54,503 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:26:55,078 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:26:56,519 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=github.com "HTTP/1.1 200 OK"
2025-07-03 15:26:56,567 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:26:57,075 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:26:57,304 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:26:57,326 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 15:26:57,327 - middleware - INFO -    Status: 200
2025-07-03 15:26:57,329 - middleware - INFO -    Processing time: 2.846s
2025-07-03 15:27:09,209 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 15:27:09,210 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:27:09,210 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '129', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:27:09,211 - routes - INFO - [TECH] Starting tech stack analysis for 5 websites
2025-07-03 15:27:09,212 - routes - INFO -    Websites: ['github.com', 'indeed.com', 'glassdoor.com', 'monster.com', 'ziprecruiter.com']
2025-07-03 15:27:09,212 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:27:09,212 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 15:27:09,213 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:27:10,092 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:27:11,269 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=github.com "HTTP/1.1 200 OK"
2025-07-03 15:27:11,308 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:27:11,801 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:27:12,040 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:27:12,045 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 15:27:12,046 - middleware - INFO -    Status: 200
2025-07-03 15:27:12,047 - middleware - INFO -    Processing time: 2.836s
2025-07-03 15:27:30,861 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-03 15:27:30,862 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:27:30,862 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:27:30,865 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-03 15:27:30,865 - middleware - INFO -    Status: 200
2025-07-03 15:27:30,865 - middleware - INFO -    Processing time: 0.004s
2025-07-03 15:27:30,871 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 15:27:30,871 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:27:30,872 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '3131', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:27:30,875 - routes - INFO - [CHAT] Received chat message: summarize your context 
2025-07-03 15:27:30,875 - routes - INFO -    Analysis data size: 3374 characters
2025-07-03 15:27:30,877 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 15:27:34,208 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 15:27:40,835 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 15:27:40,838 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 15:27:40,839 - middleware - INFO -    Status: 200
2025-07-03 15:27:40,841 - middleware - INFO -    Processing time: 9.967s
2025-07-03 15:49:19,137 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-03 15:49:19,138 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:49:19,138 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:49:19,140 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-03 15:49:19,140 - middleware - INFO -    Status: 200
2025-07-03 15:49:19,140 - middleware - INFO -    Processing time: 0.002s
2025-07-03 15:49:19,166 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 15:49:19,170 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:49:19,170 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:49:19,175 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 15:49:19,176 - routes - INFO -    Websites: ['youtube.com']
2025-07-03 15:49:19,177 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:49:19,177 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 15:49:19,180 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 15:49:19,181 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 15:49:20,454 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 15:49:26,108 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/yBF9eukCIfCYCNMLZ "HTTP/1.1 200 OK"
2025-07-03 15:49:31,752 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/yBF9eukCIfCYCNMLZ "HTTP/1.1 200 OK"
2025-07-03 15:49:37,387 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/yBF9eukCIfCYCNMLZ "HTTP/1.1 200 OK"
2025-07-03 15:49:43,296 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/yBF9eukCIfCYCNMLZ "HTTP/1.1 200 OK"
2025-07-03 15:49:48,457 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/yBF9eukCIfCYCNMLZ "HTTP/1.1 200 OK"
2025-07-03 15:49:54,075 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/yBF9eukCIfCYCNMLZ "HTTP/1.1 200 OK"
2025-07-03 15:49:54,257 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/HSWlhSTvaqEOfkndP/items "HTTP/1.1 200 OK"
2025-07-03 15:49:54,266 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:49:55,132 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:49:55,360 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:49:55,361 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 15:49:55,363 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 15:49:55,363 - middleware - INFO -    Status: 200
2025-07-03 15:49:55,363 - middleware - INFO -    Processing time: 36.197s
2025-07-03 15:50:14,805 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-03 15:50:14,806 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:50:14,806 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:50:14,807 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-03 15:50:14,807 - middleware - INFO -    Status: 200
2025-07-03 15:50:14,808 - middleware - INFO -    Processing time: 0.002s
2025-07-03 15:50:14,812 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 15:50:14,841 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:50:14,842 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '194', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:50:14,844 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 15:50:14,845 - routes - INFO -    Websites: ['youtube.com', 'netflix.com', 'imdb.com', 'hulu.com', 'facebook.com', 'vimeo.com', 'veoh.com', 'blip.tv', 'videosift.com', 'google.com', 'revver.com']
2025-07-03 15:50:14,847 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:50:14,848 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 15:50:14,849 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:50:15,547 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:50:16,692 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=youtube.com "HTTP/1.1 200 OK"
2025-07-03 15:50:16,709 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:50:17,202 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:50:17,708 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:50:17,712 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 15:50:17,713 - middleware - INFO -    Status: 200
2025-07-03 15:50:17,713 - middleware - INFO -    Processing time: 2.899s
2025-07-03 15:50:50,125 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 15:50:50,125 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:50:50,125 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '194', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:50:50,127 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 15:50:50,127 - routes - INFO -    Websites: ['youtube.com', 'netflix.com', 'imdb.com', 'hulu.com', 'facebook.com', 'vimeo.com', 'veoh.com', 'blip.tv', 'videosift.com', 'google.com', 'revver.com']
2025-07-03 15:50:50,129 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:50:50,129 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 15:50:50,132 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:50:51,027 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:50:52,022 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=youtube.com "HTTP/1.1 200 OK"
2025-07-03 15:50:52,033 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:50:52,978 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:50:53,487 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:50:53,490 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 15:50:53,490 - middleware - INFO -    Status: 200
2025-07-03 15:50:53,491 - middleware - INFO -    Processing time: 3.365s
2025-07-03 16:25:54,625 - config - INFO - Backend starting up...
2025-07-03 16:25:54,625 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 16:25:54,626 - config - INFO - .env file exists: True
2025-07-03 16:25:54,626 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 16:25:54,626 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 16:25:54,626 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 16:25:54,627 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 16:25:54,627 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 16:26:58,959 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-03 16:26:58,960 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:26:58,961 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:26:58,961 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-03 16:26:58,963 - middleware - INFO -    Status: 200
2025-07-03 16:26:58,966 - middleware - INFO -    Processing time: 0.002s
2025-07-03 16:26:58,980 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 16:26:58,981 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:26:58,984 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '66', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:26:58,999 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 16:26:59,001 - routes - INFO -    Websites: ['salla.com']
2025-07-03 16:26:59,002 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 16:26:59,002 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 16:26:59,007 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 16:26:59,008 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 16:27:00,721 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 16:27:06,640 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fleCU4fylfD68kVl "HTTP/1.1 200 OK"
2025-07-03 16:27:12,291 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fleCU4fylfD68kVl "HTTP/1.1 200 OK"
2025-07-03 16:27:17,950 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fleCU4fylfD68kVl "HTTP/1.1 200 OK"
2025-07-03 16:27:23,120 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fleCU4fylfD68kVl "HTTP/1.1 200 OK"
2025-07-03 16:27:28,850 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fleCU4fylfD68kVl "HTTP/1.1 200 OK"
2025-07-03 16:27:34,023 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fleCU4fylfD68kVl "HTTP/1.1 200 OK"
2025-07-03 16:27:39,653 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fleCU4fylfD68kVl "HTTP/1.1 200 OK"
2025-07-03 16:27:39,997 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/jxYX80RwjKMh5cgO3/items "HTTP/1.1 200 OK"
2025-07-03 16:27:40,040 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 16:27:41,671 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 16:27:42,223 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 16:27:42,226 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 16:27:42,233 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 16:27:42,233 - middleware - INFO -    Status: 200
2025-07-03 16:27:42,233 - middleware - INFO -    Processing time: 43.252s
2025-07-03 16:28:07,259 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-03 16:28:07,260 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:28:07,261 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:28:07,264 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-03 16:28:07,265 - middleware - INFO -    Status: 200
2025-07-03 16:28:07,265 - middleware - INFO -    Processing time: 0.005s
2025-07-03 16:28:07,274 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 16:28:07,275 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:28:07,276 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '212', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:28:07,281 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 16:28:07,282 - routes - INFO -    Websites: ['salla.com', 'mapp.sa', 'ajsquare.com', 'namecheap.com', 'hostinger.com', 'zid.sa', 'godaddy.com', 'nutajr.com', 'qeematech.net', 'entaleq-online.com', 'sectionwp.com']
2025-07-03 16:28:07,282 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 16:28:07,282 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 16:28:07,284 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 16:28:07,727 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 16:28:09,373 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=salla.com "HTTP/1.1 200 OK"
2025-07-03 16:28:09,886 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 16:28:10,389 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 16:28:10,634 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 16:28:10,649 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 16:28:10,653 - middleware - INFO -    Status: 200
2025-07-03 16:28:10,654 - middleware - INFO -    Processing time: 3.376s
2025-07-03 16:28:31,143 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-03 16:28:31,145 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:28:31,145 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:28:31,146 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-03 16:28:31,147 - middleware - INFO -    Status: 200
2025-07-03 16:28:31,147 - middleware - INFO -    Processing time: 0.003s
2025-07-03 16:28:31,151 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 16:28:31,152 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:28:31,152 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6133', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:28:31,156 - routes - INFO - [CHAT] Received chat message: summarize your context
2025-07-03 16:28:31,158 - routes - INFO -    Analysis data size: 6588 characters
2025-07-03 16:28:31,159 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 16:28:34,611 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 16:28:44,123 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 16:28:44,128 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 16:28:44,130 - middleware - INFO -    Status: 200
2025-07-03 16:28:44,131 - middleware - INFO -    Processing time: 12.977s
2025-07-03 16:30:57,144 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 16:30:57,146 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:30:57,147 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6158', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:30:57,152 - routes - INFO - [CHAT] Received chat message: How can I improve my website's traffic sources?
2025-07-03 16:30:57,154 - routes - INFO -    Analysis data size: 6588 characters
2025-07-03 16:30:57,155 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 16:31:01,022 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 16:31:16,084 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 16:31:16,086 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 16:31:16,087 - middleware - INFO -    Status: 200
2025-07-03 16:31:16,087 - middleware - INFO -    Processing time: 18.942s
2025-07-03 16:34:16,831 - config - INFO - Backend starting up...
2025-07-03 16:34:16,831 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 16:34:16,833 - config - INFO - .env file exists: True
2025-07-03 16:34:16,834 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 16:34:16,834 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 16:34:16,834 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 16:34:16,834 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 16:34:16,835 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 16:38:09,032 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-03 16:38:09,034 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:38:09,035 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:38:09,036 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-03 16:38:09,036 - middleware - INFO -    Status: 200
2025-07-03 16:38:09,037 - middleware - INFO -    Processing time: 0.004s
2025-07-03 16:38:09,043 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 16:38:09,043 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:38:09,044 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '66', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:38:09,053 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 16:38:09,054 - routes - INFO -    Websites: ['salla.com']
2025-07-03 16:38:09,055 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 16:38:09,057 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 16:38:09,060 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 16:38:09,061 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 16:38:11,289 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 16:38:17,038 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/C0wrnKUXnxKf3th9i "HTTP/1.1 200 OK"
2025-07-03 16:38:22,707 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/C0wrnKUXnxKf3th9i "HTTP/1.1 200 OK"
2025-07-03 16:38:28,300 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/C0wrnKUXnxKf3th9i "HTTP/1.1 200 OK"
2025-07-03 16:38:33,470 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/C0wrnKUXnxKf3th9i "HTTP/1.1 200 OK"
2025-07-03 16:38:39,300 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/C0wrnKUXnxKf3th9i "HTTP/1.1 200 OK"
2025-07-03 16:38:44,566 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/C0wrnKUXnxKf3th9i "HTTP/1.1 200 OK"
2025-07-03 16:38:45,104 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/ia1F6NVlHoW1dF0QV/items "HTTP/1.1 200 OK"
2025-07-03 16:38:45,112 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 16:38:46,983 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 16:38:47,283 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 16:38:47,286 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 16:38:47,299 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 16:38:47,300 - middleware - INFO -    Status: 200
2025-07-03 16:38:47,300 - middleware - INFO -    Processing time: 38.256s
2025-07-03 16:39:33,617 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-03 16:39:33,617 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:39:33,618 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:39:33,621 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-03 16:39:33,622 - middleware - INFO -    Status: 200
2025-07-03 16:39:33,623 - middleware - INFO -    Processing time: 0.004s
2025-07-03 16:39:33,635 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 16:39:33,637 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:39:33,638 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '212', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:39:33,642 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 16:39:33,643 - routes - INFO -    Websites: ['salla.com', 'mapp.sa', 'ajsquare.com', 'namecheap.com', 'hostinger.com', 'zid.sa', 'godaddy.com', 'nutajr.com', 'qeematech.net', 'entaleq-online.com', 'sectionwp.com']
2025-07-03 16:39:33,644 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 16:39:33,645 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 16:39:33,650 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 16:39:34,324 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 16:39:36,356 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=salla.com "HTTP/1.1 200 OK"
2025-07-03 16:39:36,977 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 16:39:37,483 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 16:39:37,990 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 16:39:37,994 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 16:39:37,994 - middleware - INFO -    Status: 200
2025-07-03 16:39:37,995 - middleware - INFO -    Processing time: 4.359s
2025-07-03 16:40:06,976 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-03 16:40:06,977 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:40:06,977 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:40:06,978 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-03 16:40:06,979 - middleware - INFO -    Status: 200
2025-07-03 16:40:06,979 - middleware - INFO -    Processing time: 0.002s
2025-07-03 16:40:06,982 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 16:40:06,983 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:40:06,983 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6133', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:40:06,991 - routes - INFO - [CHAT] Received chat message: summarize your context
2025-07-03 16:40:06,994 - routes - INFO -    Analysis data size: 6588 characters
2025-07-03 16:40:06,995 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 16:40:09,601 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 16:40:13,651 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 16:40:13,653 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 16:40:13,653 - middleware - INFO -    Status: 200
2025-07-03 16:40:13,654 - middleware - INFO -    Processing time: 6.672s
2025-07-03 16:40:37,375 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 16:40:37,376 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:40:37,376 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6138', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:40:37,380 - routes - INFO - [CHAT] Received chat message: summarize salla.com metrics
2025-07-03 16:40:37,382 - routes - INFO -    Analysis data size: 6588 characters
2025-07-03 16:40:37,384 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 16:40:40,626 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 16:40:51,807 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 16:40:51,810 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 16:40:51,813 - middleware - INFO -    Status: 200
2025-07-03 16:40:51,815 - middleware - INFO -    Processing time: 14.436s
2025-07-03 16:41:09,725 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 16:41:09,727 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:41:09,728 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6158', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:41:09,730 - routes - INFO - [CHAT] Received chat message: How can I improve my website's traffic sources?
2025-07-03 16:41:09,730 - routes - INFO -    Analysis data size: 6588 characters
2025-07-03 16:41:09,731 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 16:41:13,187 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 402 Payment Required"
2025-07-03 16:41:13,189 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 16:41:13,190 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 16:41:13,190 - middleware - INFO -    Status: 200
2025-07-03 16:41:13,192 - middleware - INFO -    Processing time: 3.465s
2025-07-03 16:41:26,286 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 16:41:26,287 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:41:26,288 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6147', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:41:26,289 - routes - INFO - [CHAT] Received chat message: Show me detailed competitor analysis
2025-07-03 16:41:26,291 - routes - INFO -    Analysis data size: 6588 characters
2025-07-03 16:41:26,292 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 16:41:28,085 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 402 Payment Required"
2025-07-03 16:41:28,090 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 16:41:28,092 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 16:41:28,093 - middleware - INFO -    Status: 200
2025-07-03 16:41:28,094 - middleware - INFO -    Processing time: 1.807s
2025-07-04 15:02:52,803 - config - INFO - Backend starting up...
2025-07-04 15:02:52,803 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-04 15:02:52,804 - config - INFO - .env file exists: True
2025-07-04 15:02:52,804 - config - INFO - SUPABASE_URL configured: Yes
2025-07-04 15:02:52,804 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-04 15:02:52,804 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-04 15:02:52,804 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-04 15:02:52,805 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-04 15:13:15,775 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-04 15:13:15,776 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:13:15,777 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:13:15,777 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-04 15:13:15,778 - middleware - INFO -    Status: 200
2025-07-04 15:13:15,778 - middleware - INFO -    Processing time: 0.002s
2025-07-04 15:13:15,784 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 15:13:15,784 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:13:15,784 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:13:15,792 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 15:13:15,793 - routes - INFO -    Websites: ['youtube.com']
2025-07-04 15:13:15,793 - routes - INFO -    User ID: user-1751638294195-42336m3pt
2025-07-04 15:13:15,794 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 15:13:15,794 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 15:13:15,795 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 15:13:17,634 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 15:13:23,586 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:13:28,846 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:13:34,091 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:13:39,821 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:13:45,811 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:13:51,668 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:13:56,968 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:14:03,469 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:14:10,104 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:14:16,400 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:14:21,610 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:14:27,512 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:14:32,801 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:14:38,752 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:14:44,093 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:14:50,152 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:14:56,062 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:15:01,913 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:15:07,141 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:15:13,397 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:15:13,804 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/b9jX1653Aff3jDXql/items "HTTP/1.1 200 OK"
2025-07-04 15:15:13,878 - routes - INFO - [UUID] Generated UUID d9f57dc7-9aff-58b7-abd7-b35fa553ae21 for user_id: user-1751638294195-42336m3pt
2025-07-04 15:15:16,403 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.d9f57dc7-9aff-58b7-abd7-b35fa553ae21 "HTTP/1.1 200 OK"
2025-07-04 15:15:17,045 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 15:15:17,053 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 15:15:17,069 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 15:15:17,070 - middleware - INFO -    Status: 200
2025-07-04 15:15:17,071 - middleware - INFO -    Processing time: 121.285s
2025-07-04 15:15:27,117 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-04 15:15:27,117 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:15:27,118 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:15:27,119 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-04 15:15:27,119 - middleware - INFO -    Status: 200
2025-07-04 15:15:27,120 - middleware - INFO -    Processing time: 0.004s
2025-07-04 15:15:27,127 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 15:15:27,130 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:15:27,132 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '77', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:15:27,136 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 15:15:27,136 - routes - INFO -    Websites: ['https://chatgpt.com/']
2025-07-04 15:15:27,137 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 15:15:27,137 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 15:15:27,137 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 15:15:27,137 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 15:15:28,408 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 15:15:34,741 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/wKc78rN9aZKq97rJr "HTTP/1.1 200 OK"
2025-07-04 15:15:40,007 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/wKc78rN9aZKq97rJr "HTTP/1.1 200 OK"
2025-07-04 15:15:45,832 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/wKc78rN9aZKq97rJr "HTTP/1.1 200 OK"
2025-07-04 15:15:52,063 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/wKc78rN9aZKq97rJr "HTTP/1.1 200 OK"
2025-07-04 15:15:58,222 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/wKc78rN9aZKq97rJr "HTTP/1.1 200 OK"
2025-07-04 15:16:02,120 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-04 15:16:02,120 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:16:02,121 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:16:02,122 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-04 15:16:02,124 - middleware - INFO -    Status: 200
2025-07-04 15:16:02,124 - middleware - INFO -    Processing time: 0.002s
2025-07-04 15:16:02,132 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-04 15:16:02,133 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:16:02,134 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '194', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:16:02,136 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-04 15:16:02,136 - routes - INFO -    Websites: ['youtube.com', 'netflix.com', 'imdb.com', 'hulu.com', 'facebook.com', 'vimeo.com', 'veoh.com', 'blip.tv', 'videosift.com', 'google.com', 'revver.com']
2025-07-04 15:16:02,137 - routes - INFO -    User ID: user-1751638294195-42336m3pt
2025-07-04 15:16:02,139 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-04 15:16:02,141 - routes - INFO - [UUID] Generated UUID d9f57dc7-9aff-58b7-abd7-b35fa553ae21 for user_id: user-1751638294195-42336m3pt
2025-07-04 15:16:03,084 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.d9f57dc7-9aff-58b7-abd7-b35fa553ae21 "HTTP/1.1 200 OK"
2025-07-04 15:16:04,978 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/wKc78rN9aZKq97rJr "HTTP/1.1 200 OK"
2025-07-04 15:16:05,136 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=youtube.com "HTTP/1.1 200 OK"
2025-07-04 15:16:05,153 - routes - INFO - [UUID] Generated UUID d9f57dc7-9aff-58b7-abd7-b35fa553ae21 for user_id: user-1751638294195-42336m3pt
2025-07-04 15:16:05,840 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.d9f57dc7-9aff-58b7-abd7-b35fa553ae21 "HTTP/1.1 200 OK"
2025-07-04 15:16:06,208 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 15:16:06,212 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-04 15:16:06,213 - middleware - INFO -    Status: 200
2025-07-04 15:16:06,214 - middleware - INFO -    Processing time: 4.082s
2025-07-04 15:16:06,219 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/XaXYLtsw4VSuo7Rad/items "HTTP/1.1 200 OK"
2025-07-04 15:16:06,224 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 15:16:06,730 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 15:16:06,996 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 15:16:07,003 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 15:16:07,009 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 15:16:07,016 - middleware - INFO -    Status: 200
2025-07-04 15:16:07,022 - middleware - INFO -    Processing time: 39.883s
2025-07-04 15:16:48,394 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-04 15:16:48,395 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:16:48,395 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:16:48,396 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-04 15:16:48,396 - middleware - INFO -    Status: 200
2025-07-04 15:16:48,397 - middleware - INFO -    Processing time: 0.002s
2025-07-04 15:16:48,399 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 15:16:48,400 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:16:48,400 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6145', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:16:48,430 - routes - INFO - [CHAT] Received chat message: sum up your context
2025-07-04 15:16:48,432 - routes - INFO -    Analysis data size: 6612 characters
2025-07-04 15:16:48,433 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 15:16:49,982 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 402 Payment Required"
2025-07-04 15:16:49,985 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 15:16:49,986 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 15:16:49,987 - middleware - INFO -    Status: 200
2025-07-04 15:16:49,987 - middleware - INFO -    Processing time: 1.587s
2025-07-04 15:16:57,396 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 15:16:57,398 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:16:57,400 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6145', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:16:57,402 - routes - INFO - [CHAT] Received chat message: sum up your context
2025-07-04 15:16:57,403 - routes - INFO -    Analysis data size: 6612 characters
2025-07-04 15:16:57,403 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 15:16:58,993 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 402 Payment Required"
2025-07-04 15:16:58,997 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 15:16:58,998 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 15:16:59,000 - middleware - INFO -    Status: 200
2025-07-04 15:16:59,001 - middleware - INFO -    Processing time: 1.602s
2025-07-04 15:17:02,882 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 15:17:02,883 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:17:02,883 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6163', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:17:02,885 - routes - INFO - [CHAT] Received chat message: How can I improve my conversion rate?
2025-07-04 15:17:02,885 - routes - INFO -    Analysis data size: 6612 characters
2025-07-04 15:17:02,886 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 15:17:04,012 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 402 Payment Required"
2025-07-04 15:17:04,020 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 15:17:04,025 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 15:17:04,026 - middleware - INFO -    Status: 200
2025-07-04 15:17:04,028 - middleware - INFO -    Processing time: 1.143s
2025-07-04 15:17:15,458 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 15:17:15,458 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:17:15,459 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6174', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:17:15,460 - routes - INFO - [CHAT] Received chat message: How does this domain compare to its competitors?
2025-07-04 15:17:15,461 - routes - INFO -    Analysis data size: 6612 characters
2025-07-04 15:17:15,462 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 15:17:16,897 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 402 Payment Required"
2025-07-04 15:17:16,901 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 15:17:16,903 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 15:17:16,904 - middleware - INFO -    Status: 200
2025-07-04 15:17:16,906 - middleware - INFO -    Processing time: 1.446s
2025-07-04 15:17:24,062 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 15:17:24,063 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:17:24,067 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6132', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:17:24,070 - routes - INFO - [CHAT] Received chat message: hello 
2025-07-04 15:17:24,072 - routes - INFO -    Analysis data size: 6612 characters
2025-07-04 15:17:24,074 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 15:17:26,016 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 402 Payment Required"
2025-07-04 15:17:26,019 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 15:17:26,021 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 15:17:26,022 - middleware - INFO -    Status: 200
2025-07-04 15:17:26,022 - middleware - INFO -    Processing time: 1.959s
2025-07-04 15:20:53,003 - config - INFO - Backend starting up...
2025-07-04 15:20:53,003 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-04 15:20:53,004 - config - INFO - .env file exists: True
2025-07-04 15:20:53,004 - config - INFO - SUPABASE_URL configured: Yes
2025-07-04 15:20:53,004 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-04 15:20:53,005 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-04 15:20:53,005 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-04 15:20:53,005 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-04 15:21:44,159 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 15:21:44,161 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:21:44,161 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '71', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:21:44,166 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 15:21:44,166 - routes - INFO -    Websites: ['flashscore.com']
2025-07-04 15:21:44,166 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 15:21:44,166 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 15:21:44,167 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 15:21:44,168 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 15:21:45,697 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 15:21:51,642 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/tV5pKgVGecHEsyKMW "HTTP/1.1 200 OK"
2025-07-04 15:21:57,670 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/tV5pKgVGecHEsyKMW "HTTP/1.1 200 OK"
2025-07-04 15:22:03,072 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/tV5pKgVGecHEsyKMW "HTTP/1.1 200 OK"
2025-07-04 15:22:10,138 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/tV5pKgVGecHEsyKMW "HTTP/1.1 200 OK"
2025-07-04 15:22:16,682 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/tV5pKgVGecHEsyKMW "HTTP/1.1 200 OK"
2025-07-04 15:22:16,946 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/Z9OZEWzVrbQxdlFg0/items "HTTP/1.1 200 OK"
2025-07-04 15:22:16,965 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 15:22:19,526 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 15:22:20,076 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 15:22:20,729 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 15:22:20,760 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 15:22:20,762 - middleware - INFO -    Status: 200
2025-07-04 15:22:20,762 - middleware - INFO -    Processing time: 36.601s
2025-07-04 15:22:42,848 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 15:22:42,849 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:22:42,850 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '81', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:22:42,851 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 15:22:42,851 - routes - INFO -    Websites: ['https://www.booking.com/']
2025-07-04 15:22:42,852 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 15:22:42,852 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 15:22:42,852 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 15:22:42,852 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 15:22:48,247 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 15:22:53,809 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/cBn1HAJjtu7Tp9Lzr "HTTP/1.1 200 OK"
2025-07-04 15:22:59,917 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/cBn1HAJjtu7Tp9Lzr "HTTP/1.1 200 OK"
2025-07-04 15:23:07,347 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/cBn1HAJjtu7Tp9Lzr "HTTP/1.1 200 OK"
2025-07-04 15:23:14,018 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/cBn1HAJjtu7Tp9Lzr "HTTP/1.1 200 OK"
2025-07-04 15:23:14,446 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/M6iQKV5dgeJ4MQxRi/items "HTTP/1.1 200 OK"
2025-07-04 15:23:14,505 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 15:23:15,637 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 15:23:16,331 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 15:23:16,390 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 15:23:16,395 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 15:23:16,396 - middleware - INFO -    Status: 200
2025-07-04 15:23:16,397 - middleware - INFO -    Processing time: 33.547s
2025-07-04 15:26:43,104 - config - INFO - Backend starting up...
2025-07-04 15:26:43,105 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-04 15:26:43,105 - config - INFO - .env file exists: True
2025-07-04 15:26:43,106 - config - INFO - SUPABASE_URL configured: Yes
2025-07-04 15:26:43,106 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-04 15:26:43,107 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-04 15:26:43,107 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-04 15:26:43,107 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-04 15:27:13,128 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-04 15:27:13,129 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:27:13,129 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:27:13,132 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-04 15:27:13,133 - middleware - INFO -    Status: 200
2025-07-04 15:27:13,133 - middleware - INFO -    Processing time: 0.004s
2025-07-04 15:27:13,141 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 15:27:13,147 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:27:13,148 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '81', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:27:13,153 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 15:27:13,153 - routes - INFO -    Websites: ['https://www.booking.com/']
2025-07-04 15:27:13,153 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 15:27:13,154 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 15:27:13,154 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 15:27:13,154 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 15:27:15,200 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 15:27:21,065 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:27:27,267 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:27:33,151 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:27:39,090 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:27:45,119 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:27:50,444 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:27:55,730 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:02,103 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:08,072 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:13,790 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:19,043 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:24,881 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:30,172 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:35,980 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:41,933 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:47,654 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:53,618 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:59,657 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:29:05,661 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:29:10,926 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:29:16,948 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:29:22,857 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:29:28,641 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:29:34,814 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:29:40,658 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:29:45,929 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:29:51,807 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:29:57,128 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:30:02,381 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:30:08,195 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:30:13,969 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:30:20,134 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:30:26,025 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:30:31,964 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:30:38,046 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:30:43,251 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:30:49,237 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:30:54,441 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:31:43,820 - config - INFO - Backend starting up...
2025-07-04 15:31:43,820 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-04 15:31:43,820 - config - INFO - .env file exists: True
2025-07-04 15:31:43,820 - config - INFO - SUPABASE_URL configured: Yes
2025-07-04 15:31:43,820 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-04 15:31:43,820 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-04 15:31:43,820 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-04 15:31:43,823 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-04 15:32:09,569 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 15:32:09,571 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:32:09,572 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '80', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:32:09,582 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 15:32:09,583 - routes - INFO -    Websites: ['https://www.booking.com']
2025-07-04 15:32:09,583 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 15:32:09,584 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 15:32:09,585 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 15:32:09,585 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 15:32:11,823 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 15:32:17,840 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:32:24,220 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:32:30,553 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:32:36,636 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:32:42,601 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:32:47,851 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:32:53,644 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:32:59,532 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:33:05,370 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:33:10,605 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:33:16,709 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:33:16,991 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/KWet0Ip6klZRaOmeF/items "HTTP/1.1 200 OK"
2025-07-04 15:33:17,021 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 15:33:19,128 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 15:33:19,730 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 15:33:19,731 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 15:33:19,732 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 15:33:19,732 - middleware - INFO -    Status: 200
2025-07-04 15:33:19,732 - middleware - INFO -    Processing time: 70.163s
2025-07-04 15:33:35,528 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 15:33:35,528 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:33:35,529 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:33:35,532 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 15:33:35,532 - routes - INFO -    Websites: ['youtube.com']
2025-07-04 15:33:35,532 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 15:33:35,532 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 15:33:35,532 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 15:33:35,533 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 15:33:37,685 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 15:33:44,075 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/TDDt9ZnEK9cO9pF5q "HTTP/1.1 200 OK"
2025-07-04 15:33:50,044 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/TDDt9ZnEK9cO9pF5q "HTTP/1.1 200 OK"
2025-07-04 15:33:55,359 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/TDDt9ZnEK9cO9pF5q "HTTP/1.1 200 OK"
2025-07-04 15:34:00,666 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/TDDt9ZnEK9cO9pF5q "HTTP/1.1 200 OK"
2025-07-04 15:34:05,878 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/TDDt9ZnEK9cO9pF5q "HTTP/1.1 200 OK"
2025-07-04 15:34:12,145 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/TDDt9ZnEK9cO9pF5q "HTTP/1.1 200 OK"
2025-07-04 15:34:17,880 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/TDDt9ZnEK9cO9pF5q "HTTP/1.1 200 OK"
2025-07-04 15:34:18,085 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/fd2ouvIOO6ovG9Mp1/items "HTTP/1.1 200 OK"
2025-07-04 15:34:18,095 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 15:34:18,919 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 15:34:19,503 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 15:34:19,505 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 15:34:19,507 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 15:34:19,508 - middleware - INFO -    Status: 200
2025-07-04 15:34:19,508 - middleware - INFO -    Processing time: 43.979s
2025-07-04 15:34:41,392 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 15:34:41,392 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:34:41,393 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '76', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:34:41,396 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 15:34:41,397 - routes - INFO -    Websites: ['https://mistral.ai/']
2025-07-04 15:34:41,397 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 15:34:41,397 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 15:34:41,398 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 15:34:41,399 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 15:34:43,664 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 15:34:48,853 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:34:55,098 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:35:00,899 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:35:06,132 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:35:11,990 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:35:18,016 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:35:23,692 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:35:29,631 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:35:34,975 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:35:40,897 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:35:46,642 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:35:46,854 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/1BA2NxChe0PYAotyq/items "HTTP/1.1 200 OK"
2025-07-04 15:35:46,864 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 15:35:47,799 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 15:35:48,362 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 15:35:48,365 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 15:35:48,367 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 15:35:48,367 - middleware - INFO -    Status: 200
2025-07-04 15:35:48,367 - middleware - INFO -    Processing time: 66.975s
2025-07-04 15:36:10,332 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-04 15:36:10,333 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:36:10,333 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:36:10,335 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-04 15:36:10,336 - middleware - INFO -    Status: 200
2025-07-04 15:36:10,336 - middleware - INFO -    Processing time: 0.003s
2025-07-04 15:36:10,344 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-04 15:36:10,345 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:36:10,346 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '194', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:36:10,348 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-04 15:36:10,349 - routes - INFO -    Websites: ['https://mistral.ai/', 'huggingface.co', 'openai.com', 'notion.so', 'figma.com', 't.me', 'groq.com', 'npmjs.com', 'gamma.app', 'airtable.com', 'x.ai']
2025-07-04 15:36:10,349 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 15:36:10,350 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-04 15:36:10,351 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 15:36:12,049 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 15:36:13,927 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://mistral.ai/ "HTTP/1.1 200 OK"
2025-07-04 15:36:14,534 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 15:36:14,927 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 15:36:15,535 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 15:36:15,537 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-04 15:36:15,537 - middleware - INFO -    Status: 200
2025-07-04 15:36:15,537 - middleware - INFO -    Processing time: 5.194s
2025-07-04 15:37:15,201 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-04 15:37:15,202 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:37:15,204 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:37:15,205 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-04 15:37:15,205 - middleware - INFO -    Status: 200
2025-07-04 15:37:15,206 - middleware - INFO -    Processing time: 0.004s
2025-07-04 15:37:15,221 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 15:37:15,221 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:37:15,229 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6177', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:37:15,265 - routes - INFO - [CHAT] Received chat message: summarize your context
2025-07-04 15:37:15,266 - routes - INFO -    Analysis data size: 6643 characters
2025-07-04 15:37:15,266 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 15:37:19,142 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-04 15:37:23,950 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 15:37:23,953 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 15:37:23,953 - middleware - INFO -    Status: 200
2025-07-04 15:37:23,955 - middleware - INFO -    Processing time: 8.732s
2025-07-04 15:37:48,042 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 15:37:48,043 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:37:48,043 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6336', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:37:48,044 - routes - INFO - [CHAT] Received chat message: make Analysis: - Traffic optimization strategies - Tech stack assessment - Market positioning - User engagement - SEO opportunities - Geographic expansion - Performance benchmarking
2025-07-04 15:37:48,045 - routes - INFO -    Analysis data size: 6643 characters
2025-07-04 15:37:48,045 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 15:37:50,442 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-04 15:38:02,876 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 15:38:02,877 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 15:38:02,879 - middleware - INFO -    Status: 200
2025-07-04 15:38:02,879 - middleware - INFO -    Processing time: 14.835s
2025-07-04 15:39:28,204 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 15:39:28,205 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:39:28,206 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6194', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:39:28,209 - routes - INFO - [CHAT] Received chat message: How do I compare to my top competitors?
2025-07-04 15:39:28,210 - routes - INFO -    Analysis data size: 6643 characters
2025-07-04 15:39:28,210 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 15:39:31,779 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-04 15:39:40,020 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 15:39:40,021 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 15:39:40,021 - middleware - INFO -    Status: 200
2025-07-04 15:39:40,022 - middleware - INFO -    Processing time: 11.817s
2025-07-04 15:43:03,333 - config - INFO - Backend starting up...
2025-07-04 15:43:03,333 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-04 15:43:03,333 - config - INFO - .env file exists: True
2025-07-04 15:43:03,333 - config - INFO - SUPABASE_URL configured: Yes
2025-07-04 15:43:03,333 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-04 15:43:03,334 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-04 15:43:03,334 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-04 15:43:03,334 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-04 15:44:43,812 - config - INFO - Backend starting up...
2025-07-04 15:44:43,812 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-04 15:44:43,812 - config - INFO - .env file exists: True
2025-07-04 15:44:43,812 - config - INFO - SUPABASE_URL configured: Yes
2025-07-04 15:44:43,813 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-04 15:44:43,813 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-04 15:44:43,813 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-04 15:44:43,813 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-04 16:04:17,335 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-04 16:04:17,339 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:04:17,340 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:04:17,348 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-04 16:04:17,348 - middleware - INFO -    Status: 200
2025-07-04 16:04:17,350 - middleware - INFO -    Processing time: 0.014s
2025-07-04 16:04:17,373 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 16:04:17,397 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:04:17,402 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '77', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:04:17,521 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 16:04:17,529 - routes - INFO -    Websites: ['https://chatgpt.com/']
2025-07-04 16:04:17,531 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 16:04:17,532 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 16:04:17,535 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 16:04:17,541 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 16:04:21,213 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 16:04:26,801 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/nzLAaBjhvy9otxsEy "HTTP/1.1 200 OK"
2025-07-04 16:04:33,175 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/nzLAaBjhvy9otxsEy "HTTP/1.1 200 OK"
2025-07-04 16:04:38,451 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/nzLAaBjhvy9otxsEy "HTTP/1.1 200 OK"
2025-07-04 16:04:44,456 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/nzLAaBjhvy9otxsEy "HTTP/1.1 200 OK"
2025-07-04 16:04:50,940 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/nzLAaBjhvy9otxsEy "HTTP/1.1 200 OK"
2025-07-04 16:04:57,741 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/nzLAaBjhvy9otxsEy "HTTP/1.1 200 OK"
2025-07-04 16:04:58,004 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/Rh6414zyzQonUunHe/items "HTTP/1.1 200 OK"
2025-07-04 16:04:58,029 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 16:05:00,163 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 16:05:00,989 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 16:05:01,074 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 16:05:01,181 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 16:05:01,189 - middleware - INFO -    Status: 200
2025-07-04 16:05:01,193 - middleware - INFO -    Processing time: 43.808s
2025-07-04 16:17:06,575 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-04 16:17:06,576 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:17:06,577 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:17:06,580 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-04 16:17:06,580 - middleware - INFO -    Status: 200
2025-07-04 16:17:06,582 - middleware - INFO -    Processing time: 0.004s
2025-07-04 16:17:06,594 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-04 16:17:06,596 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:17:06,597 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '222', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:17:06,605 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-04 16:17:06,607 - routes - INFO -    Websites: ['https://chatgpt.com/', 'openai.com', 'github.com', 'claude.ai', 'stackoverflow.com', 'google.com', 'ilovepdf.com', 'instagram.com', 'linkedin.com', 'reddit.com', 'facebook.com']
2025-07-04 16:17:06,607 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 16:17:06,608 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-04 16:17:06,613 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 16:17:07,809 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 16:17:10,315 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://chatgpt.com/ "HTTP/1.1 200 OK"
2025-07-04 16:17:10,870 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 16:17:11,432 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 16:17:11,951 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 16:17:11,965 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-04 16:17:11,966 - middleware - INFO -    Status: 200
2025-07-04 16:17:11,967 - middleware - INFO -    Processing time: 5.370s
2025-07-04 16:18:02,267 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-04 16:18:02,269 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:18:02,270 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:18:02,273 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-04 16:18:02,274 - middleware - INFO -    Status: 200
2025-07-04 16:18:02,275 - middleware - INFO -    Processing time: 0.005s
2025-07-04 16:18:02,565 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 16:18:02,565 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:18:02,566 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '79', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:18:02,568 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 16:18:02,569 - routes - INFO -    Websites: ['https://lamishop3.com/']
2025-07-04 16:18:02,569 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 16:18:02,569 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 16:18:02,570 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 16:18:02,570 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 16:18:04,946 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 16:18:10,312 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:18:16,103 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:18:22,918 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:18:29,009 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:18:35,048 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:18:40,765 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:18:51,971 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:18:58,299 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:19:04,555 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:19:10,473 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:19:16,838 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:19:17,223 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/GcBvPbMYsKCcjOlv7/items "HTTP/1.1 200 OK"
2025-07-04 16:19:17,255 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 16:19:18,376 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 16:19:19,057 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 16:19:19,068 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 16:19:19,074 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 16:19:19,075 - middleware - INFO -    Status: 200
2025-07-04 16:19:19,077 - middleware - INFO -    Processing time: 76.509s
2025-07-04 16:20:53,144 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 16:20:53,146 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:20:53,146 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '66', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:20:53,151 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 16:20:53,153 - routes - INFO -    Websites: ['salla.com']
2025-07-04 16:20:53,155 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 16:20:53,156 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 16:20:53,158 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 16:20:53,158 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 16:20:56,329 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 16:21:02,039 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LpFCUMd9IxyZkSH36 "HTTP/1.1 200 OK"
2025-07-04 16:21:07,553 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LpFCUMd9IxyZkSH36 "HTTP/1.1 200 OK"
2025-07-04 16:21:14,752 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LpFCUMd9IxyZkSH36 "HTTP/1.1 200 OK"
2025-07-04 16:21:20,769 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LpFCUMd9IxyZkSH36 "HTTP/1.1 200 OK"
2025-07-04 16:21:26,034 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LpFCUMd9IxyZkSH36 "HTTP/1.1 200 OK"
2025-07-04 16:21:32,012 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LpFCUMd9IxyZkSH36 "HTTP/1.1 200 OK"
2025-07-04 16:21:32,673 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/5M76P0fBrCiLTgMTd/items "HTTP/1.1 200 OK"
2025-07-04 16:21:32,685 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 16:21:33,906 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 16:21:34,366 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 16:21:34,367 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 16:21:34,369 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 16:21:34,369 - middleware - INFO -    Status: 200
2025-07-04 16:21:34,370 - middleware - INFO -    Processing time: 41.225s
2025-07-04 16:22:11,808 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 16:22:11,808 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:22:11,809 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '79', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:22:11,810 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 16:22:11,811 - routes - INFO -    Websites: ['https://lamishop3.com/']
2025-07-04 16:22:11,811 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 16:22:11,811 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 16:22:11,812 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 16:22:11,812 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 16:22:13,777 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 16:22:21,424 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/6qtjkQ06JLVOQcr3e "HTTP/1.1 200 OK"
2025-07-04 16:22:27,730 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/6qtjkQ06JLVOQcr3e "HTTP/1.1 200 OK"
2025-07-04 16:22:33,777 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/6qtjkQ06JLVOQcr3e "HTTP/1.1 200 OK"
2025-07-04 16:22:39,549 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/6qtjkQ06JLVOQcr3e "HTTP/1.1 200 OK"
2025-07-04 16:22:45,666 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/6qtjkQ06JLVOQcr3e "HTTP/1.1 200 OK"
2025-07-04 16:22:51,990 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/6qtjkQ06JLVOQcr3e "HTTP/1.1 200 OK"
2025-07-04 16:22:52,319 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/F8NFYTWShRxSQcco5/items "HTTP/1.1 200 OK"
2025-07-04 16:22:52,329 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 16:22:53,654 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 16:22:54,037 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 16:22:54,038 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 16:22:54,041 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 16:22:54,041 - middleware - INFO -    Status: 200
2025-07-04 16:22:54,041 - middleware - INFO -    Processing time: 42.233s
2025-07-04 16:23:59,565 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 16:23:59,565 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:23:59,566 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '79', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:23:59,566 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 16:23:59,568 - routes - INFO -    Websites: ['https://lamishop3.com/']
2025-07-04 16:23:59,568 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 16:23:59,568 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 16:23:59,569 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 16:23:59,570 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 16:24:01,772 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 16:24:07,892 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/1Oric0HHN98uGMOEE "HTTP/1.1 200 OK"
2025-07-04 16:24:13,661 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/1Oric0HHN98uGMOEE "HTTP/1.1 200 OK"
2025-07-04 16:24:18,943 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/1Oric0HHN98uGMOEE "HTTP/1.1 200 OK"
2025-07-04 16:24:25,044 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/1Oric0HHN98uGMOEE "HTTP/1.1 200 OK"
2025-07-04 16:24:31,202 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/1Oric0HHN98uGMOEE "HTTP/1.1 200 OK"
2025-07-04 16:24:37,343 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/1Oric0HHN98uGMOEE "HTTP/1.1 200 OK"
2025-07-04 16:24:43,500 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/1Oric0HHN98uGMOEE "HTTP/1.1 200 OK"
2025-07-04 16:24:43,824 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/iqm0cMT4GUjgMZZfG/items "HTTP/1.1 200 OK"
2025-07-04 16:24:43,843 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 16:24:44,688 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 16:24:45,224 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 16:24:45,226 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 16:24:45,228 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 16:24:45,228 - middleware - INFO -    Status: 200
2025-07-04 16:24:45,228 - middleware - INFO -    Processing time: 45.663s
2025-07-04 16:25:59,263 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-04 16:25:59,264 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:25:59,265 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:25:59,267 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-04 16:25:59,268 - middleware - INFO -    Status: 200
2025-07-04 16:25:59,268 - middleware - INFO -    Processing time: 0.004s
2025-07-04 16:25:59,275 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 16:25:59,278 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:25:59,279 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '231', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:25:59,286 - routes - INFO - [CHAT] Received chat message:       
2025-07-04 16:25:59,287 - routes - INFO -    Analysis data size: 137 characters
2025-07-04 16:25:59,287 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 16:26:04,278 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-04 16:26:12,716 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 16:26:12,717 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 16:26:12,717 - middleware - INFO -    Status: 200
2025-07-04 16:26:12,717 - middleware - INFO -    Processing time: 13.442s
2025-07-04 17:02:28,869 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-04 17:02:28,871 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 17:02:28,872 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 17:02:28,876 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-04 17:02:28,877 - middleware - INFO -    Status: 200
2025-07-04 17:02:28,877 - middleware - INFO -    Processing time: 0.007s
2025-07-04 17:02:28,886 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 17:02:28,886 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 17:02:28,886 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '69', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 17:02:28,898 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 17:02:28,899 - routes - INFO -    Websites: ['linkedin.com']
2025-07-04 17:02:28,900 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 17:02:28,900 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 17:02:28,901 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 17:02:28,902 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 17:02:30,147 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 17:02:35,975 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/G7O7BymePOeqCv2i0 "HTTP/1.1 200 OK"
2025-07-04 17:02:42,186 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/G7O7BymePOeqCv2i0 "HTTP/1.1 200 OK"
2025-07-04 17:02:48,344 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/G7O7BymePOeqCv2i0 "HTTP/1.1 200 OK"
2025-07-04 17:02:53,985 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/G7O7BymePOeqCv2i0 "HTTP/1.1 200 OK"
2025-07-04 17:02:54,186 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/q4b4ohNE3s6oqIDcc/items "HTTP/1.1 200 OK"
2025-07-04 17:02:54,198 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 17:02:55,071 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 17:02:55,610 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 17:02:55,612 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 17:02:55,620 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 17:02:55,620 - middleware - INFO -    Status: 200
2025-07-04 17:02:55,621 - middleware - INFO -    Processing time: 26.733s
2025-07-04 17:03:09,214 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-04 17:03:09,215 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 17:03:09,216 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 17:03:09,217 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-04 17:03:09,217 - middleware - INFO -    Status: 200
2025-07-04 17:03:09,218 - middleware - INFO -    Processing time: 0.003s
2025-07-04 17:03:09,232 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-04 17:03:09,234 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 17:03:09,235 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '201', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 17:03:09,237 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-04 17:03:09,238 - routes - INFO -    Websites: ['linkedin.com', 'facebook.com', 'instagram.com', 'x.com', 'twitter.com', 'reddit.com', 'tiktok.com', 't.co', 'pinterest.com', 'discord.com', 'messenger.com']
2025-07-04 17:03:09,238 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 17:03:09,238 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-04 17:03:09,240 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 17:03:10,006 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 17:03:11,135 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=linkedin.com "HTTP/1.1 200 OK"
2025-07-04 17:03:11,305 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 17:03:11,812 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 17:03:12,313 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 17:03:12,325 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-04 17:03:12,328 - middleware - INFO -    Status: 200
2025-07-04 17:03:12,330 - middleware - INFO -    Processing time: 3.094s
2025-07-04 17:03:22,438 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-04 17:03:22,439 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 17:03:22,439 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 17:03:22,441 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-04 17:03:22,442 - middleware - INFO -    Status: 200
2025-07-04 17:03:22,443 - middleware - INFO -    Processing time: 0.002s
2025-07-04 17:03:22,453 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 17:03:22,453 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 17:03:22,453 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6149', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 17:03:22,455 - routes - INFO - [CHAT] Received chat message: hello
2025-07-04 17:03:22,456 - routes - INFO -    Analysis data size: 6634 characters
2025-07-04 17:03:22,456 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 17:03:24,692 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-04 17:03:29,580 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 17:03:29,582 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 17:03:29,583 - middleware - INFO -    Status: 200
2025-07-04 17:03:29,583 - middleware - INFO -    Processing time: 7.129s
2025-07-04 17:03:38,097 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 17:03:38,097 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 17:03:38,097 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6157', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 17:03:38,099 - routes - INFO - [CHAT] Received chat message: salem alaykom
2025-07-04 17:03:38,099 - routes - INFO -    Analysis data size: 6634 characters
2025-07-04 17:03:38,099 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 17:03:40,476 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-04 17:03:46,468 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 17:03:46,468 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 17:03:46,469 - middleware - INFO -    Status: 200
2025-07-04 17:03:46,469 - middleware - INFO -    Processing time: 8.371s
2025-07-04 17:06:37,628 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 17:06:37,631 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 17:06:37,633 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 17:06:37,636 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 17:06:37,637 - routes - INFO -    Websites: ['youtube.com']
2025-07-04 17:06:37,637 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 17:06:37,637 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 17:06:37,637 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 17:06:37,638 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 17:06:38,936 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 17:06:44,632 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/fMqnLn56utIA5AhTU "HTTP/1.1 200 OK"
2025-07-04 17:06:50,133 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/fMqnLn56utIA5AhTU "HTTP/1.1 200 OK"
2025-07-04 17:06:55,791 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/fMqnLn56utIA5AhTU "HTTP/1.1 200 OK"
2025-07-04 17:07:00,963 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/fMqnLn56utIA5AhTU "HTTP/1.1 200 OK"
2025-07-04 17:07:06,663 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/fMqnLn56utIA5AhTU "HTTP/1.1 200 OK"
2025-07-04 17:07:06,874 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/b7IoyosJ93fcVJpIs/items "HTTP/1.1 200 OK"
2025-07-04 17:07:06,904 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 17:07:07,500 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 17:07:08,003 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 17:07:08,004 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 17:07:08,005 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 17:07:08,005 - middleware - INFO -    Status: 200
2025-07-04 17:07:08,005 - middleware - INFO -    Processing time: 30.377s
2025-07-06 12:00:50,822 - config - INFO - Backend starting up...
2025-07-06 12:00:50,822 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 12:00:50,823 - config - INFO - .env file exists: True
2025-07-06 12:00:50,823 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 12:00:50,823 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 12:00:50,823 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 12:00:50,823 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 12:00:50,823 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 12:03:25,151 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 12:03:25,152 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:03:25,152 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:03:25,153 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 12:03:25,153 - middleware - INFO -    Status: 200
2025-07-06 12:03:25,154 - middleware - INFO -    Processing time: 0.002s
2025-07-06 12:03:25,157 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 12:03:25,157 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:03:25,158 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '82', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:03:25,163 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 12:03:25,163 - routes - INFO -    Websites: ['https://www.facebook.com/']
2025-07-06 12:03:25,164 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 12:03:25,164 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 12:03:25,165 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 12:03:25,165 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 12:03:26,447 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 12:03:32,075 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HLLlbgPsdfbizan0h "HTTP/1.1 200 OK"
2025-07-06 12:03:37,721 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HLLlbgPsdfbizan0h "HTTP/1.1 200 OK"
2025-07-06 12:03:42,913 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HLLlbgPsdfbizan0h "HTTP/1.1 200 OK"
2025-07-06 12:03:48,531 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HLLlbgPsdfbizan0h "HTTP/1.1 200 OK"
2025-07-06 12:03:48,757 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/mahDiMhhsrUjBDotZ/items "HTTP/1.1 200 OK"
2025-07-06 12:03:48,770 - routes - INFO - [UUID] Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 12:03:50,379 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 12:03:51,508 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-06 12:03:51,509 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 12:03:51,516 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 12:03:51,516 - middleware - INFO -    Status: 200
2025-07-06 12:03:51,517 - middleware - INFO -    Processing time: 26.358s
2025-07-06 12:04:47,076 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-06 12:04:47,077 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:04:47,077 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:04:47,078 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-06 12:04:47,078 - middleware - INFO -    Status: 200
2025-07-06 12:04:47,078 - middleware - INFO -    Processing time: 0.002s
2025-07-06 12:04:47,082 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 12:04:47,082 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:04:47,082 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '209', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:04:47,083 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-06 12:04:47,084 - routes - INFO -    Websites: ['https://www.facebook.com/', 'linkedin.com', 'instagram.com', 'x.com', 'tiktok.com', 'reddit.com', 'twitter.com', 'google.com', 't.co', 'discord.com', 'youtube.com']
2025-07-06 12:04:47,084 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 12:04:47,084 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 12:04:47,084 - routes - INFO - [UUID] Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 12:04:47,742 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 12:04:48,706 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://www.facebook.com/ "HTTP/1.1 200 OK"
2025-07-06 12:04:48,709 - routes - INFO - [UUID] Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 12:04:49,277 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 12:04:49,837 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-06 12:04:49,841 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 12:04:49,841 - middleware - INFO -    Status: 200
2025-07-06 12:04:49,841 - middleware - INFO -    Processing time: 2.759s
2025-07-06 12:05:12,427 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-06 12:05:12,428 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:05:12,428 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:05:12,429 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-06 12:05:12,429 - middleware - INFO -    Status: 200
2025-07-06 12:05:12,429 - middleware - INFO -    Processing time: 0.002s
2025-07-06 12:05:12,430 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 12:05:12,430 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:05:12,430 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '5107', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:05:12,434 - routes - INFO - [CHAT] Received chat message: what's your context
2025-07-06 12:05:12,434 - routes - INFO -    Analysis data size: 5458 characters
2025-07-06 12:05:12,434 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 12:05:14,658 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 12:05:19,150 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 12:05:19,151 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 12:05:19,151 - middleware - INFO -    Status: 200
2025-07-06 12:05:19,152 - middleware - INFO -    Processing time: 6.721s
2025-07-06 12:26:37,475 - config - INFO - Backend starting up...
2025-07-06 12:26:37,475 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 12:26:37,475 - config - INFO - .env file exists: True
2025-07-06 12:26:37,475 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 12:26:37,476 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 12:26:37,476 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 12:26:37,476 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 12:26:37,476 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 12:26:55,490 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 12:26:55,496 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:26:55,498 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:26:55,506 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 12:26:55,507 - middleware - INFO -    Status: 200
2025-07-06 12:26:55,508 - middleware - INFO -    Processing time: 0.016s
2025-07-06 12:26:55,513 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 12:26:55,515 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:26:55,522 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '69', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:26:55,527 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 12:26:55,528 - routes - INFO -    Websites: ['facebook.com']
2025-07-06 12:26:55,529 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 12:26:55,530 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 12:26:55,531 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 12:26:55,532 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 12:26:57,227 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 12:27:02,861 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/IZTfzKlacPQ6Up2iD "HTTP/1.1 200 OK"
2025-07-06 12:27:08,025 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/IZTfzKlacPQ6Up2iD "HTTP/1.1 200 OK"
2025-07-06 12:27:13,733 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/IZTfzKlacPQ6Up2iD "HTTP/1.1 200 OK"
2025-07-06 12:27:18,939 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/IZTfzKlacPQ6Up2iD "HTTP/1.1 200 OK"
2025-07-06 12:27:24,757 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/IZTfzKlacPQ6Up2iD "HTTP/1.1 200 OK"
2025-07-06 12:27:25,038 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/CR3Lpsv1tWaMTcbBr/items "HTTP/1.1 200 OK"
2025-07-06 12:27:25,043 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 12:27:26,203 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 12:27:26,209 - database_service - INFO - Creating user record for: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 12:27:26,761 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 401 Unauthorized"
2025-07-06 12:27:26,762 - database_service - ERROR - Error ensuring user exists: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "users"'}
2025-07-06 12:27:26,763 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 12:27:27,033 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 401 Unauthorized"
2025-07-06 12:27:27,037 - database_service - ERROR - Error saving analysis session: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "analysis_sessions"'}
2025-07-06 12:27:27,038 - routes - ERROR - [ERROR] Error with Apify API: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "analysis_sessions"'}
2025-07-06 12:27:27,038 - routes - WARNING - [FALLBACK] Falling back to mock data
2025-07-06 12:27:27,039 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 12:27:27,570 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 12:27:27,571 - database_service - INFO - Creating user record for: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 12:27:27,800 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 401 Unauthorized"
2025-07-06 12:27:27,802 - database_service - ERROR - Error ensuring user exists: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "users"'}
2025-07-06 12:27:27,803 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 12:27:28,072 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 401 Unauthorized"
2025-07-06 12:27:28,073 - database_service - ERROR - Error saving analysis session: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "analysis_sessions"'}
2025-07-06 12:27:28,074 - middleware - ERROR - [ERROR] Error in middleware: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "analysis_sessions"'}
2025-07-06 12:27:28,075 - middleware - ERROR -    Processing time: 32.561s
2025-07-06 12:31:07,852 - config - INFO - Backend starting up...
2025-07-06 12:31:07,852 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 12:31:07,852 - config - INFO - .env file exists: True
2025-07-06 12:31:07,853 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 12:31:07,853 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 12:31:07,853 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 12:31:07,853 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 12:31:07,853 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 12:31:18,135 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 12:31:18,136 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:31:18,137 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '69', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:31:18,140 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 12:31:18,140 - routes - INFO -    Websites: ['facebook.com']
2025-07-06 12:31:18,140 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 12:31:18,141 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 12:31:18,141 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 12:31:18,141 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 12:31:20,123 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 12:31:25,730 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HfTa11ZGUgMkBsC1s "HTTP/1.1 200 OK"
2025-07-06 12:31:30,902 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HfTa11ZGUgMkBsC1s "HTTP/1.1 200 OK"
2025-07-06 12:31:36,508 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HfTa11ZGUgMkBsC1s "HTTP/1.1 200 OK"
2025-07-06 12:31:42,105 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HfTa11ZGUgMkBsC1s "HTTP/1.1 200 OK"
2025-07-06 12:31:47,298 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HfTa11ZGUgMkBsC1s "HTTP/1.1 200 OK"
2025-07-06 12:31:53,043 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HfTa11ZGUgMkBsC1s "HTTP/1.1 200 OK"
2025-07-06 12:31:58,218 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HfTa11ZGUgMkBsC1s "HTTP/1.1 200 OK"
2025-07-06 12:31:58,532 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/NItOcnuSoQuvKdL0q/items "HTTP/1.1 200 OK"
2025-07-06 12:31:58,540 - database_service - WARNING - Supabase client not available
2025-07-06 12:31:58,540 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 12:31:58,542 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 12:31:58,543 - middleware - INFO -    Status: 200
2025-07-06 12:31:58,543 - middleware - INFO -    Processing time: 40.407s
2025-07-06 12:33:35,126 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-06 12:33:35,128 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:33:35,129 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:33:35,130 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-06 12:33:35,131 - middleware - INFO -    Status: 200
2025-07-06 12:33:35,137 - middleware - INFO -    Processing time: 0.005s
2025-07-06 12:33:35,144 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 12:33:35,146 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:33:35,147 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '196', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:33:35,154 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-06 12:33:35,155 - routes - INFO -    Websites: ['facebook.com', 'linkedin.com', 'instagram.com', 'x.com', 'tiktok.com', 'reddit.com', 'twitter.com', 'google.com', 't.co', 'discord.com', 'youtube.com']
2025-07-06 12:33:35,157 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 12:33:35,157 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 12:33:35,158 - database_service - WARNING - Supabase client not available
2025-07-06 12:33:40,782 - database_service - WARNING - Supabase client not available
2025-07-06 12:33:40,787 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 12:33:40,787 - middleware - INFO -    Status: 200
2025-07-06 12:33:40,788 - middleware - INFO -    Processing time: 5.643s
2025-07-06 12:40:41,856 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-06 12:40:41,860 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:40:41,862 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:40:41,864 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-06 12:40:41,867 - middleware - INFO -    Status: 200
2025-07-06 12:40:41,870 - middleware - INFO -    Processing time: 0.009s
2025-07-06 12:40:41,881 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 12:40:41,882 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:40:41,883 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '4722', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:40:41,896 - routes - INFO - [CHAT] Received chat message: What are the growth opportunities based on this analysis?
2025-07-06 12:40:41,898 - routes - INFO -    Analysis data size: 4996 characters
2025-07-06 12:40:41,901 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 12:40:44,273 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 12:40:53,738 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 12:40:53,739 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 12:40:53,740 - middleware - INFO -    Status: 200
2025-07-06 12:40:53,740 - middleware - INFO -    Processing time: 11.858s
2025-07-06 12:47:24,074 - config - ERROR -  Failed to initialize Supabase client: 'dict' object has no attribute 'headers'
2025-07-06 12:47:24,075 - config - INFO - Backend starting up...
2025-07-06 12:47:24,075 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 12:47:24,075 - config - INFO - .env file exists: True
2025-07-06 12:47:24,075 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 12:47:24,076 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 12:47:24,076 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 12:47:24,076 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 12:47:24,076 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 12:47:24,132 - database_service - WARNING -  DatabaseService initialized without Supabase client
2025-07-06 12:47:44,040 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 12:47:44,042 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:47:44,043 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:47:44,044 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 12:47:44,045 - middleware - INFO -    Status: 200
2025-07-06 12:47:44,045 - middleware - INFO -    Processing time: 0.003s
2025-07-06 12:47:44,049 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 12:47:44,049 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:47:44,050 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '69', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:47:44,053 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 12:47:44,054 - routes - INFO -    Websites: ['facebook.com']
2025-07-06 12:47:44,055 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 12:47:44,055 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 12:47:44,057 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 12:47:44,058 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 12:47:46,327 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 12:47:51,488 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/5R3iWsFSrI1cSLZxz "HTTP/1.1 200 OK"
2025-07-06 12:47:57,285 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/5R3iWsFSrI1cSLZxz "HTTP/1.1 200 OK"
2025-07-06 12:48:03,253 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/5R3iWsFSrI1cSLZxz "HTTP/1.1 200 OK"
2025-07-06 12:48:09,246 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/5R3iWsFSrI1cSLZxz "HTTP/1.1 200 OK"
2025-07-06 12:48:09,426 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/2lBxyb67mhmT40ieO/items "HTTP/1.1 200 OK"
2025-07-06 12:48:09,435 - database_service - WARNING - Supabase client not available
2025-07-06 12:48:09,436 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 12:48:09,437 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 12:48:09,438 - middleware - INFO -    Status: 200
2025-07-06 12:48:09,438 - middleware - INFO -    Processing time: 25.389s
2025-07-06 12:49:06,359 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 12:49:06,365 - config - INFO -  Supabase client initialized and tested successfully
2025-07-06 12:49:06,366 - config - INFO - Backend starting up...
2025-07-06 12:49:06,366 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 12:49:06,366 - config - INFO - .env file exists: True
2025-07-06 12:49:06,367 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 12:49:06,367 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 12:49:06,368 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 12:49:06,368 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 12:49:06,368 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 12:49:06,405 - database_service - INFO -  DatabaseService initialized with Supabase client
2025-07-06 12:49:25,461 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 12:49:25,465 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:49:25,466 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '69', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:49:25,475 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 12:49:25,477 - routes - INFO -    Websites: ['facebook.com']
2025-07-06 12:49:25,477 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 12:49:25,478 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 12:49:25,483 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 12:49:25,487 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 12:49:27,419 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 12:49:32,728 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/uKLwC7i0f4GsL7nM8 "HTTP/1.1 200 OK"
2025-07-06 12:49:38,703 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/uKLwC7i0f4GsL7nM8 "HTTP/1.1 200 OK"
2025-07-06 12:49:43,874 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/uKLwC7i0f4GsL7nM8 "HTTP/1.1 200 OK"
2025-07-06 12:49:50,082 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/uKLwC7i0f4GsL7nM8 "HTTP/1.1 200 OK"
2025-07-06 12:49:54,047 - middleware - INFO - [INCOMING] GET request to /api/test-db
2025-07-06 12:49:54,048 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:49:54,049 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:49:54,816 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 12:49:54,823 - database_service - INFO -  Database connection test successful. Found 0 users
2025-07-06 12:49:54,825 - middleware - INFO - [RESPONSE] GET /api/test-db
2025-07-06 12:49:54,825 - middleware - INFO -    Status: 200
2025-07-06 12:49:54,826 - middleware - INFO -    Processing time: 0.777s
2025-07-06 12:49:54,910 - middleware - INFO - [INCOMING] GET request to /favicon.ico
2025-07-06 12:49:54,910 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:49:54,911 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': 'image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'image', 'referer': 'http://localhost:8000/api/test-db', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:49:54,912 - middleware - INFO - [RESPONSE] GET /favicon.ico
2025-07-06 12:49:54,912 - middleware - INFO -    Status: 404
2025-07-06 12:49:54,912 - middleware - INFO -    Processing time: 0.003s
2025-07-06 12:49:56,196 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/uKLwC7i0f4GsL7nM8 "HTTP/1.1 200 OK"
2025-07-06 12:50:02,365 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/uKLwC7i0f4GsL7nM8 "HTTP/1.1 200 OK"
2025-07-06 12:50:07,546 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/uKLwC7i0f4GsL7nM8 "HTTP/1.1 200 OK"
2025-07-06 12:50:07,736 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/rbVm4dmd9tPqrS1hh/items "HTTP/1.1 200 OK"
2025-07-06 12:50:07,741 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 12:50:08,730 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 12:50:08,735 - database_service - INFO - Creating user record for: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 12:50:09,262 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 201 Created"
2025-07-06 12:50:09,263 - database_service - INFO - Created user record: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 12:50:09,265 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 12:50:09,531 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 12:50:09,533 - database_service - INFO - Analysis session saved successfully: d4e1c236-bd97-4a7b-b714-d7bbb30c6540
2025-07-06 12:50:09,534 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 12:50:09,540 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 12:50:09,541 - middleware - INFO -    Status: 200
2025-07-06 12:50:09,542 - middleware - INFO -    Processing time: 44.079s
2025-07-06 12:51:27,980 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-06 12:51:27,981 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:51:27,983 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:51:27,985 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-06 12:51:27,986 - middleware - INFO -    Status: 200
2025-07-06 12:51:27,986 - middleware - INFO -    Processing time: 0.004s
2025-07-06 12:51:27,992 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 12:51:27,993 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:51:27,994 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '196', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:51:27,996 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-06 12:51:27,997 - routes - INFO -    Websites: ['facebook.com', 'linkedin.com', 'instagram.com', 'x.com', 'tiktok.com', 'reddit.com', 'twitter.com', 'google.com', 't.co', 'discord.com', 'youtube.com']
2025-07-06 12:51:27,998 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 12:51:27,998 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 12:51:28,000 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 12:51:28,947 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-06 12:51:28,949 - database_service - INFO - Retrieved 1 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 12:51:30,454 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=facebook.com "HTTP/1.1 200 OK"
2025-07-06 12:51:31,018 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.d4e1c236-bd97-4a7b-b714-d7bbb30c6540 "HTTP/1.1 200 OK"
2025-07-06 12:51:31,021 - database_service - INFO - Analysis session updated successfully: d4e1c236-bd97-4a7b-b714-d7bbb30c6540
2025-07-06 12:51:31,023 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 12:51:31,023 - middleware - INFO -    Status: 200
2025-07-06 12:51:31,023 - middleware - INFO -    Processing time: 3.031s
2025-07-06 12:52:12,045 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-06 12:52:12,045 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:52:12,046 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:52:12,047 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-06 12:52:12,048 - middleware - INFO -    Status: 200
2025-07-06 12:52:12,048 - middleware - INFO -    Processing time: 0.002s
2025-07-06 12:52:12,056 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 12:52:12,056 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:52:12,057 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6627', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:52:12,060 - routes - INFO - [CHAT] Received chat message: What technologies do the top competitors use?
2025-07-06 12:52:12,064 - routes - INFO -    Analysis data size: 7044 characters
2025-07-06 12:52:12,065 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 12:52:14,877 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 12:52:20,369 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 12:52:20,372 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 12:52:20,378 - middleware - INFO -    Status: 200
2025-07-06 12:52:20,381 - middleware - INFO -    Processing time: 8.317s
2025-07-06 12:52:58,876 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 12:52:58,877 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:52:58,878 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6639', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:52:58,881 - routes - INFO - [CHAT] Received chat message: What are the growth opportunities based on this analysis?
2025-07-06 12:52:58,882 - routes - INFO -    Analysis data size: 7044 characters
2025-07-06 12:52:58,882 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 12:53:01,658 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 12:53:10,637 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 12:53:10,638 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 12:53:10,638 - middleware - INFO -    Status: 200
2025-07-06 12:53:10,638 - middleware - INFO -    Processing time: 11.762s
2025-07-06 13:06:07,919 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 13:06:07,927 - config - INFO -  Supabase client initialized and tested successfully
2025-07-06 13:06:07,928 - config - INFO - Backend starting up...
2025-07-06 13:06:07,928 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 13:06:07,929 - config - INFO - .env file exists: True
2025-07-06 13:06:07,929 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 13:06:07,929 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 13:06:07,929 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 13:06:07,929 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 13:06:07,929 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 13:06:07,989 - database_service - INFO -  DatabaseService initialized with Supabase client
2025-07-06 13:08:47,811 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 13:08:47,816 - config - INFO -  Supabase client initialized and tested successfully
2025-07-06 13:08:47,817 - config - INFO - Backend starting up...
2025-07-06 13:08:47,817 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 13:08:47,818 - config - INFO - .env file exists: True
2025-07-06 13:08:47,818 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 13:08:47,819 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 13:08:47,820 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 13:08:47,820 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 13:08:47,820 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 13:08:47,854 - database_service - INFO -  DatabaseService initialized with Supabase client
2025-07-06 13:09:05,137 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 13:09:05,138 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:09:05,138 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:09:05,138 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 13:09:05,139 - middleware - INFO -    Status: 200
2025-07-06 13:09:05,140 - middleware - INFO -    Processing time: 0.002s
2025-07-06 13:09:05,142 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 13:09:05,142 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:09:05,142 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '69', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:09:05,144 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 13:09:05,145 - routes - INFO -    Websites: ['facebook.com']
2025-07-06 13:09:05,145 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 13:09:05,146 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 13:09:05,146 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 13:09:05,146 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 13:09:06,613 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 13:09:12,207 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aSXPCAVufmwPWeSdY "HTTP/1.1 200 OK"
2025-07-06 13:09:17,369 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aSXPCAVufmwPWeSdY "HTTP/1.1 200 OK"
2025-07-06 13:09:22,543 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aSXPCAVufmwPWeSdY "HTTP/1.1 200 OK"
2025-07-06 13:09:28,271 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aSXPCAVufmwPWeSdY "HTTP/1.1 200 OK"
2025-07-06 13:09:33,428 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aSXPCAVufmwPWeSdY "HTTP/1.1 200 OK"
2025-07-06 13:09:33,625 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/4jLtehzfmXwEIk6ld/items "HTTP/1.1 200 OK"
2025-07-06 13:09:33,632 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:09:34,387 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 13:09:34,393 - database_service - INFO - User record already exists: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 13:09:34,394 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:09:34,930 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 13:09:34,932 - database_service - INFO - Analysis session saved successfully: c4c86978-d7e4-4edb-868b-f5d1cfd221b5
2025-07-06 13:09:34,932 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 13:09:34,934 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 13:09:34,935 - middleware - INFO -    Status: 200
2025-07-06 13:09:34,935 - middleware - INFO -    Processing time: 29.793s
2025-07-06 13:09:56,809 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-06 13:09:56,809 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:09:56,809 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:09:56,809 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-06 13:09:56,809 - middleware - INFO -    Status: 200
2025-07-06 13:09:56,809 - middleware - INFO -    Processing time: 0.001s
2025-07-06 13:09:56,812 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 13:09:56,812 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:09:56,813 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '196', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:09:56,814 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-06 13:09:56,814 - routes - INFO -    Websites: ['facebook.com', 'linkedin.com', 'instagram.com', 'x.com', 'tiktok.com', 'reddit.com', 'twitter.com', 'google.com', 't.co', 'discord.com', 'youtube.com']
2025-07-06 13:09:56,814 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 13:09:56,814 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 13:09:56,815 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:09:57,186 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-06 13:09:57,188 - database_service - INFO - Retrieved 1 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 13:09:59,586 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=facebook.com "HTTP/1.1 200 OK"
2025-07-06 13:10:00,144 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.c4c86978-d7e4-4edb-868b-f5d1cfd221b5 "HTTP/1.1 200 OK"
2025-07-06 13:10:00,145 - database_service - INFO - Analysis session updated successfully: c4c86978-d7e4-4edb-868b-f5d1cfd221b5
2025-07-06 13:10:00,147 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 13:10:00,147 - middleware - INFO -    Status: 200
2025-07-06 13:10:00,147 - middleware - INFO -    Processing time: 3.335s
2025-07-06 13:10:07,132 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-06 13:10:07,133 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:10:07,133 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:10:07,133 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-06 13:10:07,134 - middleware - INFO -    Status: 200
2025-07-06 13:10:07,134 - middleware - INFO -    Processing time: 0.001s
2025-07-06 13:10:07,139 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 13:10:07,139 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:10:07,140 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6679', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:10:07,144 - routes - INFO - [CHAT] Received chat message: What technologies do the top competitors use?
2025-07-06 13:10:07,145 - routes - INFO -    Analysis data size: 7044 characters
2025-07-06 13:10:07,145 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 13:10:09,739 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 13:10:17,664 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&id=eq.c4c86978-d7e4-4edb-868b-f5d1cfd221b5 "HTTP/1.1 200 OK"
2025-07-06 13:10:17,670 - database_service - INFO - Retrieved analysis session: c4c86978-d7e4-4edb-868b-f5d1cfd221b5
2025-07-06 13:10:18,182 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.c4c86978-d7e4-4edb-868b-f5d1cfd221b5 "HTTP/1.1 200 OK"
2025-07-06 13:10:18,185 - database_service - INFO - Analysis session updated successfully: c4c86978-d7e4-4edb-868b-f5d1cfd221b5
2025-07-06 13:10:18,186 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 13:10:18,190 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 13:10:18,193 - middleware - INFO -    Status: 200
2025-07-06 13:10:18,193 - middleware - INFO -    Processing time: 11.052s
2025-07-06 13:10:39,425 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:39,426 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:10:39,427 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:10:39,429 - database_service - INFO - Generated UUID 58e0391b-dd2a-5bea-8b14-5ec943ffc1f0 for user_id: user-1751803839423-22i29m8ta
2025-07-06 13:10:40,265 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.58e0391b-dd2a-5bea-8b14-5ec943ffc1f0&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 13:10:40,267 - middleware - INFO - [RESPONSE] GET /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:40,268 - middleware - INFO -    Status: 200
2025-07-06 13:10:40,268 - middleware - INFO -    Processing time: 0.841s
2025-07-06 13:10:40,271 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:40,272 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:10:40,272 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:10:40,273 - database_service - INFO - Generated UUID 58e0391b-dd2a-5bea-8b14-5ec943ffc1f0 for user_id: user-1751803839423-22i29m8ta
2025-07-06 13:10:40,773 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.58e0391b-dd2a-5bea-8b14-5ec943ffc1f0&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 13:10:40,774 - middleware - INFO - [RESPONSE] GET /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:40,774 - middleware - INFO -    Status: 200
2025-07-06 13:10:40,774 - middleware - INFO -    Processing time: 0.503s
2025-07-06 13:10:52,209 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:52,209 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:10:52,209 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:10:52,210 - database_service - INFO - Generated UUID 58e0391b-dd2a-5bea-8b14-5ec943ffc1f0 for user_id: user-1751803839423-22i29m8ta
2025-07-06 13:10:52,855 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.58e0391b-dd2a-5bea-8b14-5ec943ffc1f0&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 13:10:52,856 - middleware - INFO - [RESPONSE] GET /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:52,857 - middleware - INFO -    Status: 200
2025-07-06 13:10:52,857 - middleware - INFO -    Processing time: 0.647s
2025-07-06 13:10:52,859 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:52,860 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:10:52,860 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:10:52,861 - database_service - INFO - Generated UUID 58e0391b-dd2a-5bea-8b14-5ec943ffc1f0 for user_id: user-1751803839423-22i29m8ta
2025-07-06 13:10:53,098 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.58e0391b-dd2a-5bea-8b14-5ec943ffc1f0&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 13:10:53,098 - middleware - INFO - [RESPONSE] GET /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:53,099 - middleware - INFO -    Status: 200
2025-07-06 13:10:53,099 - middleware - INFO -    Processing time: 0.239s
2025-07-06 13:10:54,687 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:54,687 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:10:54,687 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:10:54,688 - database_service - INFO - Generated UUID 58e0391b-dd2a-5bea-8b14-5ec943ffc1f0 for user_id: user-1751803839423-22i29m8ta
2025-07-06 13:10:55,185 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.58e0391b-dd2a-5bea-8b14-5ec943ffc1f0&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 13:10:55,186 - middleware - INFO - [RESPONSE] GET /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:55,186 - middleware - INFO -    Status: 200
2025-07-06 13:10:55,187 - middleware - INFO -    Processing time: 0.499s
2025-07-06 13:10:55,189 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:55,189 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:10:55,189 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:10:55,190 - database_service - INFO - Generated UUID 58e0391b-dd2a-5bea-8b14-5ec943ffc1f0 for user_id: user-1751803839423-22i29m8ta
2025-07-06 13:10:55,422 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.58e0391b-dd2a-5bea-8b14-5ec943ffc1f0&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 13:10:55,423 - middleware - INFO - [RESPONSE] GET /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:55,423 - middleware - INFO -    Status: 200
2025-07-06 13:10:55,424 - middleware - INFO -    Processing time: 0.235s
2025-07-06 13:11:13,713 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 13:11:13,716 - config - INFO -  Supabase client initialized and tested successfully
2025-07-06 13:11:13,717 - config - INFO - Backend starting up...
2025-07-06 13:11:13,717 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 13:11:13,717 - config - INFO - .env file exists: True
2025-07-06 13:11:13,718 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 13:11:13,718 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 13:11:13,718 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 13:11:13,718 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 13:11:13,718 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 13:11:13,748 - database_service - INFO -  DatabaseService initialized with Supabase client
2025-07-06 13:25:46,991 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 13:25:46,997 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:25:46,998 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:25:47,004 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 13:25:47,006 - middleware - INFO -    Status: 200
2025-07-06 13:25:47,011 - middleware - INFO -    Processing time: 0.014s
2025-07-06 13:25:47,027 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 13:25:47,029 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:25:47,033 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '69', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:25:47,056 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 13:25:47,060 - routes - INFO -    Websites: ['facebook.com']
2025-07-06 13:25:47,068 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 13:25:47,071 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 13:25:47,078 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 13:25:47,079 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 13:25:49,521 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 13:25:55,566 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Z7pvFgJpIyIhvLhVq "HTTP/1.1 200 OK"
2025-07-06 13:26:01,386 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Z7pvFgJpIyIhvLhVq "HTTP/1.1 200 OK"
2025-07-06 13:26:07,338 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Z7pvFgJpIyIhvLhVq "HTTP/1.1 200 OK"
2025-07-06 13:26:12,521 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Z7pvFgJpIyIhvLhVq "HTTP/1.1 200 OK"
2025-07-06 13:26:18,173 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Z7pvFgJpIyIhvLhVq "HTTP/1.1 200 OK"
2025-07-06 13:26:18,513 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/34FaBVsU3FuyfNyeB/items "HTTP/1.1 200 OK"
2025-07-06 13:26:18,546 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:26:19,543 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 13:26:19,549 - database_service - INFO - User record already exists: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 13:26:19,555 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:26:19,821 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 13:26:19,823 - database_service - INFO - Analysis session saved successfully: 9a279a94-b1c4-426e-bdc1-e14560f2c745
2025-07-06 13:26:19,824 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 13:26:19,853 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 13:26:19,854 - middleware - INFO -    Status: 200
2025-07-06 13:26:19,854 - middleware - INFO -    Processing time: 32.826s
2025-07-06 13:26:34,293 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-06 13:26:34,294 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:26:34,295 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:26:34,297 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-06 13:26:34,298 - middleware - INFO -    Status: 200
2025-07-06 13:26:34,299 - middleware - INFO -    Processing time: 0.004s
2025-07-06 13:26:34,308 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 13:26:34,310 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:26:34,311 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '196', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:26:34,316 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-06 13:26:34,316 - routes - INFO -    Websites: ['facebook.com', 'linkedin.com', 'instagram.com', 'x.com', 'tiktok.com', 'reddit.com', 'twitter.com', 'google.com', 't.co', 'discord.com', 'youtube.com']
2025-07-06 13:26:34,320 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 13:26:34,321 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 13:26:34,323 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:26:34,723 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-06 13:26:34,729 - database_service - INFO - Retrieved 1 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 13:26:36,226 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=facebook.com "HTTP/1.1 200 OK"
2025-07-06 13:26:36,840 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.9a279a94-b1c4-426e-bdc1-e14560f2c745 "HTTP/1.1 200 OK"
2025-07-06 13:26:36,844 - database_service - INFO - Analysis session updated successfully: 9a279a94-b1c4-426e-bdc1-e14560f2c745
2025-07-06 13:26:36,848 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 13:26:36,849 - middleware - INFO -    Status: 200
2025-07-06 13:26:36,849 - middleware - INFO -    Processing time: 2.540s
2025-07-06 13:26:44,249 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-06 13:26:44,250 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:26:44,254 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:26:44,258 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-06 13:26:44,259 - middleware - INFO -    Status: 200
2025-07-06 13:26:44,260 - middleware - INFO -    Processing time: 0.008s
2025-07-06 13:26:44,276 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 13:26:44,277 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:26:44,278 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6639', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:26:44,310 - routes - INFO - [CHAT] Received chat message: What are the growth opportunities based on this analysis?
2025-07-06 13:26:44,311 - routes - INFO -    Analysis data size: 7044 characters
2025-07-06 13:26:44,312 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 13:26:49,045 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 13:26:59,414 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 13:26:59,416 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 13:26:59,417 - middleware - INFO -    Status: 200
2025-07-06 13:26:59,417 - middleware - INFO -    Processing time: 15.141s
2025-07-06 13:36:06,428 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 13:36:06,433 - config - INFO -  Supabase client initialized and tested successfully
2025-07-06 13:36:06,436 - config - INFO - Backend starting up...
2025-07-06 13:36:06,437 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 13:36:06,438 - config - INFO - .env file exists: True
2025-07-06 13:36:06,438 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 13:36:06,439 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 13:36:06,439 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 13:36:06,439 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 13:36:06,440 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 13:36:06,477 - database_service - INFO -  DatabaseService initialized with Supabase client
2025-07-06 13:38:40,515 - middleware - INFO - [INCOMING] GET request to /api/test-db
2025-07-06 13:38:40,517 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:38:40,517 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'cache-control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:38:41,735 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 13:38:41,743 - database_service - INFO -  Database connection test successful. Found 1 users
2025-07-06 13:38:41,745 - middleware - INFO - [RESPONSE] GET /api/test-db
2025-07-06 13:38:41,746 - middleware - INFO -    Status: 200
2025-07-06 13:38:41,747 - middleware - INFO -    Processing time: 1.229s
2025-07-06 13:39:06,880 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 13:39:06,881 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:39:06,882 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:39:06,883 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 13:39:06,884 - middleware - INFO -    Status: 200
2025-07-06 13:39:06,886 - middleware - INFO -    Processing time: 0.003s
2025-07-06 13:39:06,894 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 13:39:06,894 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:39:06,896 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '69', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:39:06,903 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 13:39:06,903 - routes - INFO -    Websites: ['facebook.com']
2025-07-06 13:39:06,905 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 13:39:06,905 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 13:39:06,906 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 13:39:06,908 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 13:39:08,560 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 13:39:14,207 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/75W0fGPEBX5N7Zdfq "HTTP/1.1 200 OK"
2025-07-06 13:39:19,413 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/75W0fGPEBX5N7Zdfq "HTTP/1.1 200 OK"
2025-07-06 13:39:25,122 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/75W0fGPEBX5N7Zdfq "HTTP/1.1 200 OK"
2025-07-06 13:39:30,767 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/75W0fGPEBX5N7Zdfq "HTTP/1.1 200 OK"
2025-07-06 13:39:36,833 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/75W0fGPEBX5N7Zdfq "HTTP/1.1 200 OK"
2025-07-06 13:39:42,466 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/75W0fGPEBX5N7Zdfq "HTTP/1.1 200 OK"
2025-07-06 13:39:42,663 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/nHhyurL746P00EiTV/items "HTTP/1.1 200 OK"
2025-07-06 13:39:42,681 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:39:43,474 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 13:39:43,493 - database_service - INFO - User record already exists: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 13:39:43,494 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:39:44,065 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 13:39:44,072 - database_service - INFO - Analysis session saved successfully: d5964af5-be7f-4186-8309-3e827e7a7807
2025-07-06 13:39:44,074 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 13:39:44,081 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 13:39:44,082 - middleware - INFO -    Status: 200
2025-07-06 13:39:44,083 - middleware - INFO -    Processing time: 37.187s
2025-07-06 13:40:07,163 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-06 13:40:07,164 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:40:07,166 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:40:07,169 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-06 13:40:07,170 - middleware - INFO -    Status: 200
2025-07-06 13:40:07,172 - middleware - INFO -    Processing time: 0.006s
2025-07-06 13:40:07,180 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 13:40:07,181 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:40:07,182 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '196', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:40:07,188 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-06 13:40:07,189 - routes - INFO -    Websites: ['facebook.com', 'linkedin.com', 'instagram.com', 'x.com', 'tiktok.com', 'reddit.com', 'twitter.com', 'google.com', 't.co', 'discord.com', 'youtube.com']
2025-07-06 13:40:07,190 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 13:40:07,191 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 13:40:07,194 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:40:07,956 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-06 13:40:07,962 - database_service - INFO - Retrieved 1 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 13:40:09,694 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=facebook.com "HTTP/1.1 200 OK"
2025-07-06 13:40:10,249 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.d5964af5-be7f-4186-8309-3e827e7a7807 "HTTP/1.1 200 OK"
2025-07-06 13:40:10,254 - database_service - INFO - Analysis session updated successfully: d5964af5-be7f-4186-8309-3e827e7a7807
2025-07-06 13:40:10,261 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 13:40:10,262 - middleware - INFO -    Status: 200
2025-07-06 13:40:10,264 - middleware - INFO -    Processing time: 3.080s
2025-07-06 13:40:21,205 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-06 13:40:21,211 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:40:21,212 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:40:21,213 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-06 13:40:21,216 - middleware - INFO -    Status: 200
2025-07-06 13:40:21,218 - middleware - INFO -    Processing time: 0.008s
2025-07-06 13:40:21,225 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 13:40:21,232 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:40:21,233 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6630', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:40:21,264 - routes - INFO - [CHAT] Received chat message: How does this domain compare to its competitors?
2025-07-06 13:40:21,265 - routes - INFO -    Analysis data size: 7044 characters
2025-07-06 13:40:21,274 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 13:40:24,030 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 13:40:33,681 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 13:40:33,687 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 13:40:33,687 - middleware - INFO -    Status: 200
2025-07-06 13:40:33,688 - middleware - INFO -    Processing time: 12.462s
2025-07-06 13:50:44,055 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 13:50:44,059 - config - INFO -  Supabase client initialized and tested successfully
2025-07-06 13:50:44,060 - config - INFO - Backend starting up...
2025-07-06 13:50:44,060 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 13:50:44,060 - config - INFO - .env file exists: True
2025-07-06 13:50:44,060 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 13:50:44,060 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 13:50:44,061 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 13:50:44,061 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 13:50:44,061 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 13:50:44,132 - database_service - INFO -  DatabaseService initialized with Supabase client
2025-07-06 13:51:37,179 - middleware - INFO - [INCOMING] GET request to /api/test-db
2025-07-06 13:51:37,180 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:51:37,180 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'cache-control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:51:37,946 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 13:51:37,949 - database_service - INFO -  Database connection test successful. Found 1 users
2025-07-06 13:51:37,951 - middleware - INFO - [RESPONSE] GET /api/test-db
2025-07-06 13:51:37,951 - middleware - INFO -    Status: 200
2025-07-06 13:51:37,952 - middleware - INFO -    Processing time: 0.772s
2025-07-06 13:51:55,024 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 13:51:55,024 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:51:55,025 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:51:55,027 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 13:51:55,028 - middleware - INFO -    Status: 200
2025-07-06 13:51:55,029 - middleware - INFO -    Processing time: 0.003s
2025-07-06 13:51:55,038 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 13:51:55,040 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:51:55,040 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '69', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:51:55,046 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 13:51:55,047 - routes - INFO -    Websites: ['linkedin.com']
2025-07-06 13:51:55,047 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 13:51:55,049 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 13:51:55,050 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 13:51:55,051 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 13:51:56,516 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 13:52:02,270 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/fJUFzrdAYfXBqUFgv "HTTP/1.1 200 OK"
2025-07-06 13:52:08,044 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/fJUFzrdAYfXBqUFgv "HTTP/1.1 200 OK"
2025-07-06 13:52:14,102 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/fJUFzrdAYfXBqUFgv "HTTP/1.1 200 OK"
2025-07-06 13:52:19,782 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/fJUFzrdAYfXBqUFgv "HTTP/1.1 200 OK"
2025-07-06 13:52:25,483 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/fJUFzrdAYfXBqUFgv "HTTP/1.1 200 OK"
2025-07-06 13:52:25,662 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/rDD1lbPa68439iS3C/items "HTTP/1.1 200 OK"
2025-07-06 13:52:25,677 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:52:26,369 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 13:52:26,376 - database_service - INFO - User record already exists: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 13:52:26,378 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:52:27,294 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 13:52:27,297 - database_service - INFO - Analysis session saved successfully: 2ef720a4-e181-47a5-92e1-5a1867ec3b23
2025-07-06 13:52:27,298 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 13:52:27,301 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 13:52:27,302 - middleware - INFO -    Status: 200
2025-07-06 13:52:27,304 - middleware - INFO -    Processing time: 32.262s
2025-07-06 13:52:49,080 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-06 13:52:49,081 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:52:49,082 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:52:49,082 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-06 13:52:49,082 - middleware - INFO -    Status: 200
2025-07-06 13:52:49,083 - middleware - INFO -    Processing time: 0.002s
2025-07-06 13:52:49,085 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 13:52:49,085 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:52:49,086 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '201', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:52:49,088 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-06 13:52:49,088 - routes - INFO -    Websites: ['linkedin.com', 'facebook.com', 'instagram.com', 'x.com', 'twitter.com', 'reddit.com', 'tiktok.com', 't.co', 'pinterest.com', 'discord.com', 'messenger.com']
2025-07-06 13:52:49,088 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 13:52:49,089 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 13:52:49,090 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:52:49,818 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-06 13:52:49,823 - database_service - INFO - Retrieved 1 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 13:52:51,048 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=linkedin.com "HTTP/1.1 200 OK"
2025-07-06 13:52:51,758 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.2ef720a4-e181-47a5-92e1-5a1867ec3b23 "HTTP/1.1 200 OK"
2025-07-06 13:52:51,762 - database_service - INFO - Analysis session updated successfully: 2ef720a4-e181-47a5-92e1-5a1867ec3b23
2025-07-06 13:52:51,768 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 13:52:51,770 - middleware - INFO -    Status: 200
2025-07-06 13:52:51,773 - middleware - INFO -    Processing time: 2.684s
2025-07-06 13:53:00,296 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-06 13:53:00,297 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:53:00,297 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:53:00,299 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-06 13:53:00,300 - middleware - INFO -    Status: 200
2025-07-06 13:53:00,300 - middleware - INFO -    Processing time: 0.004s
2025-07-06 13:53:00,312 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 13:53:00,313 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:53:00,314 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6942', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:53:00,318 - routes - INFO - [CHAT] Received chat message: How does this domain compare to its competitors?
2025-07-06 13:53:00,323 - routes - INFO -    Analysis data size: 7328 characters
2025-07-06 13:53:00,325 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 13:53:02,348 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 13:53:06,194 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&id=eq.2ef720a4-e181-47a5-92e1-5a1867ec3b23 "HTTP/1.1 200 OK"
2025-07-06 13:53:06,202 - database_service - INFO - Retrieved analysis session: 2ef720a4-e181-47a5-92e1-5a1867ec3b23
2025-07-06 13:53:06,529 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.2ef720a4-e181-47a5-92e1-5a1867ec3b23 "HTTP/1.1 200 OK"
2025-07-06 13:53:06,533 - database_service - INFO - Analysis session updated successfully: 2ef720a4-e181-47a5-92e1-5a1867ec3b23
2025-07-06 13:53:06,533 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 13:53:06,538 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 13:53:06,540 - middleware - INFO -    Status: 200
2025-07-06 13:53:06,541 - middleware - INFO -    Processing time: 6.227s
2025-07-06 13:53:08,364 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 13:53:08,365 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:53:08,366 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6945', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:53:08,368 - routes - INFO - [CHAT] Received chat message: What are the main traffic sources for this website?
2025-07-06 13:53:08,368 - routes - INFO -    Analysis data size: 7328 characters
2025-07-06 13:53:08,369 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 13:53:10,406 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 13:53:13,421 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&id=eq.2ef720a4-e181-47a5-92e1-5a1867ec3b23 "HTTP/1.1 200 OK"
2025-07-06 13:53:13,424 - database_service - INFO - Retrieved analysis session: 2ef720a4-e181-47a5-92e1-5a1867ec3b23
2025-07-06 13:53:14,092 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.2ef720a4-e181-47a5-92e1-5a1867ec3b23 "HTTP/1.1 200 OK"
2025-07-06 13:53:14,094 - database_service - INFO - Analysis session updated successfully: 2ef720a4-e181-47a5-92e1-5a1867ec3b23
2025-07-06 13:53:14,094 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 13:53:14,094 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 13:53:14,095 - middleware - INFO -    Status: 200
2025-07-06 13:53:14,095 - middleware - INFO -    Processing time: 5.730s
2025-07-06 13:53:35,415 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 13:53:35,419 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:53:35,419 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:53:35,421 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:53:35,797 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 13:53:35,807 - database_service - INFO - Retrieved 5 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 13:53:35,818 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 13:53:35,820 - middleware - INFO -    Status: 200
2025-07-06 13:53:35,820 - middleware - INFO -    Processing time: 0.403s
2025-07-06 13:53:35,823 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 13:53:35,823 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:53:35,824 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:53:35,824 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:53:36,389 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 13:53:36,393 - database_service - INFO - Retrieved 5 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 13:53:36,401 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 13:53:36,403 - middleware - INFO -    Status: 200
2025-07-06 13:53:36,403 - middleware - INFO -    Processing time: 0.578s
2025-07-06 13:54:06,278 - middleware - INFO - [INCOMING] OPTIONS request to /api/session/9a279a94-b1c4-426e-bdc1-e14560f2c745
2025-07-06 13:54:06,278 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:54:06,278 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'DELETE', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:54:06,280 - middleware - INFO - [RESPONSE] OPTIONS /api/session/9a279a94-b1c4-426e-bdc1-e14560f2c745
2025-07-06 13:54:06,281 - middleware - INFO -    Status: 200
2025-07-06 13:54:06,282 - middleware - INFO -    Processing time: 0.002s
2025-07-06 13:54:06,286 - middleware - INFO - [INCOMING] DELETE request to /api/session/9a279a94-b1c4-426e-bdc1-e14560f2c745
2025-07-06 13:54:06,286 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:54:06,286 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:54:06,288 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:54:07,309 - httpx - INFO - HTTP Request: DELETE https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.9a279a94-b1c4-426e-bdc1-e14560f2c745&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 13:54:07,310 - database_service - INFO - Analysis session deleted: 9a279a94-b1c4-426e-bdc1-e14560f2c745
2025-07-06 13:54:07,313 - middleware - INFO - [RESPONSE] DELETE /api/session/9a279a94-b1c4-426e-bdc1-e14560f2c745
2025-07-06 13:54:07,314 - middleware - INFO -    Status: 200
2025-07-06 13:54:07,314 - middleware - INFO -    Processing time: 1.027s
2025-07-06 14:01:59,375 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 14:01:59,376 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:01:59,377 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:01:59,378 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 14:01:59,379 - middleware - INFO -    Status: 200
2025-07-06 14:01:59,380 - middleware - INFO -    Processing time: 0.003s
2025-07-06 14:01:59,392 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 14:01:59,393 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:01:59,395 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '81', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:01:59,397 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 14:01:59,398 - routes - INFO -    Websites: ['https://www.youtube.com/']
2025-07-06 14:01:59,398 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 14:01:59,399 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 14:01:59,399 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 14:01:59,400 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 14:02:01,039 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 14:02:06,672 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/BWTTRl3IpL7daGKcf "HTTP/1.1 200 OK"
2025-07-06 14:02:12,392 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/BWTTRl3IpL7daGKcf "HTTP/1.1 200 OK"
2025-07-06 14:02:18,040 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/BWTTRl3IpL7daGKcf "HTTP/1.1 200 OK"
2025-07-06 14:02:23,882 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/BWTTRl3IpL7daGKcf "HTTP/1.1 200 OK"
2025-07-06 14:02:29,538 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/BWTTRl3IpL7daGKcf "HTTP/1.1 200 OK"
2025-07-06 14:02:34,727 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/BWTTRl3IpL7daGKcf "HTTP/1.1 200 OK"
2025-07-06 14:02:40,358 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/BWTTRl3IpL7daGKcf "HTTP/1.1 200 OK"
2025-07-06 14:02:46,343 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/BWTTRl3IpL7daGKcf "HTTP/1.1 200 OK"
2025-07-06 14:02:46,587 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/6aTAadQYWwRoEtm66/items "HTTP/1.1 200 OK"
2025-07-06 14:02:46,629 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:02:47,641 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 14:02:47,647 - database_service - INFO - User record already exists: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:02:47,648 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:02:48,244 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 14:02:48,246 - database_service - INFO - Analysis session saved successfully: e8cd2b1a-5593-42f2-820a-87743dc78c68
2025-07-06 14:02:48,246 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 14:02:48,248 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 14:02:48,249 - middleware - INFO -    Status: 200
2025-07-06 14:02:48,250 - middleware - INFO -    Processing time: 48.856s
2025-07-06 14:08:10,054 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 14:08:10,060 - config - INFO -  Supabase client initialized and tested successfully
2025-07-06 14:08:10,062 - config - INFO - Backend starting up...
2025-07-06 14:08:10,063 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 14:08:10,063 - config - INFO - .env file exists: True
2025-07-06 14:08:10,064 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 14:08:10,064 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 14:08:10,064 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 14:08:10,065 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 14:08:10,065 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 14:08:10,138 - database_service - INFO -  DatabaseService initialized with Supabase client
2025-07-06 14:09:23,491 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 14:09:23,496 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:09:23,497 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '81', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:09:23,510 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 14:09:23,513 - routes - INFO -    Websites: ['https://www.youtube.com/']
2025-07-06 14:09:23,514 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 14:09:23,516 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 14:09:23,521 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 14:09:23,523 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 14:09:25,355 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 14:09:31,120 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/28e82MdXL0yrFgHIq "HTTP/1.1 200 OK"
2025-07-06 14:09:37,411 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/28e82MdXL0yrFgHIq "HTTP/1.1 200 OK"
2025-07-06 14:09:43,957 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/28e82MdXL0yrFgHIq "HTTP/1.1 200 OK"
2025-07-06 14:09:49,628 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/28e82MdXL0yrFgHIq "HTTP/1.1 200 OK"
2025-07-06 14:09:54,875 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/28e82MdXL0yrFgHIq "HTTP/1.1 200 OK"
2025-07-06 14:09:55,058 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/R7YQ01TdzdeA2tP6R/items "HTTP/1.1 200 OK"
2025-07-06 14:09:55,064 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:09:55,979 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 14:09:55,989 - database_service - INFO - User record already exists: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:09:55,991 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:09:56,629 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 14:09:56,631 - database_service - INFO - Analysis session saved successfully: 42256dc0-1a43-44f0-a808-3e1872afd84d
2025-07-06 14:09:56,632 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 14:09:56,639 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 14:09:56,640 - middleware - INFO -    Status: 200
2025-07-06 14:09:56,641 - middleware - INFO -    Processing time: 33.147s
2025-07-06 14:24:51,536 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 14:24:51,541 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:24:51,541 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:24:51,543 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 14:24:51,544 - middleware - INFO -    Status: 200
2025-07-06 14:24:51,544 - middleware - INFO -    Processing time: 0.007s
2025-07-06 14:24:51,547 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 14:24:51,547 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:24:51,548 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '81', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:24:51,549 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 14:24:51,550 - routes - INFO -    Websites: ['https://www.netflix.com/']
2025-07-06 14:24:51,551 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 14:24:51,551 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 14:24:51,553 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 14:24:51,553 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 14:24:53,136 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 14:24:58,556 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/qz6AWJIiw2eD9Rfrg "HTTP/1.1 200 OK"
2025-07-06 14:25:04,512 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/qz6AWJIiw2eD9Rfrg "HTTP/1.1 200 OK"
2025-07-06 14:25:10,259 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/qz6AWJIiw2eD9Rfrg "HTTP/1.1 200 OK"
2025-07-06 14:25:15,654 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/qz6AWJIiw2eD9Rfrg "HTTP/1.1 200 OK"
2025-07-06 14:25:21,341 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/qz6AWJIiw2eD9Rfrg "HTTP/1.1 200 OK"
2025-07-06 14:25:27,528 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/qz6AWJIiw2eD9Rfrg "HTTP/1.1 200 OK"
2025-07-06 14:25:27,826 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/cUXVDA9B9uSiXH5si/items "HTTP/1.1 200 OK"
2025-07-06 14:25:27,872 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:25:28,773 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 14:25:28,774 - database_service - INFO - User record already exists: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:25:28,776 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:25:29,270 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 14:25:29,272 - database_service - INFO - Analysis session saved successfully: e6c236db-8e55-40ec-87cc-7f78521d37e3
2025-07-06 14:25:29,272 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 14:25:29,303 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 14:25:29,306 - middleware - INFO -    Status: 200
2025-07-06 14:25:29,309 - middleware - INFO -    Processing time: 37.756s
2025-07-06 14:26:18,464 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-06 14:26:18,464 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:26:18,465 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:26:18,466 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-06 14:26:18,466 - middleware - INFO -    Status: 200
2025-07-06 14:26:18,467 - middleware - INFO -    Processing time: 0.002s
2025-07-06 14:26:18,475 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 14:26:18,475 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:26:18,476 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '270', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:26:18,480 - routes - INFO - [CHAT] Received chat message: What are the growth opportunities based on this analysis?
2025-07-06 14:26:18,481 - routes - INFO -    Analysis data size: 139 characters
2025-07-06 14:26:18,481 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 14:26:20,781 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 14:26:28,761 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&id=eq.e6c236db-8e55-40ec-87cc-7f78521d37e3 "HTTP/1.1 200 OK"
2025-07-06 14:26:28,762 - database_service - INFO - Retrieved analysis session: e6c236db-8e55-40ec-87cc-7f78521d37e3
2025-07-06 14:26:29,284 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.e6c236db-8e55-40ec-87cc-7f78521d37e3 "HTTP/1.1 200 OK"
2025-07-06 14:26:29,286 - database_service - INFO - Analysis session updated successfully: e6c236db-8e55-40ec-87cc-7f78521d37e3
2025-07-06 14:26:29,286 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 14:26:29,287 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 14:26:29,287 - middleware - INFO -    Status: 200
2025-07-06 14:26:29,287 - middleware - INFO -    Processing time: 10.812s
2025-07-06 14:26:54,444 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:26:54,446 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:26:54,446 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:26:54,449 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:26:55,211 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:26:55,216 - database_service - INFO - Retrieved 7 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:26:55,230 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:26:55,231 - middleware - INFO -    Status: 200
2025-07-06 14:26:55,231 - middleware - INFO -    Processing time: 0.785s
2025-07-06 14:26:55,239 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:26:55,240 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:26:55,240 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:26:55,242 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:26:55,488 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:26:55,496 - database_service - INFO - Retrieved 7 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:26:55,541 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:26:55,542 - middleware - INFO -    Status: 200
2025-07-06 14:26:55,542 - middleware - INFO -    Processing time: 0.302s
2025-07-06 14:27:13,347 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:27:13,348 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:27:13,348 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:27:13,349 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:27:14,288 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:27:14,296 - database_service - INFO - Retrieved 7 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:27:14,306 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:27:14,307 - middleware - INFO -    Status: 200
2025-07-06 14:27:14,307 - middleware - INFO -    Processing time: 0.960s
2025-07-06 14:27:14,312 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:27:14,312 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:27:14,314 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:27:14,315 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:27:14,821 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:27:14,841 - database_service - INFO - Retrieved 7 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:27:14,851 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:27:14,855 - middleware - INFO -    Status: 200
2025-07-06 14:27:14,856 - middleware - INFO -    Processing time: 0.539s
2025-07-06 14:27:22,491 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:27:22,491 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:27:22,491 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:27:22,492 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:27:23,541 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:27:23,547 - database_service - INFO - Retrieved 7 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:27:23,559 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:27:23,560 - middleware - INFO -    Status: 200
2025-07-06 14:27:23,562 - middleware - INFO -    Processing time: 1.068s
2025-07-06 14:27:23,566 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:27:23,569 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:27:23,569 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:27:23,571 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:27:23,799 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:27:23,809 - database_service - INFO - Retrieved 7 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:27:23,820 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:27:23,821 - middleware - INFO -    Status: 200
2025-07-06 14:27:23,821 - middleware - INFO -    Processing time: 0.254s
2025-07-06 14:32:19,113 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 14:32:19,113 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:32:19,114 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '78', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:32:19,115 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 14:32:19,115 - routes - INFO -    Websites: ['https://shoptawa.com/']
2025-07-06 14:32:19,116 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 14:32:19,116 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 14:32:19,119 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 14:32:19,120 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 14:32:21,542 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 14:32:26,871 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/PmyMW2E8zYSvGNct0 "HTTP/1.1 200 OK"
2025-07-06 14:32:32,275 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/PmyMW2E8zYSvGNct0 "HTTP/1.1 200 OK"
2025-07-06 14:32:37,518 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/PmyMW2E8zYSvGNct0 "HTTP/1.1 200 OK"
2025-07-06 14:32:43,370 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/PmyMW2E8zYSvGNct0 "HTTP/1.1 200 OK"
2025-07-06 14:32:48,558 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/PmyMW2E8zYSvGNct0 "HTTP/1.1 200 OK"
2025-07-06 14:32:48,729 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/NQmJJm8irai8rflJS/items "HTTP/1.1 200 OK"
2025-07-06 14:32:48,732 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:32:49,892 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 14:32:49,899 - database_service - INFO - User record already exists: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:32:49,899 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:32:50,237 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 14:32:50,239 - database_service - INFO - Analysis session saved successfully: dee5fdb2-a51f-460d-a36e-e7edfa90ba72
2025-07-06 14:32:50,240 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 14:32:50,240 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 14:32:50,241 - middleware - INFO -    Status: 200
2025-07-06 14:32:50,241 - middleware - INFO -    Processing time: 31.127s
2025-07-06 14:33:55,490 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 14:33:55,490 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:33:55,491 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '255', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:33:55,493 - routes - INFO - [CHAT] Received chat message: What technologies do the top competitors use?
2025-07-06 14:33:55,493 - routes - INFO -    Analysis data size: 136 characters
2025-07-06 14:33:55,494 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 14:33:58,123 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 14:34:03,211 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&id=eq.dee5fdb2-a51f-460d-a36e-e7edfa90ba72 "HTTP/1.1 200 OK"
2025-07-06 14:34:03,212 - database_service - INFO - Retrieved analysis session: dee5fdb2-a51f-460d-a36e-e7edfa90ba72
2025-07-06 14:34:03,448 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.dee5fdb2-a51f-460d-a36e-e7edfa90ba72 "HTTP/1.1 200 OK"
2025-07-06 14:34:03,449 - database_service - INFO - Analysis session updated successfully: dee5fdb2-a51f-460d-a36e-e7edfa90ba72
2025-07-06 14:34:03,450 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 14:34:03,452 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 14:34:03,452 - middleware - INFO -    Status: 200
2025-07-06 14:34:03,453 - middleware - INFO -    Processing time: 7.962s
2025-07-06 14:34:23,359 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:34:23,360 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:34:23,360 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:34:23,362 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:34:23,989 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:34:24,000 - database_service - INFO - Retrieved 8 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:34:24,012 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:34:24,013 - middleware - INFO -    Status: 200
2025-07-06 14:34:24,013 - middleware - INFO -    Processing time: 0.652s
2025-07-06 14:34:24,016 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:34:24,016 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:34:24,017 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:34:24,018 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:34:24,616 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:34:24,620 - database_service - INFO - Retrieved 8 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:34:24,636 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:34:24,643 - middleware - INFO -    Status: 200
2025-07-06 14:34:24,645 - middleware - INFO -    Processing time: 0.620s
2025-07-06 14:34:43,561 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:34:43,562 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:34:43,562 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:34:43,563 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:34:44,354 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:34:44,362 - database_service - INFO - Retrieved 8 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:34:44,371 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:34:44,372 - middleware - INFO -    Status: 200
2025-07-06 14:34:44,372 - middleware - INFO -    Processing time: 0.810s
2025-07-06 14:34:44,375 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:34:44,375 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:34:44,376 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:34:44,376 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:34:44,724 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:34:44,735 - database_service - INFO - Retrieved 8 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:34:44,745 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:34:44,746 - middleware - INFO -    Status: 200
2025-07-06 14:34:44,747 - middleware - INFO -    Processing time: 0.370s
2025-07-06 14:37:06,878 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 14:37:06,884 - config - INFO -  Supabase client initialized and tested successfully
2025-07-06 14:37:06,885 - config - INFO - Backend starting up...
2025-07-06 14:37:06,886 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 14:37:06,887 - config - INFO - .env file exists: True
2025-07-06 14:37:06,888 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 14:37:06,889 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 14:37:06,889 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 14:37:06,890 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 14:37:06,890 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 14:37:06,937 - database_service - INFO -  DatabaseService initialized with Supabase client
2025-07-06 14:44:31,817 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:44:31,820 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:44:31,820 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:44:31,825 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:44:32,716 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:44:32,738 - database_service - INFO - Retrieved 8 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:44:32,750 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:44:32,751 - middleware - INFO -    Status: 200
2025-07-06 14:44:32,752 - middleware - INFO -    Processing time: 0.935s
2025-07-06 14:44:32,761 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:44:32,762 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:44:32,763 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:44:32,764 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:44:33,395 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:44:33,406 - database_service - INFO - Retrieved 8 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:44:33,413 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:44:33,414 - middleware - INFO -    Status: 200
2025-07-06 14:44:33,414 - middleware - INFO -    Processing time: 0.652s
2025-07-06 14:47:52,551 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 14:47:52,558 - config - INFO -  Supabase client initialized and tested successfully
2025-07-06 14:47:52,560 - config - INFO - Backend starting up...
2025-07-06 14:47:52,561 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 14:47:52,561 - config - INFO - .env file exists: True
2025-07-06 14:47:52,563 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 14:47:52,563 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 14:47:52,563 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 14:47:52,563 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 14:47:52,563 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 14:47:52,598 - database_service - INFO -  DatabaseService initialized with Supabase client
2025-07-06 14:49:18,660 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 14:49:18,668 - config - INFO -  Supabase client initialized and tested successfully
2025-07-06 14:49:18,669 - config - INFO - Backend starting up...
2025-07-06 14:49:18,670 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 14:49:18,670 - config - INFO - .env file exists: True
2025-07-06 14:49:18,671 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 14:49:18,671 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 14:49:18,671 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 14:49:18,672 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 14:49:18,672 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 14:49:18,705 - database_service - INFO -  DatabaseService initialized with Supabase client
2025-07-06 14:51:35,344 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 14:51:35,345 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:51:35,346 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:51:35,348 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 14:51:35,348 - middleware - INFO -    Status: 200
2025-07-06 14:51:35,349 - middleware - INFO -    Processing time: 0.006s
2025-07-06 14:51:35,356 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 14:51:35,357 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:51:35,358 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '69', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:51:35,363 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 14:51:35,364 - routes - INFO -    Websites: ['facebook.com']
2025-07-06 14:51:35,364 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 14:51:35,365 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 14:51:35,366 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 14:51:35,366 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 14:51:36,728 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 14:51:42,958 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/AfnZKMDgwo3PCN0uF "HTTP/1.1 200 OK"
2025-07-06 14:51:48,988 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/AfnZKMDgwo3PCN0uF "HTTP/1.1 200 OK"
2025-07-06 14:51:54,497 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/AfnZKMDgwo3PCN0uF "HTTP/1.1 200 OK"
2025-07-06 14:52:00,130 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/AfnZKMDgwo3PCN0uF "HTTP/1.1 200 OK"
2025-07-06 14:52:05,281 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/AfnZKMDgwo3PCN0uF "HTTP/1.1 200 OK"
2025-07-06 14:52:11,106 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/AfnZKMDgwo3PCN0uF "HTTP/1.1 200 OK"
2025-07-06 14:52:11,306 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/N8VEz4eZFw7DkdLto/items "HTTP/1.1 200 OK"
2025-07-06 14:52:11,341 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:52:12,389 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 14:52:12,395 - database_service - INFO - User record already exists: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:52:12,396 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:52:13,478 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 14:52:13,480 - database_service - INFO - Analysis session saved successfully: 7b7f4e34-e27f-4f8c-8c45-192855cfa140
2025-07-06 14:52:13,481 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 14:52:13,509 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 14:52:13,510 - middleware - INFO -    Status: 200
2025-07-06 14:52:13,510 - middleware - INFO -    Processing time: 38.153s
2025-07-06 14:53:07,727 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-06 14:53:07,728 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:53:07,728 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:53:07,729 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-06 14:53:07,730 - middleware - INFO -    Status: 200
2025-07-06 14:53:07,730 - middleware - INFO -    Processing time: 0.002s
2025-07-06 14:53:07,734 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 14:53:07,734 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:53:07,735 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '3289', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:53:07,771 - routes - INFO - [CHAT] Received chat message: What are the growth opportunities based on this analysis?
2025-07-06 14:53:07,774 - routes - INFO -    Analysis data size: 3382 characters
2025-07-06 14:53:07,775 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 14:53:10,468 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 402 Payment Required"
2025-07-06 14:53:11,814 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&id=eq.7b7f4e34-e27f-4f8c-8c45-192855cfa140 "HTTP/1.1 200 OK"
2025-07-06 14:53:11,816 - database_service - INFO - Retrieved analysis session: 7b7f4e34-e27f-4f8c-8c45-192855cfa140
2025-07-06 14:53:12,271 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.7b7f4e34-e27f-4f8c-8c45-192855cfa140 "HTTP/1.1 200 OK"
2025-07-06 14:53:12,272 - database_service - INFO - Analysis session updated successfully: 7b7f4e34-e27f-4f8c-8c45-192855cfa140
2025-07-06 14:53:12,273 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 14:53:12,274 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 14:53:12,274 - middleware - INFO -    Status: 200
2025-07-06 14:53:12,274 - middleware - INFO -    Processing time: 4.539s
2025-07-06 14:53:23,437 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 14:53:23,439 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:53:23,440 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '3268', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:53:23,441 - routes - INFO - [CHAT] Received chat message: What are the latest industry trends?
2025-07-06 14:53:23,443 - routes - INFO -    Analysis data size: 3382 characters
2025-07-06 14:53:23,445 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 14:53:24,629 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 402 Payment Required"
2025-07-06 14:53:24,991 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&id=eq.7b7f4e34-e27f-4f8c-8c45-192855cfa140 "HTTP/1.1 200 OK"
2025-07-06 14:53:24,995 - database_service - INFO - Retrieved analysis session: 7b7f4e34-e27f-4f8c-8c45-192855cfa140
2025-07-06 14:53:25,278 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.7b7f4e34-e27f-4f8c-8c45-192855cfa140 "HTTP/1.1 200 OK"
2025-07-06 14:53:25,280 - database_service - INFO - Analysis session updated successfully: 7b7f4e34-e27f-4f8c-8c45-192855cfa140
2025-07-06 14:53:25,280 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 14:53:25,281 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 14:53:25,283 - middleware - INFO -    Status: 200
2025-07-06 14:53:25,283 - middleware - INFO -    Processing time: 1.845s
2025-07-06 14:56:26,253 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:56:26,254 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:56:26,255 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:56:26,256 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:56:27,498 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:56:27,506 - database_service - INFO - Retrieved 9 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:56:27,523 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:56:27,524 - middleware - INFO -    Status: 200
2025-07-06 14:56:27,524 - middleware - INFO -    Processing time: 1.270s
2025-07-06 14:56:27,528 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:56:27,529 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:56:27,529 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:56:27,531 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:56:28,855 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:56:28,859 - database_service - INFO - Retrieved 9 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:56:28,867 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:56:28,867 - middleware - INFO -    Status: 200
2025-07-06 14:56:28,867 - middleware - INFO -    Processing time: 1.338s
