2025-07-02 17:14:08,290 - __main__ - INFO - Backend starting up...
2025-07-02 17:14:08,291 - __main__ - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-02 17:14:08,291 - __main__ - INFO - .env file exists: True
2025-07-02 17:14:08,292 - __main__ - INFO - SUPABASE_URL configured: Yes
2025-07-02 17:14:08,293 - __main__ - INFO - SUPABASE_KEY configured: Yes
2025-07-02 17:14:28,976 - __main__ - INFO -    Client: 127.0.0.1
2025-07-02 17:14:28,979 - __main__ - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '62', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-02 17:14:29,021 - __main__ - INFO -    Websites: ['www.youtube.com']
2025-07-02 17:14:29,021 - __main__ - INFO -    User ID: user-1751472868545
2025-07-02 17:14:31,723 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-02 17:14:37,842 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/IT8QPuboHhC7EfHZY "HTTP/1.1 200 OK"
2025-07-02 17:14:43,237 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/IT8QPuboHhC7EfHZY "HTTP/1.1 200 OK"
2025-07-02 17:14:51,019 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/IT8QPuboHhC7EfHZY "HTTP/1.1 200 OK"
2025-07-02 17:14:57,585 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/IT8QPuboHhC7EfHZY "HTTP/1.1 200 OK"
2025-07-02 17:14:57,937 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/SAGIoDwgBR3itahBz/items "HTTP/1.1 200 OK"
2025-07-02 17:15:00,839 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.user-1751472868545 "HTTP/1.1 400 Bad Request"
2025-07-02 17:15:00,908 - __main__ - INFO -    Status: 200
2025-07-02 17:15:00,908 - __main__ - INFO -    Processing time: 31.992s
2025-07-02 17:15:17,318 - __main__ - INFO -    Client: 127.0.0.1
2025-07-02 17:15:17,320 - __main__ - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '188', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-02 17:15:17,343 - __main__ - INFO -    Websites: ['www.youtube.com', 'netflix.com', 'imdb.com', 'hulu.com', 'facebook.com', 'vimeo.com', 'veoh.com', 'blip.tv', 'videosift.com', 'google.com', 'revver.com']
2025-07-02 17:15:17,344 - __main__ - INFO -    User ID: user-1751472905845
2025-07-02 17:15:18,724 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.user-1751472905845 "HTTP/1.1 400 Bad Request"
2025-07-02 17:15:22,531 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=www.youtube.com "HTTP/1.1 200 OK"
2025-07-02 17:15:24,803 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=netflix.com "HTTP/1.1 200 OK"
2025-07-02 17:15:30,065 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.user-1751472905845 "HTTP/1.1 400 Bad Request"
2025-07-02 17:15:30,073 - __main__ - INFO -    Status: 200
2025-07-02 17:15:30,073 - __main__ - INFO -    Processing time: 12.847s
2025-07-02 17:16:03,335 - __main__ - INFO -    Client: 127.0.0.1
2025-07-02 17:16:03,335 - __main__ - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '4924', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-02 17:16:08,380 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-02 17:16:11,310 - __main__ - INFO -    Status: 200
2025-07-02 17:16:11,310 - __main__ - INFO -    Processing time: 7.982s
2025-07-02 17:18:49,494 - __main__ - INFO -    Client: 127.0.0.1
2025-07-02 17:18:49,494 - __main__ - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '4935', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-02 17:18:52,873 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-02 17:18:54,011 - __main__ - INFO -    Status: 200
2025-07-02 17:18:54,012 - __main__ - INFO -    Processing time: 4.515s
2025-07-02 17:31:31,161 - __main__ - INFO -    Client: 127.0.0.1
2025-07-02 17:31:31,162 - __main__ - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '4946', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-02 17:31:35,120 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-02 17:31:51,785 - __main__ - INFO -    Status: 200
2025-07-02 17:31:51,786 - __main__ - INFO -    Processing time: 20.636s
2025-07-02 17:39:58,889 - __main__ - INFO -    Client: 127.0.0.1
2025-07-02 17:39:58,889 - __main__ - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'cache-control': 'max-age=0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5', 'cookie': 'ajs_anonymous_id=18579a7c-f4ce-4647-8aa9-b429ad6b9845; jenkins-timestamper-offset=-3600000; __next_hmr_refresh_hash__=233918a3d138393701bd93a7e8cbedd5633457081244afec'}
2025-07-02 17:39:58,899 - __main__ - INFO -    Status: 200
2025-07-02 17:39:58,900 - __main__ - INFO -    Processing time: 0.010s
2025-07-02 17:40:29,942 - __main__ - INFO -    Client: 127.0.0.1
2025-07-02 17:40:29,943 - __main__ - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '4948', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-02 17:40:40,938 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-02 17:40:43,438 - __main__ - INFO -    Status: 200
2025-07-02 17:40:43,439 - __main__ - INFO -    Processing time: 13.496s
2025-07-03 11:31:37,379 - config - INFO - Backend starting up...
2025-07-03 11:31:37,379 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 11:31:37,380 - config - INFO - .env file exists: True
2025-07-03 11:31:37,380 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 11:31:37,380 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 11:31:37,380 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 11:31:37,380 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 11:31:37,380 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 11:31:46,784 - config - INFO - Backend starting up...
2025-07-03 11:31:46,784 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 11:31:46,784 - config - INFO - .env file exists: True
2025-07-03 11:31:46,784 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 11:31:46,785 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 11:31:46,785 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 11:31:46,786 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 11:31:46,786 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 11:39:02,662 - config - INFO - Backend starting up...
2025-07-03 11:39:02,664 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 11:39:02,664 - config - INFO - .env file exists: True
2025-07-03 11:39:02,665 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 11:39:02,665 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 11:39:02,666 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 11:39:02,666 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 11:39:02,666 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 11:39:11,354 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:39:11,355 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:39:11,367 - middleware - INFO -    Status: 400
2025-07-03 11:39:11,368 - middleware - INFO -    Processing time: 0.045s
2025-07-03 11:40:24,726 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:40:24,729 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:40:24,757 - middleware - INFO -    Status: 200
2025-07-03 11:40:24,761 - middleware - INFO -    Processing time: 0.022s
2025-07-03 11:40:24,797 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:40:24,799 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '66', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:40:24,840 - routes - INFO -    Websites: ['https://github.com/']
2025-07-03 11:40:24,841 - routes - INFO -    User ID: user-1751539224397
2025-07-03 11:40:26,831 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 11:40:32,596 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Gck7HPsELaBdpEIyM "HTTP/1.1 200 OK"
2025-07-03 11:40:37,810 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Gck7HPsELaBdpEIyM "HTTP/1.1 200 OK"
2025-07-03 11:40:43,465 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Gck7HPsELaBdpEIyM "HTTP/1.1 200 OK"
2025-07-03 11:40:48,851 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Gck7HPsELaBdpEIyM "HTTP/1.1 200 OK"
2025-07-03 11:40:49,353 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/9IryfbuC4HB8sIUHr/items "HTTP/1.1 200 OK"
2025-07-03 11:40:51,580 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.user-1751539224397 "HTTP/1.1 400 Bad Request"
2025-07-03 11:40:51,678 - middleware - INFO -    Status: 200
2025-07-03 11:40:51,679 - middleware - INFO -    Processing time: 26.855s
2025-07-03 11:41:18,641 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:41:18,641 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:41:18,662 - middleware - INFO -    Status: 200
2025-07-03 11:41:18,663 - middleware - INFO -    Processing time: 0.024s
2025-07-03 11:41:18,674 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:41:18,675 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '128', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:41:18,691 - routes - INFO -    Websites: ['https://github.com/', 'indeed.com', 'glassdoor.com', 'monster.com', 'ziprecruiter.com']
2025-07-03 11:41:18,692 - routes - INFO -    User ID: user-1751539273582
2025-07-03 11:41:19,487 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.user-1751539273582 "HTTP/1.1 400 Bad Request"
2025-07-03 11:41:20,979 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://github.com/ "HTTP/1.1 200 OK"
2025-07-03 11:41:22,556 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=indeed.com "HTTP/1.1 200 OK"
2025-07-03 11:41:28,647 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.user-1751539273582 "HTTP/1.1 400 Bad Request"
2025-07-03 11:41:28,749 - middleware - INFO -    Status: 200
2025-07-03 11:41:28,750 - middleware - INFO -    Processing time: 10.070s
2025-07-03 11:42:42,110 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:42:42,113 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '64', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:42:42,128 - routes - INFO -    Websites: ['https://salla.com']
2025-07-03 11:42:42,128 - routes - INFO -    User ID: user-1751539361783
2025-07-03 11:42:43,439 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 11:42:49,066 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/vb1tZfcWpOq9GA6Tu "HTTP/1.1 200 OK"
2025-07-03 11:42:54,833 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/vb1tZfcWpOq9GA6Tu "HTTP/1.1 200 OK"
2025-07-03 11:43:00,011 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/vb1tZfcWpOq9GA6Tu "HTTP/1.1 200 OK"
2025-07-03 11:43:05,629 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/vb1tZfcWpOq9GA6Tu "HTTP/1.1 200 OK"
2025-07-03 11:43:10,801 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/vb1tZfcWpOq9GA6Tu "HTTP/1.1 200 OK"
2025-07-03 11:43:10,995 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/XlJwkP4Ud1nzKJC7n/items "HTTP/1.1 200 OK"
2025-07-03 11:43:11,879 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.user-1751539361783 "HTTP/1.1 400 Bad Request"
2025-07-03 11:43:11,935 - middleware - INFO -    Status: 200
2025-07-03 11:43:11,935 - middleware - INFO -    Processing time: 29.823s
2025-07-03 11:43:39,817 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:43:39,818 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '210', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:43:39,827 - routes - INFO -    Websites: ['https://salla.com', 'mapp.sa', 'ajsquare.com', 'namecheap.com', 'hostinger.com', 'zid.sa', 'godaddy.com', 'nutajr.com', 'qeematech.net', 'entaleq-online.com', 'sectionwp.com']
2025-07-03 11:43:39,827 - routes - INFO -    User ID: user-1751539408324
2025-07-03 11:43:40,972 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.user-1751539408324 "HTTP/1.1 400 Bad Request"
2025-07-03 11:43:43,017 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://salla.com "HTTP/1.1 200 OK"
2025-07-03 11:43:45,379 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=mapp.sa "HTTP/1.1 200 OK"
2025-07-03 11:43:47,186 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.user-1751539408324 "HTTP/1.1 400 Bad Request"
2025-07-03 11:43:47,218 - middleware - INFO -    Status: 200
2025-07-03 11:43:47,219 - middleware - INFO -    Processing time: 7.396s
2025-07-03 11:44:27,926 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:44:27,927 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '64', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:44:27,946 - routes - INFO -    Websites: ['https://salla.com']
2025-07-03 11:44:27,947 - routes - INFO -    User ID: user-1751539467581
2025-07-03 11:44:29,609 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 11:44:34,765 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/srNVgTXYemjqRrDhR "HTTP/1.1 200 OK"
2025-07-03 11:44:40,363 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/srNVgTXYemjqRrDhR "HTTP/1.1 200 OK"
2025-07-03 11:44:46,078 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/srNVgTXYemjqRrDhR "HTTP/1.1 200 OK"
2025-07-03 11:44:51,690 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/srNVgTXYemjqRrDhR "HTTP/1.1 200 OK"
2025-07-03 11:44:56,885 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/srNVgTXYemjqRrDhR "HTTP/1.1 200 OK"
2025-07-03 11:45:02,518 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/srNVgTXYemjqRrDhR "HTTP/1.1 200 OK"
2025-07-03 11:45:02,749 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/2rgAKMhlMGuM6gale/items "HTTP/1.1 200 OK"
2025-07-03 11:45:03,670 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.user-1751539467581 "HTTP/1.1 400 Bad Request"
2025-07-03 11:45:03,712 - middleware - INFO -    Status: 200
2025-07-03 11:45:03,713 - middleware - INFO -    Processing time: 35.800s
2025-07-03 11:47:26,131 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:47:26,131 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '210', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:47:26,140 - routes - INFO -    Websites: ['https://salla.com', 'mapp.sa', 'ajsquare.com', 'namecheap.com', 'hostinger.com', 'zid.sa', 'godaddy.com', 'nutajr.com', 'qeematech.net', 'entaleq-online.com', 'sectionwp.com']
2025-07-03 11:47:26,140 - routes - INFO -    User ID: user-1751539629434
2025-07-03 11:47:26,847 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.user-1751539629434 "HTTP/1.1 400 Bad Request"
2025-07-03 11:47:27,839 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://salla.com "HTTP/1.1 200 OK"
2025-07-03 11:47:29,263 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=mapp.sa "HTTP/1.1 200 OK"
2025-07-03 11:47:30,133 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.user-1751539629434 "HTTP/1.1 400 Bad Request"
2025-07-03 11:47:30,154 - middleware - INFO -    Status: 200
2025-07-03 11:47:30,160 - middleware - INFO -    Processing time: 4.023s
2025-07-03 11:55:59,068 - config - INFO - Backend starting up...
2025-07-03 11:55:59,068 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 11:55:59,069 - config - INFO - .env file exists: True
2025-07-03 11:55:59,069 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 11:55:59,069 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 11:55:59,069 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 11:55:59,070 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 11:55:59,070 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 11:56:16,519 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-03 11:56:16,520 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:56:16,521 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:56:16,523 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-03 11:56:16,524 - middleware - INFO -    Status: 200
2025-07-03 11:56:16,527 - middleware - INFO -    Processing time: 0.004s
2025-07-03 11:56:16,531 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 11:56:16,532 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:56:16,533 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '64', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:56:16,539 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 11:56:16,539 - routes - INFO -    Websites: ['https://salla.com']
2025-07-03 11:56:16,541 - routes - INFO -    User ID: user-1751540176173
2025-07-03 11:56:16,542 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 11:56:16,543 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 11:56:16,544 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 11:56:18,146 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 11:56:23,782 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LtIDQvA9iSkofCzLY "HTTP/1.1 200 OK"
2025-07-03 11:56:29,475 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LtIDQvA9iSkofCzLY "HTTP/1.1 200 OK"
2025-07-03 11:56:35,074 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LtIDQvA9iSkofCzLY "HTTP/1.1 200 OK"
2025-07-03 11:56:40,693 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LtIDQvA9iSkofCzLY "HTTP/1.1 200 OK"
2025-07-03 11:56:46,313 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LtIDQvA9iSkofCzLY "HTTP/1.1 200 OK"
2025-07-03 11:56:51,966 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LtIDQvA9iSkofCzLY "HTTP/1.1 200 OK"
2025-07-03 11:56:52,183 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/O2dER2z6GZQdeFb9v/items "HTTP/1.1 200 OK"
2025-07-03 11:56:52,197 - routes - INFO - [UUID] Generated UUID fd94c9b2-8ee7-5df4-92a5-96cb69db167f for user_id: user-1751540176173
2025-07-03 11:56:53,831 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.fd94c9b2-8ee7-5df4-92a5-96cb69db167f "HTTP/1.1 200 OK"
2025-07-03 11:56:53,843 - routes - INFO - [SUCCESS] Data saved to Supabase successfully
2025-07-03 11:56:53,847 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 11:56:53,851 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 11:56:53,852 - middleware - INFO -    Status: 200
2025-07-03 11:56:53,853 - middleware - INFO -    Processing time: 37.320s
2025-07-03 11:58:38,271 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-03 11:58:38,273 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:58:38,273 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:58:38,274 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-03 11:58:38,274 - middleware - INFO -    Status: 200
2025-07-03 11:58:38,275 - middleware - INFO -    Processing time: 0.003s
2025-07-03 11:58:38,280 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 11:58:38,281 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 11:58:38,282 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '210', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 11:58:38,284 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 11:58:38,285 - routes - INFO -    Websites: ['https://salla.com', 'mapp.sa', 'ajsquare.com', 'namecheap.com', 'hostinger.com', 'zid.sa', 'godaddy.com', 'nutajr.com', 'qeematech.net', 'entaleq-online.com', 'sectionwp.com']
2025-07-03 11:58:38,285 - routes - INFO -    User ID: user-1751540306918
2025-07-03 11:58:38,286 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 11:58:38,289 - routes - INFO - [UUID] Generated UUID d3cba6d9-67d8-597e-bf8d-b1dd25751925 for user_id: user-1751540306918
2025-07-03 11:58:38,870 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.d3cba6d9-67d8-597e-bf8d-b1dd25751925 "HTTP/1.1 200 OK"
2025-07-03 11:58:40,430 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://salla.com "HTTP/1.1 200 OK"
2025-07-03 11:58:42,467 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=mapp.sa "HTTP/1.1 200 OK"
2025-07-03 11:58:43,022 - routes - INFO - [UUID] Generated UUID d3cba6d9-67d8-597e-bf8d-b1dd25751925 for user_id: user-1751540306918
2025-07-03 11:58:43,546 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.d3cba6d9-67d8-597e-bf8d-b1dd25751925 "HTTP/1.1 200 OK"
2025-07-03 11:58:43,549 - routes - INFO - [SUCCESS] Data saved to Supabase successfully
2025-07-03 11:58:43,551 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 11:58:43,551 - middleware - INFO -    Status: 200
2025-07-03 11:58:43,552 - middleware - INFO -    Processing time: 5.271s
2025-07-03 12:01:21,271 - config - INFO - Backend starting up...
2025-07-03 12:01:21,272 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 12:01:21,272 - config - INFO - .env file exists: True
2025-07-03 12:01:21,272 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 12:01:21,273 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 12:01:21,273 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 12:01:21,273 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 12:01:21,273 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 12:02:04,769 - config - INFO - Backend starting up...
2025-07-03 12:02:04,769 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 12:02:04,770 - config - INFO - .env file exists: True
2025-07-03 12:02:04,770 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 12:02:04,770 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 12:02:04,770 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 12:02:04,771 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 12:02:04,771 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 12:02:20,133 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 12:02:20,133 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 12:02:20,133 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '64', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 12:02:20,136 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 12:02:20,137 - routes - INFO -    Websites: ['https://salla.com']
2025-07-03 12:02:20,137 - routes - INFO -    User ID: user-1751540539808
2025-07-03 12:02:20,137 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 12:02:20,139 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 12:02:20,140 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 12:02:21,750 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 12:02:27,368 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fflp2YCXYH3tKTAk "HTTP/1.1 200 OK"
2025-07-03 12:02:33,060 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fflp2YCXYH3tKTAk "HTTP/1.1 200 OK"
2025-07-03 12:02:38,655 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fflp2YCXYH3tKTAk "HTTP/1.1 200 OK"
2025-07-03 12:02:44,423 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fflp2YCXYH3tKTAk "HTTP/1.1 200 OK"
2025-07-03 12:02:50,134 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fflp2YCXYH3tKTAk "HTTP/1.1 200 OK"
2025-07-03 12:02:50,325 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/glQ5W8jLiSVwX7K8H/items "HTTP/1.1 200 OK"
2025-07-03 12:02:50,337 - routes - INFO - [UUID] Generated UUID 83c5fd84-9429-5c31-9912-98afc63da573 for user_id: user-1751540539808
2025-07-03 12:02:51,668 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.83c5fd84-9429-5c31-9912-98afc63da573 "HTTP/1.1 200 OK"
2025-07-03 12:02:51,672 - routes - INFO - [SUCCESS] Data saved to Supabase successfully
2025-07-03 12:02:51,673 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 12:02:51,673 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 12:02:51,674 - middleware - INFO -    Status: 200
2025-07-03 12:02:51,674 - middleware - INFO -    Processing time: 31.542s
2025-07-03 12:03:07,811 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 12:03:07,812 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 12:03:07,812 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '210', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 12:03:07,813 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 12:03:07,814 - routes - INFO -    Websites: ['https://salla.com', 'mapp.sa', 'ajsquare.com', 'namecheap.com', 'hostinger.com', 'zid.sa', 'godaddy.com', 'nutajr.com', 'qeematech.net', 'entaleq-online.com', 'sectionwp.com']
2025-07-03 12:03:07,814 - routes - INFO -    User ID: user-1751540574560
2025-07-03 12:03:07,814 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 12:03:07,815 - routes - INFO - [UUID] Generated UUID 21e92c71-61fe-577f-af32-1490cf6ed789 for user_id: user-1751540574560
2025-07-03 12:03:08,470 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.21e92c71-61fe-577f-af32-1490cf6ed789 "HTTP/1.1 200 OK"
2025-07-03 12:03:09,512 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://salla.com "HTTP/1.1 200 OK"
2025-07-03 12:03:11,757 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=mapp.sa "HTTP/1.1 200 OK"
2025-07-03 12:03:13,232 - routes - INFO - [UUID] Generated UUID 21e92c71-61fe-577f-af32-1490cf6ed789 for user_id: user-1751540574560
2025-07-03 12:03:13,801 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?id=eq.21e92c71-61fe-577f-af32-1490cf6ed789 "HTTP/1.1 200 OK"
2025-07-03 12:03:13,804 - routes - INFO - [SUCCESS] Data saved to Supabase successfully
2025-07-03 12:03:13,808 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 12:03:13,809 - middleware - INFO -    Status: 200
2025-07-03 12:03:13,809 - middleware - INFO -    Processing time: 5.997s
2025-07-03 12:04:54,317 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-03 12:04:54,319 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 12:04:54,320 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 12:04:54,323 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-03 12:04:54,332 - middleware - INFO -    Status: 200
2025-07-03 12:04:54,333 - middleware - INFO -    Processing time: 0.006s
2025-07-03 12:04:54,346 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 12:04:54,352 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 12:04:54,354 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6088', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 12:04:54,368 - routes - INFO - [CHAT] Received chat message: can you summarize your context
2025-07-03 12:04:54,373 - routes - INFO -    Analysis data size: 6527 characters
2025-07-03 12:04:54,376 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 12:04:57,358 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 12:05:01,008 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 12:05:01,009 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 12:05:01,010 - middleware - INFO -    Status: 200
2025-07-03 12:05:01,010 - middleware - INFO -    Processing time: 6.664s
2025-07-03 12:05:38,931 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 12:05:38,931 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 12:05:38,932 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6103', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 12:05:38,933 - routes - INFO - [CHAT] Received chat message: analyse Traffic patterns and sources of salla
2025-07-03 12:05:38,934 - routes - INFO -    Analysis data size: 6527 characters
2025-07-03 12:05:38,934 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 12:05:41,566 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 12:05:55,197 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 12:05:55,199 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 12:05:55,199 - middleware - INFO -    Status: 200
2025-07-03 12:05:55,199 - middleware - INFO -    Processing time: 16.268s
2025-07-03 12:36:31,935 - config - INFO - Backend starting up...
2025-07-03 12:36:31,937 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 12:36:31,938 - config - INFO - .env file exists: True
2025-07-03 12:36:31,938 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 12:36:31,938 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 12:36:31,940 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 12:36:31,940 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 12:36:31,940 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 12:42:37,579 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-03 12:42:37,582 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 12:42:37,583 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 12:42:37,584 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-03 12:42:37,584 - middleware - INFO -    Status: 200
2025-07-03 12:42:37,586 - middleware - INFO -    Processing time: 0.005s
2025-07-03 12:42:37,799 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 12:42:37,800 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 12:42:37,800 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '74', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 12:42:37,841 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 12:42:37,841 - routes - INFO -    Websites: ['https://salla.com']
2025-07-03 12:42:37,841 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 12:42:37,842 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 12:42:37,843 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 12:42:37,843 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 12:42:39,727 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 12:42:44,894 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:42:50,701 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:42:56,394 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:43:02,094 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:43:07,737 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:43:13,025 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:43:18,842 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:43:24,544 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:43:30,140 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:43:35,375 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:43:41,086 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Sv8UAmdaQ8N6gtAiZ "HTTP/1.1 200 OK"
2025-07-03 12:43:41,355 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/CED5wxCDOIvkbXCa8/items "HTTP/1.1 200 OK"
2025-07-03 12:43:41,366 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 12:43:44,212 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 12:43:44,447 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 12:43:44,449 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 12:43:44,459 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 12:43:44,460 - middleware - INFO -    Status: 200
2025-07-03 12:43:44,460 - middleware - INFO -    Processing time: 66.660s
2025-07-03 13:03:01,165 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-03 13:03:01,177 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:03:01,375 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:03:01,605 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-03 13:03:01,636 - middleware - INFO -    Status: 200
2025-07-03 13:03:01,675 - middleware - INFO -    Processing time: 0.441s
2025-07-03 13:03:01,828 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 13:03:01,834 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:03:01,841 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '220', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:03:01,993 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 13:03:01,995 - routes - INFO -    Websites: ['https://salla.com', 'mapp.sa', 'ajsquare.com', 'namecheap.com', 'hostinger.com', 'zid.sa', 'godaddy.com', 'nutajr.com', 'qeematech.net', 'entaleq-online.com', 'sectionwp.com']
2025-07-03 13:03:01,997 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 13:03:01,998 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 13:03:02,452 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 13:03:04,224 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 13:03:06,665 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://salla.com "HTTP/1.1 200 OK"
2025-07-03 13:03:11,766 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=mapp.sa "HTTP/1.1 200 OK"
2025-07-03 13:03:13,092 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 13:03:14,309 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 13:03:14,829 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 13:03:14,872 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 13:03:14,878 - middleware - INFO -    Status: 200
2025-07-03 13:03:14,879 - middleware - INFO -    Processing time: 13.045s
2025-07-03 13:04:53,858 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-03 13:04:53,860 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:04:53,864 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:04:53,866 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-03 13:04:53,866 - middleware - INFO -    Status: 200
2025-07-03 13:04:53,866 - middleware - INFO -    Processing time: 0.007s
2025-07-03 13:04:53,880 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 13:04:53,881 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:04:53,881 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '66', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:04:53,883 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 13:04:53,883 - routes - INFO -    Websites: ['salla.com']
2025-07-03 13:04:53,883 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 13:04:53,883 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 13:04:53,884 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 13:04:53,884 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 13:04:55,574 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 13:05:01,651 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/DZjGbENbzAAglvAOt "HTTP/1.1 200 OK"
2025-07-03 13:05:06,899 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/DZjGbENbzAAglvAOt "HTTP/1.1 200 OK"
2025-07-03 13:05:12,112 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/DZjGbENbzAAglvAOt "HTTP/1.1 200 OK"
2025-07-03 13:05:17,966 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/DZjGbENbzAAglvAOt "HTTP/1.1 200 OK"
2025-07-03 13:05:23,662 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/DZjGbENbzAAglvAOt "HTTP/1.1 200 OK"
2025-07-03 13:05:23,847 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/9TXJ47v94bqH4tubK/items "HTTP/1.1 200 OK"
2025-07-03 13:05:23,871 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 13:05:24,696 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 13:05:25,208 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 13:05:25,215 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 13:05:25,224 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 13:05:25,226 - middleware - INFO -    Status: 200
2025-07-03 13:05:25,228 - middleware - INFO -    Processing time: 31.344s
2025-07-03 13:06:57,807 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 13:06:57,809 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:06:57,813 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '212', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:06:57,818 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 13:06:57,821 - routes - INFO -    Websites: ['salla.com', 'mapp.sa', 'ajsquare.com', 'namecheap.com', 'hostinger.com', 'zid.sa', 'godaddy.com', 'nutajr.com', 'qeematech.net', 'entaleq-online.com', 'sectionwp.com']
2025-07-03 13:06:57,823 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 13:06:57,824 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 13:06:57,832 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 13:06:58,291 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 13:07:00,342 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=salla.com "HTTP/1.1 200 OK"
2025-07-03 13:07:02,149 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=mapp.sa "HTTP/1.1 200 OK"
2025-07-03 13:07:02,900 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 13:07:03,415 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 13:07:03,675 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 13:07:03,686 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 13:07:03,688 - middleware - INFO -    Status: 200
2025-07-03 13:07:03,688 - middleware - INFO -    Processing time: 5.878s
2025-07-03 13:09:34,061 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-03 13:09:34,064 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:09:34,064 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:09:34,066 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-03 13:09:34,066 - middleware - INFO -    Status: 200
2025-07-03 13:09:34,066 - middleware - INFO -    Processing time: 0.005s
2025-07-03 13:09:34,326 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 13:09:34,328 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:09:34,329 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6064', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:09:34,336 - routes - INFO - [CHAT] Received chat message: summarize your context
2025-07-03 13:09:34,343 - routes - INFO -    Analysis data size: 6511 characters
2025-07-03 13:09:34,345 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 13:09:37,533 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 13:09:42,278 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 13:09:42,284 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 13:09:42,285 - middleware - INFO -    Status: 200
2025-07-03 13:09:42,287 - middleware - INFO -    Processing time: 7.957s
2025-07-03 13:10:28,292 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 13:10:28,293 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:10:28,293 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6185', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:10:28,294 - routes - INFO - [CHAT] Received chat message: provide detailed analysis and recommendations around: - Traffic patterns and optimization - Technology infrastructure - Competitive positioning
2025-07-03 13:10:28,295 - routes - INFO -    Analysis data size: 6511 characters
2025-07-03 13:10:28,296 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 13:10:34,256 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 13:10:46,676 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 13:10:46,679 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 13:10:46,681 - middleware - INFO -    Status: 200
2025-07-03 13:10:46,682 - middleware - INFO -    Processing time: 18.387s
2025-07-03 13:15:51,963 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-03 13:15:51,964 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:15:51,964 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:15:51,965 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-03 13:15:51,965 - middleware - INFO -    Status: 200
2025-07-03 13:15:51,965 - middleware - INFO -    Processing time: 0.002s
2025-07-03 13:15:51,972 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 13:15:51,976 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:15:51,983 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '67', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:15:51,988 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 13:15:51,989 - routes - INFO -    Websites: ['linked.com']
2025-07-03 13:15:51,991 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 13:15:51,992 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 13:15:51,993 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 13:15:51,993 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 13:15:54,023 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 13:15:59,244 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/cP2KtTm4Pjxmp9xi2 "HTTP/1.1 200 OK"
2025-07-03 13:16:05,245 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/cP2KtTm4Pjxmp9xi2 "HTTP/1.1 200 OK"
2025-07-03 13:16:11,081 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/cP2KtTm4Pjxmp9xi2 "HTTP/1.1 200 OK"
2025-07-03 13:16:16,810 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/cP2KtTm4Pjxmp9xi2 "HTTP/1.1 200 OK"
2025-07-03 13:16:22,496 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/cP2KtTm4Pjxmp9xi2 "HTTP/1.1 200 OK"
2025-07-03 13:16:22,681 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/55kkzQdPY5LRkEm9X/items "HTTP/1.1 200 OK"
2025-07-03 13:16:22,765 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 13:16:23,674 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 13:16:24,197 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 13:16:24,199 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 13:16:24,227 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 13:16:24,229 - middleware - INFO -    Status: 200
2025-07-03 13:16:24,229 - middleware - INFO -    Processing time: 32.255s
2025-07-03 13:16:51,707 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 13:16:51,708 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 13:16:51,709 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 13:16:51,714 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 13:16:51,715 - routes - INFO -    Websites: ['youtube.com']
2025-07-03 13:16:51,716 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 13:16:51,716 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 13:16:51,718 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 13:16:51,721 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 13:16:53,309 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 13:16:59,420 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Ovic61a25jhQososd "HTTP/1.1 200 OK"
2025-07-03 13:17:07,250 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Ovic61a25jhQososd "HTTP/1.1 200 OK"
2025-07-03 13:17:13,032 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Ovic61a25jhQososd "HTTP/1.1 200 OK"
2025-07-03 13:17:18,229 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Ovic61a25jhQososd "HTTP/1.1 200 OK"
2025-07-03 13:17:23,940 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Ovic61a25jhQososd "HTTP/1.1 200 OK"
2025-07-03 13:17:24,155 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/ueCJSU3ZxwdWFidWT/items "HTTP/1.1 200 OK"
2025-07-03 13:17:24,167 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 13:17:24,895 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 13:17:25,424 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 13:17:25,453 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 13:17:25,461 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 13:17:25,462 - middleware - INFO -    Status: 200
2025-07-03 13:17:25,463 - middleware - INFO -    Processing time: 33.754s
2025-07-03 14:39:12,661 - config - INFO - Backend starting up...
2025-07-03 14:39:12,662 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 14:39:12,662 - config - INFO - .env file exists: True
2025-07-03 14:39:12,662 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 14:39:12,662 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 14:39:12,663 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 14:39:12,663 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 14:39:12,663 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 14:41:19,735 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-03 14:41:19,739 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:41:19,739 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:41:19,743 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-03 14:41:19,743 - middleware - INFO -    Status: 200
2025-07-03 14:41:19,748 - middleware - INFO -    Processing time: 0.007s
2025-07-03 14:41:19,761 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 14:41:19,763 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:41:19,764 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:41:19,776 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 14:41:19,779 - routes - INFO -    Websites: ['youtube.com']
2025-07-03 14:41:19,781 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 14:41:19,784 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 14:41:19,787 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 14:41:19,791 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 14:41:21,820 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 14:41:27,535 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Y0InKOMtdeAw50gYA "HTTP/1.1 200 OK"
2025-07-03 14:41:33,421 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Y0InKOMtdeAw50gYA "HTTP/1.1 200 OK"
2025-07-03 14:41:39,144 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Y0InKOMtdeAw50gYA "HTTP/1.1 200 OK"
2025-07-03 14:41:45,180 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Y0InKOMtdeAw50gYA "HTTP/1.1 200 OK"
2025-07-03 14:41:50,840 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Y0InKOMtdeAw50gYA "HTTP/1.1 200 OK"
2025-07-03 14:41:56,074 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Y0InKOMtdeAw50gYA "HTTP/1.1 200 OK"
2025-07-03 14:41:56,275 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/CG435ffrH3OuGXosh/items "HTTP/1.1 200 OK"
2025-07-03 14:41:56,291 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 14:41:58,362 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 14:41:58,609 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 14:41:58,612 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 14:41:58,634 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 14:41:58,636 - middleware - INFO -    Status: 200
2025-07-03 14:41:58,637 - middleware - INFO -    Processing time: 38.875s
2025-07-03 14:42:22,077 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-03 14:42:22,078 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:42:22,078 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:42:22,079 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-03 14:42:22,080 - middleware - INFO -    Status: 200
2025-07-03 14:42:22,080 - middleware - INFO -    Processing time: 0.002s
2025-07-03 14:42:22,086 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 14:42:22,087 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:42:22,087 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '194', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:42:22,088 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 14:42:22,089 - routes - INFO -    Websites: ['youtube.com', 'netflix.com', 'imdb.com', 'hulu.com', 'facebook.com', 'vimeo.com', 'veoh.com', 'blip.tv', 'videosift.com', 'google.com', 'revver.com']
2025-07-03 14:42:22,089 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 14:42:22,089 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 14:42:22,090 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 14:42:22,837 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 14:42:24,559 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=youtube.com "HTTP/1.1 200 OK"
2025-07-03 14:42:26,438 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=netflix.com "HTTP/1.1 200 OK"
2025-07-03 14:42:30,459 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 14:42:31,146 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 14:42:31,667 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 14:42:31,684 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 14:42:31,686 - middleware - INFO -    Status: 200
2025-07-03 14:42:31,688 - middleware - INFO -    Processing time: 9.599s
2025-07-03 14:43:28,668 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 14:43:28,669 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:43:28,669 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '194', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:43:28,672 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 14:43:28,672 - routes - INFO -    Websites: ['youtube.com', 'netflix.com', 'imdb.com', 'hulu.com', 'facebook.com', 'vimeo.com', 'veoh.com', 'blip.tv', 'videosift.com', 'google.com', 'revver.com']
2025-07-03 14:43:28,672 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 14:43:28,673 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 14:43:28,673 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 14:43:29,084 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 14:43:29,881 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-03 14:43:29,882 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:43:29,883 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:43:29,884 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-03 14:43:29,885 - middleware - INFO -    Status: 200
2025-07-03 14:43:29,886 - middleware - INFO -    Processing time: 0.003s
2025-07-03 14:43:29,892 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 14:43:29,894 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:43:29,895 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6114', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:43:29,900 - routes - INFO - [CHAT] Received chat message: What are the growth opportunities based on this analysis?
2025-07-03 14:43:29,904 - routes - INFO -    Analysis data size: 6535 characters
2025-07-03 14:43:29,905 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 14:43:31,087 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=youtube.com "HTTP/1.1 200 OK"
2025-07-03 14:43:32,527 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=netflix.com "HTTP/1.1 200 OK"
2025-07-03 14:43:33,322 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 14:43:36,479 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 14:43:37,365 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 14:43:37,863 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 14:43:37,871 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 14:43:37,872 - middleware - INFO -    Status: 200
2025-07-03 14:43:37,874 - middleware - INFO -    Processing time: 9.203s
2025-07-03 14:43:44,042 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 14:43:44,043 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 14:43:44,043 - middleware - INFO -    Status: 200
2025-07-03 14:43:44,045 - middleware - INFO -    Processing time: 14.152s
2025-07-03 14:43:45,795 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 14:43:45,796 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:43:45,796 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6114', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:43:45,799 - routes - INFO - [CHAT] Received chat message: What are the growth opportunities based on this analysis?
2025-07-03 14:43:45,799 - routes - INFO -    Analysis data size: 6535 characters
2025-07-03 14:43:45,806 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 14:43:48,511 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 14:44:03,124 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 14:44:03,129 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 14:44:03,131 - middleware - INFO -    Status: 200
2025-07-03 14:44:03,137 - middleware - INFO -    Processing time: 17.334s
2025-07-03 14:44:43,950 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 14:44:43,952 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:44:43,952 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '67', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:44:43,954 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 14:44:43,955 - routes - INFO -    Websites: ['ooredoo.tn']
2025-07-03 14:44:43,956 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 14:44:43,957 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 14:44:43,960 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 14:44:43,962 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 14:44:45,407 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 14:44:51,042 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/M2ZxKzgGlTlp3TvjD "HTTP/1.1 200 OK"
2025-07-03 14:44:56,194 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/M2ZxKzgGlTlp3TvjD "HTTP/1.1 200 OK"
2025-07-03 14:45:01,496 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/M2ZxKzgGlTlp3TvjD "HTTP/1.1 200 OK"
2025-07-03 14:45:07,886 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/M2ZxKzgGlTlp3TvjD "HTTP/1.1 200 OK"
2025-07-03 14:45:13,493 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/M2ZxKzgGlTlp3TvjD "HTTP/1.1 200 OK"
2025-07-03 14:45:19,121 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/M2ZxKzgGlTlp3TvjD "HTTP/1.1 200 OK"
2025-07-03 14:45:19,304 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/xBcEvMc7rO9RL6fCa/items "HTTP/1.1 200 OK"
2025-07-03 14:45:19,317 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 14:45:20,219 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 14:45:20,459 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 14:45:20,460 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 14:45:20,461 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 14:45:20,461 - middleware - INFO -    Status: 200
2025-07-03 14:45:20,461 - middleware - INFO -    Processing time: 36.511s
2025-07-03 14:46:39,287 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 14:46:39,289 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:46:39,291 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '215', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:46:39,299 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 14:46:39,302 - routes - INFO -    Websites: ['ooredoo.tn', 'tunisietelecom.tn', 'orange.tn', 'google.com', 'google.tn', 'google.fr', 'yamli.com', 'bing.com', 'eddenyalive.com', 'tunisia-sat.com', 'tunisianet.com.tn']
2025-07-03 14:46:39,303 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 14:46:39,304 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 14:46:39,309 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 14:46:40,048 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 14:46:41,569 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=ooredoo.tn "HTTP/1.1 200 OK"
2025-07-03 14:46:44,393 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=tunisietelecom.tn "HTTP/1.1 200 OK"
2025-07-03 14:46:44,776 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 14:46:45,294 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 14:46:45,813 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 14:46:45,826 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 14:46:45,827 - middleware - INFO -    Status: 200
2025-07-03 14:46:45,830 - middleware - INFO -    Processing time: 6.539s
2025-07-03 14:47:23,985 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 14:47:23,986 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:47:23,986 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6167', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:47:23,988 - routes - INFO - [CHAT] Received chat message: make summarization for the context give for you
2025-07-03 14:47:23,988 - routes - INFO -    Analysis data size: 6602 characters
2025-07-03 14:47:23,989 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 14:47:26,580 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 14:47:33,561 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 14:47:33,564 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 14:47:33,565 - middleware - INFO -    Status: 200
2025-07-03 14:47:33,566 - middleware - INFO -    Processing time: 9.579s
2025-07-03 14:50:22,253 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 14:50:22,255 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 14:50:22,257 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6165', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 14:50:22,261 - routes - INFO - [CHAT] Received chat message: What technologies do the top competitors use?
2025-07-03 14:50:22,263 - routes - INFO -    Analysis data size: 6602 characters
2025-07-03 14:50:22,265 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 14:50:25,212 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 14:50:31,739 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 14:50:31,743 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 14:50:31,744 - middleware - INFO -    Status: 200
2025-07-03 14:50:31,744 - middleware - INFO -    Processing time: 9.491s
2025-07-03 15:11:08,416 - config - INFO - Backend starting up...
2025-07-03 15:11:08,417 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 15:11:08,417 - config - INFO - .env file exists: True
2025-07-03 15:11:08,417 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 15:11:08,418 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 15:11:08,418 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 15:11:08,418 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 15:11:08,418 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 15:15:36,958 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-03 15:15:36,960 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:15:36,961 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:15:36,962 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-03 15:15:36,963 - middleware - INFO -    Status: 200
2025-07-03 15:15:36,964 - middleware - INFO -    Processing time: 0.005s
2025-07-03 15:15:36,976 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 15:15:36,977 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:15:36,978 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:15:36,989 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 15:15:36,989 - routes - INFO -    Websites: ['chatgpt.com']
2025-07-03 15:15:36,990 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:15:36,991 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 15:15:36,992 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 15:15:36,992 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 15:15:39,015 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 15:15:44,738 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:15:50,013 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:15:55,279 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:16:01,018 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:16:06,655 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:16:12,308 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:16:17,910 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:16:23,576 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:16:29,273 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:16:34,926 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:16:40,567 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:16:46,220 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/hkekAKUEWDXSwDgA9 "HTTP/1.1 200 OK"
2025-07-03 15:16:46,411 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/Wuha06F7tlSRfPY5z/items "HTTP/1.1 200 OK"
2025-07-03 15:16:46,429 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:16:48,216 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:16:48,615 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:16:48,618 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 15:16:48,662 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 15:16:48,662 - middleware - INFO -    Status: 200
2025-07-03 15:16:48,667 - middleware - INFO -    Processing time: 71.686s
2025-07-03 15:17:19,089 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-03 15:17:19,090 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:17:19,090 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:17:19,092 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-03 15:17:19,092 - middleware - INFO -    Status: 200
2025-07-03 15:17:19,092 - middleware - INFO -    Processing time: 0.003s
2025-07-03 15:17:19,096 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 15:17:19,096 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:17:19,097 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '213', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:17:19,102 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 15:17:19,103 - routes - INFO -    Websites: ['chatgpt.com', 'openai.com', 'github.com', 'claude.ai', 'stackoverflow.com', 'google.com', 'ilovepdf.com', 'instagram.com', 'linkedin.com', 'reddit.com', 'facebook.com']
2025-07-03 15:17:19,103 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:17:19,103 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 15:17:19,107 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:17:19,769 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:17:21,288 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=chatgpt.com "HTTP/1.1 200 OK"
2025-07-03 15:17:21,790 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:17:22,020 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:17:22,258 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:17:22,262 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 15:17:22,262 - middleware - INFO -    Status: 200
2025-07-03 15:17:22,265 - middleware - INFO -    Processing time: 3.166s
2025-07-03 15:17:45,371 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 15:17:45,371 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:17:45,373 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '213', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:17:45,377 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 15:17:45,378 - routes - INFO -    Websites: ['chatgpt.com', 'openai.com', 'github.com', 'claude.ai', 'stackoverflow.com', 'google.com', 'ilovepdf.com', 'instagram.com', 'linkedin.com', 'reddit.com', 'facebook.com']
2025-07-03 15:17:45,379 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:17:45,379 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 15:17:45,382 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:17:46,069 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:17:47,502 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=chatgpt.com "HTTP/1.1 200 OK"
2025-07-03 15:17:47,986 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:17:48,485 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:17:48,979 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:17:48,984 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 15:17:48,986 - middleware - INFO -    Status: 200
2025-07-03 15:17:48,989 - middleware - INFO -    Processing time: 3.614s
2025-07-03 15:18:52,520 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 15:18:52,521 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:18:52,522 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '78', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:18:52,525 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 15:18:52,526 - routes - INFO -    Websites: ['https://supabase.com/']
2025-07-03 15:18:52,527 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:18:52,528 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 15:18:52,531 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 15:18:52,532 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 15:18:54,734 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 15:18:59,923 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/EBuZ1pLa9p4xvkdhy "HTTP/1.1 200 OK"
2025-07-03 15:19:05,257 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/EBuZ1pLa9p4xvkdhy "HTTP/1.1 200 OK"
2025-07-03 15:19:10,901 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/EBuZ1pLa9p4xvkdhy "HTTP/1.1 200 OK"
2025-07-03 15:19:16,522 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/EBuZ1pLa9p4xvkdhy "HTTP/1.1 200 OK"
2025-07-03 15:19:22,338 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/EBuZ1pLa9p4xvkdhy "HTTP/1.1 200 OK"
2025-07-03 15:19:28,154 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/EBuZ1pLa9p4xvkdhy "HTTP/1.1 200 OK"
2025-07-03 15:19:28,370 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/KLONVK3vkWTaYj1j8/items "HTTP/1.1 200 OK"
2025-07-03 15:19:28,379 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:19:29,311 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:19:29,912 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:19:29,934 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 15:19:29,937 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 15:19:29,937 - middleware - INFO -    Status: 200
2025-07-03 15:19:29,937 - middleware - INFO -    Processing time: 37.417s
2025-07-03 15:20:59,274 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 15:20:59,275 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:20:59,275 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '209', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:20:59,277 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 15:20:59,277 - routes - INFO -    Websites: ['https://supabase.com/', 'tailwindcss.com', 'resend.com', 'dribbble.com', 'lucide.dev', 'loom.com', 'expo.dev', 'vercel.com', 'webflow.com', 'canva.com', 'tally.so']
2025-07-03 15:20:59,278 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:20:59,278 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 15:20:59,281 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:20:59,906 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:21:01,106 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://supabase.com/ "HTTP/1.1 200 OK"
2025-07-03 15:21:03,642 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:21:04,128 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:21:04,626 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:21:04,633 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 15:21:04,637 - middleware - INFO -    Status: 200
2025-07-03 15:21:04,637 - middleware - INFO -    Processing time: 5.360s
2025-07-03 15:23:53,957 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 15:23:53,958 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:23:53,959 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '67', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:23:53,960 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 15:23:53,961 - routes - INFO -    Websites: ['github.com']
2025-07-03 15:23:53,961 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:23:53,961 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 15:23:53,962 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 15:23:53,962 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 15:23:55,388 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 15:24:01,039 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/h1V13vruAvKUoWid1 "HTTP/1.1 200 OK"
2025-07-03 15:24:06,683 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/h1V13vruAvKUoWid1 "HTTP/1.1 200 OK"
2025-07-03 15:24:12,344 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/h1V13vruAvKUoWid1 "HTTP/1.1 200 OK"
2025-07-03 15:24:18,040 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/h1V13vruAvKUoWid1 "HTTP/1.1 200 OK"
2025-07-03 15:24:18,223 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/nMzsMInDSIhN0cprP/items "HTTP/1.1 200 OK"
2025-07-03 15:24:18,272 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:24:19,189 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:24:19,450 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:24:19,452 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 15:24:19,455 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 15:24:19,456 - middleware - INFO -    Status: 200
2025-07-03 15:24:19,457 - middleware - INFO -    Processing time: 25.498s
2025-07-03 15:26:54,479 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 15:26:54,480 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:26:54,482 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '129', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:26:54,489 - routes - INFO - [TECH] Starting tech stack analysis for 5 websites
2025-07-03 15:26:54,491 - routes - INFO -    Websites: ['github.com', 'indeed.com', 'glassdoor.com', 'monster.com', 'ziprecruiter.com']
2025-07-03 15:26:54,493 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:26:54,496 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 15:26:54,503 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:26:55,078 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:26:56,519 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=github.com "HTTP/1.1 200 OK"
2025-07-03 15:26:56,567 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:26:57,075 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:26:57,304 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:26:57,326 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 15:26:57,327 - middleware - INFO -    Status: 200
2025-07-03 15:26:57,329 - middleware - INFO -    Processing time: 2.846s
2025-07-03 15:27:09,209 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 15:27:09,210 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:27:09,210 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '129', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:27:09,211 - routes - INFO - [TECH] Starting tech stack analysis for 5 websites
2025-07-03 15:27:09,212 - routes - INFO -    Websites: ['github.com', 'indeed.com', 'glassdoor.com', 'monster.com', 'ziprecruiter.com']
2025-07-03 15:27:09,212 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:27:09,212 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 15:27:09,213 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:27:10,092 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:27:11,269 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=github.com "HTTP/1.1 200 OK"
2025-07-03 15:27:11,308 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:27:11,801 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:27:12,040 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:27:12,045 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 15:27:12,046 - middleware - INFO -    Status: 200
2025-07-03 15:27:12,047 - middleware - INFO -    Processing time: 2.836s
2025-07-03 15:27:30,861 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-03 15:27:30,862 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:27:30,862 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:27:30,865 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-03 15:27:30,865 - middleware - INFO -    Status: 200
2025-07-03 15:27:30,865 - middleware - INFO -    Processing time: 0.004s
2025-07-03 15:27:30,871 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 15:27:30,871 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:27:30,872 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '3131', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:27:30,875 - routes - INFO - [CHAT] Received chat message: summarize your context 
2025-07-03 15:27:30,875 - routes - INFO -    Analysis data size: 3374 characters
2025-07-03 15:27:30,877 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 15:27:34,208 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 15:27:40,835 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 15:27:40,838 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 15:27:40,839 - middleware - INFO -    Status: 200
2025-07-03 15:27:40,841 - middleware - INFO -    Processing time: 9.967s
2025-07-03 15:49:19,137 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-03 15:49:19,138 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:49:19,138 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:49:19,140 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-03 15:49:19,140 - middleware - INFO -    Status: 200
2025-07-03 15:49:19,140 - middleware - INFO -    Processing time: 0.002s
2025-07-03 15:49:19,166 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 15:49:19,170 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:49:19,170 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:49:19,175 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 15:49:19,176 - routes - INFO -    Websites: ['youtube.com']
2025-07-03 15:49:19,177 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:49:19,177 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 15:49:19,180 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 15:49:19,181 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 15:49:20,454 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 15:49:26,108 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/yBF9eukCIfCYCNMLZ "HTTP/1.1 200 OK"
2025-07-03 15:49:31,752 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/yBF9eukCIfCYCNMLZ "HTTP/1.1 200 OK"
2025-07-03 15:49:37,387 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/yBF9eukCIfCYCNMLZ "HTTP/1.1 200 OK"
2025-07-03 15:49:43,296 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/yBF9eukCIfCYCNMLZ "HTTP/1.1 200 OK"
2025-07-03 15:49:48,457 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/yBF9eukCIfCYCNMLZ "HTTP/1.1 200 OK"
2025-07-03 15:49:54,075 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/yBF9eukCIfCYCNMLZ "HTTP/1.1 200 OK"
2025-07-03 15:49:54,257 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/HSWlhSTvaqEOfkndP/items "HTTP/1.1 200 OK"
2025-07-03 15:49:54,266 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:49:55,132 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:49:55,360 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:49:55,361 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 15:49:55,363 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 15:49:55,363 - middleware - INFO -    Status: 200
2025-07-03 15:49:55,363 - middleware - INFO -    Processing time: 36.197s
2025-07-03 15:50:14,805 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-03 15:50:14,806 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:50:14,806 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:50:14,807 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-03 15:50:14,807 - middleware - INFO -    Status: 200
2025-07-03 15:50:14,808 - middleware - INFO -    Processing time: 0.002s
2025-07-03 15:50:14,812 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 15:50:14,841 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:50:14,842 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '194', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:50:14,844 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 15:50:14,845 - routes - INFO -    Websites: ['youtube.com', 'netflix.com', 'imdb.com', 'hulu.com', 'facebook.com', 'vimeo.com', 'veoh.com', 'blip.tv', 'videosift.com', 'google.com', 'revver.com']
2025-07-03 15:50:14,847 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:50:14,848 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 15:50:14,849 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:50:15,547 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:50:16,692 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=youtube.com "HTTP/1.1 200 OK"
2025-07-03 15:50:16,709 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:50:17,202 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:50:17,708 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:50:17,712 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 15:50:17,713 - middleware - INFO -    Status: 200
2025-07-03 15:50:17,713 - middleware - INFO -    Processing time: 2.899s
2025-07-03 15:50:50,125 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 15:50:50,125 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 15:50:50,125 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '194', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 15:50:50,127 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 15:50:50,127 - routes - INFO -    Websites: ['youtube.com', 'netflix.com', 'imdb.com', 'hulu.com', 'facebook.com', 'vimeo.com', 'veoh.com', 'blip.tv', 'videosift.com', 'google.com', 'revver.com']
2025-07-03 15:50:50,129 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 15:50:50,129 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 15:50:50,132 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:50:51,027 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:50:52,022 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=youtube.com "HTTP/1.1 200 OK"
2025-07-03 15:50:52,033 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 15:50:52,978 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 15:50:53,487 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 15:50:53,490 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 15:50:53,490 - middleware - INFO -    Status: 200
2025-07-03 15:50:53,491 - middleware - INFO -    Processing time: 3.365s
2025-07-03 16:25:54,625 - config - INFO - Backend starting up...
2025-07-03 16:25:54,625 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 16:25:54,626 - config - INFO - .env file exists: True
2025-07-03 16:25:54,626 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 16:25:54,626 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 16:25:54,626 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 16:25:54,627 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 16:25:54,627 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 16:26:58,959 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-03 16:26:58,960 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:26:58,961 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:26:58,961 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-03 16:26:58,963 - middleware - INFO -    Status: 200
2025-07-03 16:26:58,966 - middleware - INFO -    Processing time: 0.002s
2025-07-03 16:26:58,980 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 16:26:58,981 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:26:58,984 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '66', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:26:58,999 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 16:26:59,001 - routes - INFO -    Websites: ['salla.com']
2025-07-03 16:26:59,002 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 16:26:59,002 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 16:26:59,007 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 16:26:59,008 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 16:27:00,721 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 16:27:06,640 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fleCU4fylfD68kVl "HTTP/1.1 200 OK"
2025-07-03 16:27:12,291 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fleCU4fylfD68kVl "HTTP/1.1 200 OK"
2025-07-03 16:27:17,950 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fleCU4fylfD68kVl "HTTP/1.1 200 OK"
2025-07-03 16:27:23,120 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fleCU4fylfD68kVl "HTTP/1.1 200 OK"
2025-07-03 16:27:28,850 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fleCU4fylfD68kVl "HTTP/1.1 200 OK"
2025-07-03 16:27:34,023 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fleCU4fylfD68kVl "HTTP/1.1 200 OK"
2025-07-03 16:27:39,653 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0fleCU4fylfD68kVl "HTTP/1.1 200 OK"
2025-07-03 16:27:39,997 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/jxYX80RwjKMh5cgO3/items "HTTP/1.1 200 OK"
2025-07-03 16:27:40,040 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 16:27:41,671 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 16:27:42,223 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 16:27:42,226 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 16:27:42,233 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 16:27:42,233 - middleware - INFO -    Status: 200
2025-07-03 16:27:42,233 - middleware - INFO -    Processing time: 43.252s
2025-07-03 16:28:07,259 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-03 16:28:07,260 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:28:07,261 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:28:07,264 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-03 16:28:07,265 - middleware - INFO -    Status: 200
2025-07-03 16:28:07,265 - middleware - INFO -    Processing time: 0.005s
2025-07-03 16:28:07,274 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 16:28:07,275 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:28:07,276 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '212', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:28:07,281 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 16:28:07,282 - routes - INFO -    Websites: ['salla.com', 'mapp.sa', 'ajsquare.com', 'namecheap.com', 'hostinger.com', 'zid.sa', 'godaddy.com', 'nutajr.com', 'qeematech.net', 'entaleq-online.com', 'sectionwp.com']
2025-07-03 16:28:07,282 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 16:28:07,282 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 16:28:07,284 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 16:28:07,727 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 16:28:09,373 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=salla.com "HTTP/1.1 200 OK"
2025-07-03 16:28:09,886 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 16:28:10,389 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 16:28:10,634 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 16:28:10,649 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 16:28:10,653 - middleware - INFO -    Status: 200
2025-07-03 16:28:10,654 - middleware - INFO -    Processing time: 3.376s
2025-07-03 16:28:31,143 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-03 16:28:31,145 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:28:31,145 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:28:31,146 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-03 16:28:31,147 - middleware - INFO -    Status: 200
2025-07-03 16:28:31,147 - middleware - INFO -    Processing time: 0.003s
2025-07-03 16:28:31,151 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 16:28:31,152 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:28:31,152 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6133', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:28:31,156 - routes - INFO - [CHAT] Received chat message: summarize your context
2025-07-03 16:28:31,158 - routes - INFO -    Analysis data size: 6588 characters
2025-07-03 16:28:31,159 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 16:28:34,611 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 16:28:44,123 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 16:28:44,128 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 16:28:44,130 - middleware - INFO -    Status: 200
2025-07-03 16:28:44,131 - middleware - INFO -    Processing time: 12.977s
2025-07-03 16:30:57,144 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 16:30:57,146 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:30:57,147 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6158', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:30:57,152 - routes - INFO - [CHAT] Received chat message: How can I improve my website's traffic sources?
2025-07-03 16:30:57,154 - routes - INFO -    Analysis data size: 6588 characters
2025-07-03 16:30:57,155 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 16:31:01,022 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 16:31:16,084 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 16:31:16,086 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 16:31:16,087 - middleware - INFO -    Status: 200
2025-07-03 16:31:16,087 - middleware - INFO -    Processing time: 18.942s
2025-07-03 16:34:16,831 - config - INFO - Backend starting up...
2025-07-03 16:34:16,831 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-03 16:34:16,833 - config - INFO - .env file exists: True
2025-07-03 16:34:16,834 - config - INFO - SUPABASE_URL configured: Yes
2025-07-03 16:34:16,834 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-03 16:34:16,834 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-03 16:34:16,834 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-03 16:34:16,835 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-03 16:38:09,032 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-03 16:38:09,034 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:38:09,035 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:38:09,036 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-03 16:38:09,036 - middleware - INFO -    Status: 200
2025-07-03 16:38:09,037 - middleware - INFO -    Processing time: 0.004s
2025-07-03 16:38:09,043 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-03 16:38:09,043 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:38:09,044 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '66', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:38:09,053 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-03 16:38:09,054 - routes - INFO -    Websites: ['salla.com']
2025-07-03 16:38:09,055 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 16:38:09,057 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-03 16:38:09,060 - routes - INFO - API Token Status - APIFY: YES
2025-07-03 16:38:09,061 - routes - INFO - [API] Fetching data from Apify API...
2025-07-03 16:38:11,289 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-03 16:38:17,038 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/C0wrnKUXnxKf3th9i "HTTP/1.1 200 OK"
2025-07-03 16:38:22,707 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/C0wrnKUXnxKf3th9i "HTTP/1.1 200 OK"
2025-07-03 16:38:28,300 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/C0wrnKUXnxKf3th9i "HTTP/1.1 200 OK"
2025-07-03 16:38:33,470 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/C0wrnKUXnxKf3th9i "HTTP/1.1 200 OK"
2025-07-03 16:38:39,300 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/C0wrnKUXnxKf3th9i "HTTP/1.1 200 OK"
2025-07-03 16:38:44,566 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/C0wrnKUXnxKf3th9i "HTTP/1.1 200 OK"
2025-07-03 16:38:45,104 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/ia1F6NVlHoW1dF0QV/items "HTTP/1.1 200 OK"
2025-07-03 16:38:45,112 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 16:38:46,983 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 16:38:47,283 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 16:38:47,286 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-03 16:38:47,299 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-03 16:38:47,300 - middleware - INFO -    Status: 200
2025-07-03 16:38:47,300 - middleware - INFO -    Processing time: 38.256s
2025-07-03 16:39:33,617 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-03 16:39:33,617 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:39:33,618 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:39:33,621 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-03 16:39:33,622 - middleware - INFO -    Status: 200
2025-07-03 16:39:33,623 - middleware - INFO -    Processing time: 0.004s
2025-07-03 16:39:33,635 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-03 16:39:33,637 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:39:33,638 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '212', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:39:33,642 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-03 16:39:33,643 - routes - INFO -    Websites: ['salla.com', 'mapp.sa', 'ajsquare.com', 'namecheap.com', 'hostinger.com', 'zid.sa', 'godaddy.com', 'nutajr.com', 'qeematech.net', 'entaleq-online.com', 'sectionwp.com']
2025-07-03 16:39:33,644 - routes - INFO -    User ID: user-1751542957218-i83m8aecw
2025-07-03 16:39:33,645 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-03 16:39:33,650 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 16:39:34,324 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 16:39:36,356 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=salla.com "HTTP/1.1 200 OK"
2025-07-03 16:39:36,977 - routes - INFO - [UUID] Generated UUID 3975a3f5-3b61-5364-a0f2-f879322266d5 for user_id: user-1751542957218-i83m8aecw
2025-07-03 16:39:37,483 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3975a3f5-3b61-5364-a0f2-f879322266d5 "HTTP/1.1 200 OK"
2025-07-03 16:39:37,990 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-03 16:39:37,994 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-03 16:39:37,994 - middleware - INFO -    Status: 200
2025-07-03 16:39:37,995 - middleware - INFO -    Processing time: 4.359s
2025-07-03 16:40:06,976 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-03 16:40:06,977 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:40:06,977 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:40:06,978 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-03 16:40:06,979 - middleware - INFO -    Status: 200
2025-07-03 16:40:06,979 - middleware - INFO -    Processing time: 0.002s
2025-07-03 16:40:06,982 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 16:40:06,983 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:40:06,983 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6133', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:40:06,991 - routes - INFO - [CHAT] Received chat message: summarize your context
2025-07-03 16:40:06,994 - routes - INFO -    Analysis data size: 6588 characters
2025-07-03 16:40:06,995 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 16:40:09,601 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 16:40:13,651 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 16:40:13,653 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 16:40:13,653 - middleware - INFO -    Status: 200
2025-07-03 16:40:13,654 - middleware - INFO -    Processing time: 6.672s
2025-07-03 16:40:37,375 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 16:40:37,376 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:40:37,376 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6138', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:40:37,380 - routes - INFO - [CHAT] Received chat message: summarize salla.com metrics
2025-07-03 16:40:37,382 - routes - INFO -    Analysis data size: 6588 characters
2025-07-03 16:40:37,384 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 16:40:40,626 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-03 16:40:51,807 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 16:40:51,810 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 16:40:51,813 - middleware - INFO -    Status: 200
2025-07-03 16:40:51,815 - middleware - INFO -    Processing time: 14.436s
2025-07-03 16:41:09,725 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 16:41:09,727 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:41:09,728 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6158', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:41:09,730 - routes - INFO - [CHAT] Received chat message: How can I improve my website's traffic sources?
2025-07-03 16:41:09,730 - routes - INFO -    Analysis data size: 6588 characters
2025-07-03 16:41:09,731 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 16:41:13,187 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 402 Payment Required"
2025-07-03 16:41:13,189 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 16:41:13,190 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 16:41:13,190 - middleware - INFO -    Status: 200
2025-07-03 16:41:13,192 - middleware - INFO -    Processing time: 3.465s
2025-07-03 16:41:26,286 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-03 16:41:26,287 - middleware - INFO -    Client: 127.0.0.1
2025-07-03 16:41:26,288 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6147', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-03 16:41:26,289 - routes - INFO - [CHAT] Received chat message: Show me detailed competitor analysis
2025-07-03 16:41:26,291 - routes - INFO -    Analysis data size: 6588 characters
2025-07-03 16:41:26,292 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-03 16:41:28,085 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 402 Payment Required"
2025-07-03 16:41:28,090 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-03 16:41:28,092 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-03 16:41:28,093 - middleware - INFO -    Status: 200
2025-07-03 16:41:28,094 - middleware - INFO -    Processing time: 1.807s
2025-07-04 15:02:52,803 - config - INFO - Backend starting up...
2025-07-04 15:02:52,803 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-04 15:02:52,804 - config - INFO - .env file exists: True
2025-07-04 15:02:52,804 - config - INFO - SUPABASE_URL configured: Yes
2025-07-04 15:02:52,804 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-04 15:02:52,804 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-04 15:02:52,804 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-04 15:02:52,805 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-04 15:13:15,775 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-04 15:13:15,776 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:13:15,777 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:13:15,777 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-04 15:13:15,778 - middleware - INFO -    Status: 200
2025-07-04 15:13:15,778 - middleware - INFO -    Processing time: 0.002s
2025-07-04 15:13:15,784 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 15:13:15,784 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:13:15,784 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:13:15,792 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 15:13:15,793 - routes - INFO -    Websites: ['youtube.com']
2025-07-04 15:13:15,793 - routes - INFO -    User ID: user-1751638294195-42336m3pt
2025-07-04 15:13:15,794 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 15:13:15,794 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 15:13:15,795 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 15:13:17,634 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 15:13:23,586 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:13:28,846 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:13:34,091 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:13:39,821 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:13:45,811 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:13:51,668 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:13:56,968 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:14:03,469 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:14:10,104 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:14:16,400 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:14:21,610 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:14:27,512 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:14:32,801 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:14:38,752 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:14:44,093 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:14:50,152 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:14:56,062 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:15:01,913 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:15:07,141 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:15:13,397 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/xQnG3iqyZDTYw1BPw "HTTP/1.1 200 OK"
2025-07-04 15:15:13,804 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/b9jX1653Aff3jDXql/items "HTTP/1.1 200 OK"
2025-07-04 15:15:13,878 - routes - INFO - [UUID] Generated UUID d9f57dc7-9aff-58b7-abd7-b35fa553ae21 for user_id: user-1751638294195-42336m3pt
2025-07-04 15:15:16,403 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.d9f57dc7-9aff-58b7-abd7-b35fa553ae21 "HTTP/1.1 200 OK"
2025-07-04 15:15:17,045 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 15:15:17,053 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 15:15:17,069 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 15:15:17,070 - middleware - INFO -    Status: 200
2025-07-04 15:15:17,071 - middleware - INFO -    Processing time: 121.285s
2025-07-04 15:15:27,117 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-04 15:15:27,117 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:15:27,118 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:15:27,119 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-04 15:15:27,119 - middleware - INFO -    Status: 200
2025-07-04 15:15:27,120 - middleware - INFO -    Processing time: 0.004s
2025-07-04 15:15:27,127 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 15:15:27,130 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:15:27,132 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '77', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:15:27,136 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 15:15:27,136 - routes - INFO -    Websites: ['https://chatgpt.com/']
2025-07-04 15:15:27,137 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 15:15:27,137 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 15:15:27,137 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 15:15:27,137 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 15:15:28,408 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 15:15:34,741 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/wKc78rN9aZKq97rJr "HTTP/1.1 200 OK"
2025-07-04 15:15:40,007 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/wKc78rN9aZKq97rJr "HTTP/1.1 200 OK"
2025-07-04 15:15:45,832 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/wKc78rN9aZKq97rJr "HTTP/1.1 200 OK"
2025-07-04 15:15:52,063 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/wKc78rN9aZKq97rJr "HTTP/1.1 200 OK"
2025-07-04 15:15:58,222 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/wKc78rN9aZKq97rJr "HTTP/1.1 200 OK"
2025-07-04 15:16:02,120 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-04 15:16:02,120 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:16:02,121 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:16:02,122 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-04 15:16:02,124 - middleware - INFO -    Status: 200
2025-07-04 15:16:02,124 - middleware - INFO -    Processing time: 0.002s
2025-07-04 15:16:02,132 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-04 15:16:02,133 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:16:02,134 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '194', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:16:02,136 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-04 15:16:02,136 - routes - INFO -    Websites: ['youtube.com', 'netflix.com', 'imdb.com', 'hulu.com', 'facebook.com', 'vimeo.com', 'veoh.com', 'blip.tv', 'videosift.com', 'google.com', 'revver.com']
2025-07-04 15:16:02,137 - routes - INFO -    User ID: user-1751638294195-42336m3pt
2025-07-04 15:16:02,139 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-04 15:16:02,141 - routes - INFO - [UUID] Generated UUID d9f57dc7-9aff-58b7-abd7-b35fa553ae21 for user_id: user-1751638294195-42336m3pt
2025-07-04 15:16:03,084 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.d9f57dc7-9aff-58b7-abd7-b35fa553ae21 "HTTP/1.1 200 OK"
2025-07-04 15:16:04,978 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/wKc78rN9aZKq97rJr "HTTP/1.1 200 OK"
2025-07-04 15:16:05,136 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=youtube.com "HTTP/1.1 200 OK"
2025-07-04 15:16:05,153 - routes - INFO - [UUID] Generated UUID d9f57dc7-9aff-58b7-abd7-b35fa553ae21 for user_id: user-1751638294195-42336m3pt
2025-07-04 15:16:05,840 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.d9f57dc7-9aff-58b7-abd7-b35fa553ae21 "HTTP/1.1 200 OK"
2025-07-04 15:16:06,208 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 15:16:06,212 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-04 15:16:06,213 - middleware - INFO -    Status: 200
2025-07-04 15:16:06,214 - middleware - INFO -    Processing time: 4.082s
2025-07-04 15:16:06,219 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/XaXYLtsw4VSuo7Rad/items "HTTP/1.1 200 OK"
2025-07-04 15:16:06,224 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 15:16:06,730 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 15:16:06,996 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 15:16:07,003 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 15:16:07,009 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 15:16:07,016 - middleware - INFO -    Status: 200
2025-07-04 15:16:07,022 - middleware - INFO -    Processing time: 39.883s
2025-07-04 15:16:48,394 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-04 15:16:48,395 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:16:48,395 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:16:48,396 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-04 15:16:48,396 - middleware - INFO -    Status: 200
2025-07-04 15:16:48,397 - middleware - INFO -    Processing time: 0.002s
2025-07-04 15:16:48,399 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 15:16:48,400 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:16:48,400 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6145', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:16:48,430 - routes - INFO - [CHAT] Received chat message: sum up your context
2025-07-04 15:16:48,432 - routes - INFO -    Analysis data size: 6612 characters
2025-07-04 15:16:48,433 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 15:16:49,982 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 402 Payment Required"
2025-07-04 15:16:49,985 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 15:16:49,986 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 15:16:49,987 - middleware - INFO -    Status: 200
2025-07-04 15:16:49,987 - middleware - INFO -    Processing time: 1.587s
2025-07-04 15:16:57,396 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 15:16:57,398 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:16:57,400 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6145', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:16:57,402 - routes - INFO - [CHAT] Received chat message: sum up your context
2025-07-04 15:16:57,403 - routes - INFO -    Analysis data size: 6612 characters
2025-07-04 15:16:57,403 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 15:16:58,993 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 402 Payment Required"
2025-07-04 15:16:58,997 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 15:16:58,998 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 15:16:59,000 - middleware - INFO -    Status: 200
2025-07-04 15:16:59,001 - middleware - INFO -    Processing time: 1.602s
2025-07-04 15:17:02,882 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 15:17:02,883 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:17:02,883 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6163', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:17:02,885 - routes - INFO - [CHAT] Received chat message: How can I improve my conversion rate?
2025-07-04 15:17:02,885 - routes - INFO -    Analysis data size: 6612 characters
2025-07-04 15:17:02,886 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 15:17:04,012 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 402 Payment Required"
2025-07-04 15:17:04,020 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 15:17:04,025 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 15:17:04,026 - middleware - INFO -    Status: 200
2025-07-04 15:17:04,028 - middleware - INFO -    Processing time: 1.143s
2025-07-04 15:17:15,458 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 15:17:15,458 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:17:15,459 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6174', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:17:15,460 - routes - INFO - [CHAT] Received chat message: How does this domain compare to its competitors?
2025-07-04 15:17:15,461 - routes - INFO -    Analysis data size: 6612 characters
2025-07-04 15:17:15,462 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 15:17:16,897 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 402 Payment Required"
2025-07-04 15:17:16,901 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 15:17:16,903 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 15:17:16,904 - middleware - INFO -    Status: 200
2025-07-04 15:17:16,906 - middleware - INFO -    Processing time: 1.446s
2025-07-04 15:17:24,062 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 15:17:24,063 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:17:24,067 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6132', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:17:24,070 - routes - INFO - [CHAT] Received chat message: hello 
2025-07-04 15:17:24,072 - routes - INFO -    Analysis data size: 6612 characters
2025-07-04 15:17:24,074 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 15:17:26,016 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 402 Payment Required"
2025-07-04 15:17:26,019 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 15:17:26,021 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 15:17:26,022 - middleware - INFO -    Status: 200
2025-07-04 15:17:26,022 - middleware - INFO -    Processing time: 1.959s
2025-07-04 15:20:53,003 - config - INFO - Backend starting up...
2025-07-04 15:20:53,003 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-04 15:20:53,004 - config - INFO - .env file exists: True
2025-07-04 15:20:53,004 - config - INFO - SUPABASE_URL configured: Yes
2025-07-04 15:20:53,004 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-04 15:20:53,005 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-04 15:20:53,005 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-04 15:20:53,005 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-04 15:21:44,159 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 15:21:44,161 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:21:44,161 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '71', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:21:44,166 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 15:21:44,166 - routes - INFO -    Websites: ['flashscore.com']
2025-07-04 15:21:44,166 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 15:21:44,166 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 15:21:44,167 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 15:21:44,168 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 15:21:45,697 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 15:21:51,642 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/tV5pKgVGecHEsyKMW "HTTP/1.1 200 OK"
2025-07-04 15:21:57,670 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/tV5pKgVGecHEsyKMW "HTTP/1.1 200 OK"
2025-07-04 15:22:03,072 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/tV5pKgVGecHEsyKMW "HTTP/1.1 200 OK"
2025-07-04 15:22:10,138 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/tV5pKgVGecHEsyKMW "HTTP/1.1 200 OK"
2025-07-04 15:22:16,682 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/tV5pKgVGecHEsyKMW "HTTP/1.1 200 OK"
2025-07-04 15:22:16,946 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/Z9OZEWzVrbQxdlFg0/items "HTTP/1.1 200 OK"
2025-07-04 15:22:16,965 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 15:22:19,526 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 15:22:20,076 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 15:22:20,729 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 15:22:20,760 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 15:22:20,762 - middleware - INFO -    Status: 200
2025-07-04 15:22:20,762 - middleware - INFO -    Processing time: 36.601s
2025-07-04 15:22:42,848 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 15:22:42,849 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:22:42,850 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '81', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:22:42,851 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 15:22:42,851 - routes - INFO -    Websites: ['https://www.booking.com/']
2025-07-04 15:22:42,852 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 15:22:42,852 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 15:22:42,852 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 15:22:42,852 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 15:22:48,247 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 15:22:53,809 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/cBn1HAJjtu7Tp9Lzr "HTTP/1.1 200 OK"
2025-07-04 15:22:59,917 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/cBn1HAJjtu7Tp9Lzr "HTTP/1.1 200 OK"
2025-07-04 15:23:07,347 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/cBn1HAJjtu7Tp9Lzr "HTTP/1.1 200 OK"
2025-07-04 15:23:14,018 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/cBn1HAJjtu7Tp9Lzr "HTTP/1.1 200 OK"
2025-07-04 15:23:14,446 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/M6iQKV5dgeJ4MQxRi/items "HTTP/1.1 200 OK"
2025-07-04 15:23:14,505 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 15:23:15,637 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 15:23:16,331 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 15:23:16,390 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 15:23:16,395 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 15:23:16,396 - middleware - INFO -    Status: 200
2025-07-04 15:23:16,397 - middleware - INFO -    Processing time: 33.547s
2025-07-04 15:26:43,104 - config - INFO - Backend starting up...
2025-07-04 15:26:43,105 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-04 15:26:43,105 - config - INFO - .env file exists: True
2025-07-04 15:26:43,106 - config - INFO - SUPABASE_URL configured: Yes
2025-07-04 15:26:43,106 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-04 15:26:43,107 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-04 15:26:43,107 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-04 15:26:43,107 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-04 15:27:13,128 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-04 15:27:13,129 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:27:13,129 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:27:13,132 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-04 15:27:13,133 - middleware - INFO -    Status: 200
2025-07-04 15:27:13,133 - middleware - INFO -    Processing time: 0.004s
2025-07-04 15:27:13,141 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 15:27:13,147 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:27:13,148 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '81', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:27:13,153 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 15:27:13,153 - routes - INFO -    Websites: ['https://www.booking.com/']
2025-07-04 15:27:13,153 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 15:27:13,154 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 15:27:13,154 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 15:27:13,154 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 15:27:15,200 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 15:27:21,065 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:27:27,267 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:27:33,151 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:27:39,090 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:27:45,119 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:27:50,444 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:27:55,730 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:02,103 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:08,072 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:13,790 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:19,043 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:24,881 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:30,172 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:35,980 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:41,933 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:47,654 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:53,618 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:28:59,657 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:29:05,661 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:29:10,926 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:29:16,948 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:29:22,857 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:29:28,641 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:29:34,814 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:29:40,658 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:29:45,929 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:29:51,807 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:29:57,128 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:30:02,381 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:30:08,195 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:30:13,969 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:30:20,134 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:30:26,025 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:30:31,964 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:30:38,046 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:30:43,251 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:30:49,237 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:30:54,441 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/GyR3FXseVm1H0hZmM "HTTP/1.1 200 OK"
2025-07-04 15:31:43,820 - config - INFO - Backend starting up...
2025-07-04 15:31:43,820 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-04 15:31:43,820 - config - INFO - .env file exists: True
2025-07-04 15:31:43,820 - config - INFO - SUPABASE_URL configured: Yes
2025-07-04 15:31:43,820 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-04 15:31:43,820 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-04 15:31:43,820 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-04 15:31:43,823 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-04 15:32:09,569 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 15:32:09,571 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:32:09,572 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '80', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:32:09,582 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 15:32:09,583 - routes - INFO -    Websites: ['https://www.booking.com']
2025-07-04 15:32:09,583 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 15:32:09,584 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 15:32:09,585 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 15:32:09,585 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 15:32:11,823 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 15:32:17,840 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:32:24,220 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:32:30,553 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:32:36,636 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:32:42,601 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:32:47,851 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:32:53,644 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:32:59,532 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:33:05,370 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:33:10,605 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:33:16,709 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aGk18vXy0vCZBIC3L "HTTP/1.1 200 OK"
2025-07-04 15:33:16,991 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/KWet0Ip6klZRaOmeF/items "HTTP/1.1 200 OK"
2025-07-04 15:33:17,021 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 15:33:19,128 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 15:33:19,730 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 15:33:19,731 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 15:33:19,732 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 15:33:19,732 - middleware - INFO -    Status: 200
2025-07-04 15:33:19,732 - middleware - INFO -    Processing time: 70.163s
2025-07-04 15:33:35,528 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 15:33:35,528 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:33:35,529 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:33:35,532 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 15:33:35,532 - routes - INFO -    Websites: ['youtube.com']
2025-07-04 15:33:35,532 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 15:33:35,532 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 15:33:35,532 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 15:33:35,533 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 15:33:37,685 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 15:33:44,075 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/TDDt9ZnEK9cO9pF5q "HTTP/1.1 200 OK"
2025-07-04 15:33:50,044 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/TDDt9ZnEK9cO9pF5q "HTTP/1.1 200 OK"
2025-07-04 15:33:55,359 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/TDDt9ZnEK9cO9pF5q "HTTP/1.1 200 OK"
2025-07-04 15:34:00,666 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/TDDt9ZnEK9cO9pF5q "HTTP/1.1 200 OK"
2025-07-04 15:34:05,878 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/TDDt9ZnEK9cO9pF5q "HTTP/1.1 200 OK"
2025-07-04 15:34:12,145 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/TDDt9ZnEK9cO9pF5q "HTTP/1.1 200 OK"
2025-07-04 15:34:17,880 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/TDDt9ZnEK9cO9pF5q "HTTP/1.1 200 OK"
2025-07-04 15:34:18,085 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/fd2ouvIOO6ovG9Mp1/items "HTTP/1.1 200 OK"
2025-07-04 15:34:18,095 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 15:34:18,919 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 15:34:19,503 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 15:34:19,505 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 15:34:19,507 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 15:34:19,508 - middleware - INFO -    Status: 200
2025-07-04 15:34:19,508 - middleware - INFO -    Processing time: 43.979s
2025-07-04 15:34:41,392 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 15:34:41,392 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:34:41,393 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '76', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:34:41,396 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 15:34:41,397 - routes - INFO -    Websites: ['https://mistral.ai/']
2025-07-04 15:34:41,397 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 15:34:41,397 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 15:34:41,398 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 15:34:41,399 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 15:34:43,664 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 15:34:48,853 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:34:55,098 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:35:00,899 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:35:06,132 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:35:11,990 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:35:18,016 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:35:23,692 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:35:29,631 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:35:34,975 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:35:40,897 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:35:46,642 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/pRFuWDTa5Ul28sUbi "HTTP/1.1 200 OK"
2025-07-04 15:35:46,854 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/1BA2NxChe0PYAotyq/items "HTTP/1.1 200 OK"
2025-07-04 15:35:46,864 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 15:35:47,799 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 15:35:48,362 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 15:35:48,365 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 15:35:48,367 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 15:35:48,367 - middleware - INFO -    Status: 200
2025-07-04 15:35:48,367 - middleware - INFO -    Processing time: 66.975s
2025-07-04 15:36:10,332 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-04 15:36:10,333 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:36:10,333 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:36:10,335 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-04 15:36:10,336 - middleware - INFO -    Status: 200
2025-07-04 15:36:10,336 - middleware - INFO -    Processing time: 0.003s
2025-07-04 15:36:10,344 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-04 15:36:10,345 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:36:10,346 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '194', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:36:10,348 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-04 15:36:10,349 - routes - INFO -    Websites: ['https://mistral.ai/', 'huggingface.co', 'openai.com', 'notion.so', 'figma.com', 't.me', 'groq.com', 'npmjs.com', 'gamma.app', 'airtable.com', 'x.ai']
2025-07-04 15:36:10,349 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 15:36:10,350 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-04 15:36:10,351 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 15:36:12,049 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 15:36:13,927 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://mistral.ai/ "HTTP/1.1 200 OK"
2025-07-04 15:36:14,534 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 15:36:14,927 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 15:36:15,535 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 15:36:15,537 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-04 15:36:15,537 - middleware - INFO -    Status: 200
2025-07-04 15:36:15,537 - middleware - INFO -    Processing time: 5.194s
2025-07-04 15:37:15,201 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-04 15:37:15,202 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:37:15,204 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:37:15,205 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-04 15:37:15,205 - middleware - INFO -    Status: 200
2025-07-04 15:37:15,206 - middleware - INFO -    Processing time: 0.004s
2025-07-04 15:37:15,221 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 15:37:15,221 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:37:15,229 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6177', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:37:15,265 - routes - INFO - [CHAT] Received chat message: summarize your context
2025-07-04 15:37:15,266 - routes - INFO -    Analysis data size: 6643 characters
2025-07-04 15:37:15,266 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 15:37:19,142 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-04 15:37:23,950 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 15:37:23,953 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 15:37:23,953 - middleware - INFO -    Status: 200
2025-07-04 15:37:23,955 - middleware - INFO -    Processing time: 8.732s
2025-07-04 15:37:48,042 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 15:37:48,043 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:37:48,043 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6336', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:37:48,044 - routes - INFO - [CHAT] Received chat message: make Analysis: - Traffic optimization strategies - Tech stack assessment - Market positioning - User engagement - SEO opportunities - Geographic expansion - Performance benchmarking
2025-07-04 15:37:48,045 - routes - INFO -    Analysis data size: 6643 characters
2025-07-04 15:37:48,045 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 15:37:50,442 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-04 15:38:02,876 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 15:38:02,877 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 15:38:02,879 - middleware - INFO -    Status: 200
2025-07-04 15:38:02,879 - middleware - INFO -    Processing time: 14.835s
2025-07-04 15:39:28,204 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 15:39:28,205 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 15:39:28,206 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6194', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 15:39:28,209 - routes - INFO - [CHAT] Received chat message: How do I compare to my top competitors?
2025-07-04 15:39:28,210 - routes - INFO -    Analysis data size: 6643 characters
2025-07-04 15:39:28,210 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 15:39:31,779 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-04 15:39:40,020 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 15:39:40,021 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 15:39:40,021 - middleware - INFO -    Status: 200
2025-07-04 15:39:40,022 - middleware - INFO -    Processing time: 11.817s
2025-07-04 15:43:03,333 - config - INFO - Backend starting up...
2025-07-04 15:43:03,333 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-04 15:43:03,333 - config - INFO - .env file exists: True
2025-07-04 15:43:03,333 - config - INFO - SUPABASE_URL configured: Yes
2025-07-04 15:43:03,333 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-04 15:43:03,334 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-04 15:43:03,334 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-04 15:43:03,334 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-04 15:44:43,812 - config - INFO - Backend starting up...
2025-07-04 15:44:43,812 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-04 15:44:43,812 - config - INFO - .env file exists: True
2025-07-04 15:44:43,812 - config - INFO - SUPABASE_URL configured: Yes
2025-07-04 15:44:43,813 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-04 15:44:43,813 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-04 15:44:43,813 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-04 15:44:43,813 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-04 16:04:17,335 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-04 16:04:17,339 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:04:17,340 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:04:17,348 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-04 16:04:17,348 - middleware - INFO -    Status: 200
2025-07-04 16:04:17,350 - middleware - INFO -    Processing time: 0.014s
2025-07-04 16:04:17,373 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 16:04:17,397 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:04:17,402 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '77', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:04:17,521 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 16:04:17,529 - routes - INFO -    Websites: ['https://chatgpt.com/']
2025-07-04 16:04:17,531 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 16:04:17,532 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 16:04:17,535 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 16:04:17,541 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 16:04:21,213 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 16:04:26,801 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/nzLAaBjhvy9otxsEy "HTTP/1.1 200 OK"
2025-07-04 16:04:33,175 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/nzLAaBjhvy9otxsEy "HTTP/1.1 200 OK"
2025-07-04 16:04:38,451 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/nzLAaBjhvy9otxsEy "HTTP/1.1 200 OK"
2025-07-04 16:04:44,456 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/nzLAaBjhvy9otxsEy "HTTP/1.1 200 OK"
2025-07-04 16:04:50,940 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/nzLAaBjhvy9otxsEy "HTTP/1.1 200 OK"
2025-07-04 16:04:57,741 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/nzLAaBjhvy9otxsEy "HTTP/1.1 200 OK"
2025-07-04 16:04:58,004 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/Rh6414zyzQonUunHe/items "HTTP/1.1 200 OK"
2025-07-04 16:04:58,029 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 16:05:00,163 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 16:05:00,989 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 16:05:01,074 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 16:05:01,181 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 16:05:01,189 - middleware - INFO -    Status: 200
2025-07-04 16:05:01,193 - middleware - INFO -    Processing time: 43.808s
2025-07-04 16:17:06,575 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-04 16:17:06,576 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:17:06,577 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:17:06,580 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-04 16:17:06,580 - middleware - INFO -    Status: 200
2025-07-04 16:17:06,582 - middleware - INFO -    Processing time: 0.004s
2025-07-04 16:17:06,594 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-04 16:17:06,596 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:17:06,597 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '222', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:17:06,605 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-04 16:17:06,607 - routes - INFO -    Websites: ['https://chatgpt.com/', 'openai.com', 'github.com', 'claude.ai', 'stackoverflow.com', 'google.com', 'ilovepdf.com', 'instagram.com', 'linkedin.com', 'reddit.com', 'facebook.com']
2025-07-04 16:17:06,607 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 16:17:06,608 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-04 16:17:06,613 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 16:17:07,809 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 16:17:10,315 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://chatgpt.com/ "HTTP/1.1 200 OK"
2025-07-04 16:17:10,870 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 16:17:11,432 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 16:17:11,951 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 16:17:11,965 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-04 16:17:11,966 - middleware - INFO -    Status: 200
2025-07-04 16:17:11,967 - middleware - INFO -    Processing time: 5.370s
2025-07-04 16:18:02,267 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-04 16:18:02,269 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:18:02,270 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:18:02,273 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-04 16:18:02,274 - middleware - INFO -    Status: 200
2025-07-04 16:18:02,275 - middleware - INFO -    Processing time: 0.005s
2025-07-04 16:18:02,565 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 16:18:02,565 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:18:02,566 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '79', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:18:02,568 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 16:18:02,569 - routes - INFO -    Websites: ['https://lamishop3.com/']
2025-07-04 16:18:02,569 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 16:18:02,569 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 16:18:02,570 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 16:18:02,570 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 16:18:04,946 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 16:18:10,312 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:18:16,103 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:18:22,918 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:18:29,009 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:18:35,048 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:18:40,765 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:18:51,971 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:18:58,299 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:19:04,555 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:19:10,473 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:19:16,838 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/7UymR7WJdbFXGrpAo "HTTP/1.1 200 OK"
2025-07-04 16:19:17,223 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/GcBvPbMYsKCcjOlv7/items "HTTP/1.1 200 OK"
2025-07-04 16:19:17,255 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 16:19:18,376 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 16:19:19,057 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 16:19:19,068 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 16:19:19,074 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 16:19:19,075 - middleware - INFO -    Status: 200
2025-07-04 16:19:19,077 - middleware - INFO -    Processing time: 76.509s
2025-07-04 16:20:53,144 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 16:20:53,146 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:20:53,146 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '66', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:20:53,151 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 16:20:53,153 - routes - INFO -    Websites: ['salla.com']
2025-07-04 16:20:53,155 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 16:20:53,156 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 16:20:53,158 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 16:20:53,158 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 16:20:56,329 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 16:21:02,039 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LpFCUMd9IxyZkSH36 "HTTP/1.1 200 OK"
2025-07-04 16:21:07,553 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LpFCUMd9IxyZkSH36 "HTTP/1.1 200 OK"
2025-07-04 16:21:14,752 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LpFCUMd9IxyZkSH36 "HTTP/1.1 200 OK"
2025-07-04 16:21:20,769 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LpFCUMd9IxyZkSH36 "HTTP/1.1 200 OK"
2025-07-04 16:21:26,034 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LpFCUMd9IxyZkSH36 "HTTP/1.1 200 OK"
2025-07-04 16:21:32,012 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LpFCUMd9IxyZkSH36 "HTTP/1.1 200 OK"
2025-07-04 16:21:32,673 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/5M76P0fBrCiLTgMTd/items "HTTP/1.1 200 OK"
2025-07-04 16:21:32,685 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 16:21:33,906 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 16:21:34,366 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 16:21:34,367 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 16:21:34,369 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 16:21:34,369 - middleware - INFO -    Status: 200
2025-07-04 16:21:34,370 - middleware - INFO -    Processing time: 41.225s
2025-07-04 16:22:11,808 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 16:22:11,808 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:22:11,809 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '79', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:22:11,810 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 16:22:11,811 - routes - INFO -    Websites: ['https://lamishop3.com/']
2025-07-04 16:22:11,811 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 16:22:11,811 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 16:22:11,812 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 16:22:11,812 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 16:22:13,777 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 16:22:21,424 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/6qtjkQ06JLVOQcr3e "HTTP/1.1 200 OK"
2025-07-04 16:22:27,730 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/6qtjkQ06JLVOQcr3e "HTTP/1.1 200 OK"
2025-07-04 16:22:33,777 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/6qtjkQ06JLVOQcr3e "HTTP/1.1 200 OK"
2025-07-04 16:22:39,549 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/6qtjkQ06JLVOQcr3e "HTTP/1.1 200 OK"
2025-07-04 16:22:45,666 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/6qtjkQ06JLVOQcr3e "HTTP/1.1 200 OK"
2025-07-04 16:22:51,990 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/6qtjkQ06JLVOQcr3e "HTTP/1.1 200 OK"
2025-07-04 16:22:52,319 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/F8NFYTWShRxSQcco5/items "HTTP/1.1 200 OK"
2025-07-04 16:22:52,329 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 16:22:53,654 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 16:22:54,037 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 16:22:54,038 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 16:22:54,041 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 16:22:54,041 - middleware - INFO -    Status: 200
2025-07-04 16:22:54,041 - middleware - INFO -    Processing time: 42.233s
2025-07-04 16:23:59,565 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 16:23:59,565 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:23:59,566 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '79', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:23:59,566 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 16:23:59,568 - routes - INFO -    Websites: ['https://lamishop3.com/']
2025-07-04 16:23:59,568 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 16:23:59,568 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 16:23:59,569 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 16:23:59,570 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 16:24:01,772 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 16:24:07,892 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/1Oric0HHN98uGMOEE "HTTP/1.1 200 OK"
2025-07-04 16:24:13,661 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/1Oric0HHN98uGMOEE "HTTP/1.1 200 OK"
2025-07-04 16:24:18,943 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/1Oric0HHN98uGMOEE "HTTP/1.1 200 OK"
2025-07-04 16:24:25,044 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/1Oric0HHN98uGMOEE "HTTP/1.1 200 OK"
2025-07-04 16:24:31,202 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/1Oric0HHN98uGMOEE "HTTP/1.1 200 OK"
2025-07-04 16:24:37,343 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/1Oric0HHN98uGMOEE "HTTP/1.1 200 OK"
2025-07-04 16:24:43,500 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/1Oric0HHN98uGMOEE "HTTP/1.1 200 OK"
2025-07-04 16:24:43,824 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/iqm0cMT4GUjgMZZfG/items "HTTP/1.1 200 OK"
2025-07-04 16:24:43,843 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 16:24:44,688 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 16:24:45,224 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 16:24:45,226 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 16:24:45,228 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 16:24:45,228 - middleware - INFO -    Status: 200
2025-07-04 16:24:45,228 - middleware - INFO -    Processing time: 45.663s
2025-07-04 16:25:59,263 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-04 16:25:59,264 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:25:59,265 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:25:59,267 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-04 16:25:59,268 - middleware - INFO -    Status: 200
2025-07-04 16:25:59,268 - middleware - INFO -    Processing time: 0.004s
2025-07-04 16:25:59,275 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 16:25:59,278 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 16:25:59,279 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '231', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 16:25:59,286 - routes - INFO - [CHAT] Received chat message: هذا متجر ما هي اهم كلمات مفتاحية موجوده
2025-07-04 16:25:59,287 - routes - INFO -    Analysis data size: 137 characters
2025-07-04 16:25:59,287 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 16:26:04,278 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-04 16:26:12,716 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 16:26:12,717 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 16:26:12,717 - middleware - INFO -    Status: 200
2025-07-04 16:26:12,717 - middleware - INFO -    Processing time: 13.442s
2025-07-04 17:02:28,869 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-04 17:02:28,871 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 17:02:28,872 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 17:02:28,876 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-04 17:02:28,877 - middleware - INFO -    Status: 200
2025-07-04 17:02:28,877 - middleware - INFO -    Processing time: 0.007s
2025-07-04 17:02:28,886 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 17:02:28,886 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 17:02:28,886 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '69', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 17:02:28,898 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 17:02:28,899 - routes - INFO -    Websites: ['linkedin.com']
2025-07-04 17:02:28,900 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 17:02:28,900 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 17:02:28,901 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 17:02:28,902 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 17:02:30,147 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 17:02:35,975 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/G7O7BymePOeqCv2i0 "HTTP/1.1 200 OK"
2025-07-04 17:02:42,186 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/G7O7BymePOeqCv2i0 "HTTP/1.1 200 OK"
2025-07-04 17:02:48,344 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/G7O7BymePOeqCv2i0 "HTTP/1.1 200 OK"
2025-07-04 17:02:53,985 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/G7O7BymePOeqCv2i0 "HTTP/1.1 200 OK"
2025-07-04 17:02:54,186 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/q4b4ohNE3s6oqIDcc/items "HTTP/1.1 200 OK"
2025-07-04 17:02:54,198 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 17:02:55,071 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 17:02:55,610 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 17:02:55,612 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 17:02:55,620 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 17:02:55,620 - middleware - INFO -    Status: 200
2025-07-04 17:02:55,621 - middleware - INFO -    Processing time: 26.733s
2025-07-04 17:03:09,214 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-04 17:03:09,215 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 17:03:09,216 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 17:03:09,217 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-04 17:03:09,217 - middleware - INFO -    Status: 200
2025-07-04 17:03:09,218 - middleware - INFO -    Processing time: 0.003s
2025-07-04 17:03:09,232 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-04 17:03:09,234 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 17:03:09,235 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '201', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 17:03:09,237 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-04 17:03:09,238 - routes - INFO -    Websites: ['linkedin.com', 'facebook.com', 'instagram.com', 'x.com', 'twitter.com', 'reddit.com', 'tiktok.com', 't.co', 'pinterest.com', 'discord.com', 'messenger.com']
2025-07-04 17:03:09,238 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 17:03:09,238 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-04 17:03:09,240 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 17:03:10,006 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 17:03:11,135 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=linkedin.com "HTTP/1.1 200 OK"
2025-07-04 17:03:11,305 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 17:03:11,812 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 17:03:12,313 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 17:03:12,325 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-04 17:03:12,328 - middleware - INFO -    Status: 200
2025-07-04 17:03:12,330 - middleware - INFO -    Processing time: 3.094s
2025-07-04 17:03:22,438 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-04 17:03:22,439 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 17:03:22,439 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 17:03:22,441 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-04 17:03:22,442 - middleware - INFO -    Status: 200
2025-07-04 17:03:22,443 - middleware - INFO -    Processing time: 0.002s
2025-07-04 17:03:22,453 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 17:03:22,453 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 17:03:22,453 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6149', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 17:03:22,455 - routes - INFO - [CHAT] Received chat message: hello
2025-07-04 17:03:22,456 - routes - INFO -    Analysis data size: 6634 characters
2025-07-04 17:03:22,456 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 17:03:24,692 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-04 17:03:29,580 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 17:03:29,582 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 17:03:29,583 - middleware - INFO -    Status: 200
2025-07-04 17:03:29,583 - middleware - INFO -    Processing time: 7.129s
2025-07-04 17:03:38,097 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-04 17:03:38,097 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 17:03:38,097 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6157', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 17:03:38,099 - routes - INFO - [CHAT] Received chat message: salem alaykom
2025-07-04 17:03:38,099 - routes - INFO -    Analysis data size: 6634 characters
2025-07-04 17:03:38,099 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-04 17:03:40,476 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-04 17:03:46,468 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-04 17:03:46,468 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-04 17:03:46,469 - middleware - INFO -    Status: 200
2025-07-04 17:03:46,469 - middleware - INFO -    Processing time: 8.371s
2025-07-04 17:06:37,628 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-04 17:06:37,631 - middleware - INFO -    Client: 127.0.0.1
2025-07-04 17:06:37,633 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '68', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-04 17:06:37,636 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-04 17:06:37,637 - routes - INFO -    Websites: ['youtube.com']
2025-07-04 17:06:37,637 - routes - INFO -    User ID: user-1751638508900-mnssuqdxi
2025-07-04 17:06:37,637 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-04 17:06:37,637 - routes - INFO - API Token Status - APIFY: YES
2025-07-04 17:06:37,638 - routes - INFO - [API] Fetching data from Apify API...
2025-07-04 17:06:38,936 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-04 17:06:44,632 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/fMqnLn56utIA5AhTU "HTTP/1.1 200 OK"
2025-07-04 17:06:50,133 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/fMqnLn56utIA5AhTU "HTTP/1.1 200 OK"
2025-07-04 17:06:55,791 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/fMqnLn56utIA5AhTU "HTTP/1.1 200 OK"
2025-07-04 17:07:00,963 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/fMqnLn56utIA5AhTU "HTTP/1.1 200 OK"
2025-07-04 17:07:06,663 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/fMqnLn56utIA5AhTU "HTTP/1.1 200 OK"
2025-07-04 17:07:06,874 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/b7IoyosJ93fcVJpIs/items "HTTP/1.1 200 OK"
2025-07-04 17:07:06,904 - routes - INFO - [UUID] Generated UUID 29c8d4eb-afab-519e-9122-8866c8939e06 for user_id: user-1751638508900-mnssuqdxi
2025-07-04 17:07:07,500 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.29c8d4eb-afab-519e-9122-8866c8939e06 "HTTP/1.1 200 OK"
2025-07-04 17:07:08,003 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-04 17:07:08,004 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-04 17:07:08,005 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-04 17:07:08,005 - middleware - INFO -    Status: 200
2025-07-04 17:07:08,005 - middleware - INFO -    Processing time: 30.377s
2025-07-06 12:00:50,822 - config - INFO - Backend starting up...
2025-07-06 12:00:50,822 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 12:00:50,823 - config - INFO - .env file exists: True
2025-07-06 12:00:50,823 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 12:00:50,823 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 12:00:50,823 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 12:00:50,823 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 12:00:50,823 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 12:03:25,151 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 12:03:25,152 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:03:25,152 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:03:25,153 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 12:03:25,153 - middleware - INFO -    Status: 200
2025-07-06 12:03:25,154 - middleware - INFO -    Processing time: 0.002s
2025-07-06 12:03:25,157 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 12:03:25,157 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:03:25,158 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '82', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:03:25,163 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 12:03:25,163 - routes - INFO -    Websites: ['https://www.facebook.com/']
2025-07-06 12:03:25,164 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 12:03:25,164 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 12:03:25,165 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 12:03:25,165 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 12:03:26,447 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 12:03:32,075 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HLLlbgPsdfbizan0h "HTTP/1.1 200 OK"
2025-07-06 12:03:37,721 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HLLlbgPsdfbizan0h "HTTP/1.1 200 OK"
2025-07-06 12:03:42,913 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HLLlbgPsdfbizan0h "HTTP/1.1 200 OK"
2025-07-06 12:03:48,531 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HLLlbgPsdfbizan0h "HTTP/1.1 200 OK"
2025-07-06 12:03:48,757 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/mahDiMhhsrUjBDotZ/items "HTTP/1.1 200 OK"
2025-07-06 12:03:48,770 - routes - INFO - [UUID] Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 12:03:50,379 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 12:03:51,508 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-06 12:03:51,509 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 12:03:51,516 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 12:03:51,516 - middleware - INFO -    Status: 200
2025-07-06 12:03:51,517 - middleware - INFO -    Processing time: 26.358s
2025-07-06 12:04:47,076 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-06 12:04:47,077 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:04:47,077 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:04:47,078 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-06 12:04:47,078 - middleware - INFO -    Status: 200
2025-07-06 12:04:47,078 - middleware - INFO -    Processing time: 0.002s
2025-07-06 12:04:47,082 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 12:04:47,082 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:04:47,082 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '209', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:04:47,083 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-06 12:04:47,084 - routes - INFO -    Websites: ['https://www.facebook.com/', 'linkedin.com', 'instagram.com', 'x.com', 'tiktok.com', 'reddit.com', 'twitter.com', 'google.com', 't.co', 'discord.com', 'youtube.com']
2025-07-06 12:04:47,084 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 12:04:47,084 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 12:04:47,084 - routes - INFO - [UUID] Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 12:04:47,742 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=similarweb_result&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 12:04:48,706 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://www.facebook.com/ "HTTP/1.1 200 OK"
2025-07-06 12:04:48,709 - routes - INFO - [UUID] Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 12:04:49,277 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 12:04:49,837 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 400 Bad Request"
2025-07-06 12:04:49,841 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 12:04:49,841 - middleware - INFO -    Status: 200
2025-07-06 12:04:49,841 - middleware - INFO -    Processing time: 2.759s
2025-07-06 12:05:12,427 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-06 12:05:12,428 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:05:12,428 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:05:12,429 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-06 12:05:12,429 - middleware - INFO -    Status: 200
2025-07-06 12:05:12,429 - middleware - INFO -    Processing time: 0.002s
2025-07-06 12:05:12,430 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 12:05:12,430 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:05:12,430 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '5107', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:05:12,434 - routes - INFO - [CHAT] Received chat message: what's your context
2025-07-06 12:05:12,434 - routes - INFO -    Analysis data size: 5458 characters
2025-07-06 12:05:12,434 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 12:05:14,658 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 12:05:19,150 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 12:05:19,151 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 12:05:19,151 - middleware - INFO -    Status: 200
2025-07-06 12:05:19,152 - middleware - INFO -    Processing time: 6.721s
2025-07-06 12:26:37,475 - config - INFO - Backend starting up...
2025-07-06 12:26:37,475 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 12:26:37,475 - config - INFO - .env file exists: True
2025-07-06 12:26:37,475 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 12:26:37,476 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 12:26:37,476 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 12:26:37,476 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 12:26:37,476 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 12:26:55,490 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 12:26:55,496 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:26:55,498 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:26:55,506 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 12:26:55,507 - middleware - INFO -    Status: 200
2025-07-06 12:26:55,508 - middleware - INFO -    Processing time: 0.016s
2025-07-06 12:26:55,513 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 12:26:55,515 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:26:55,522 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '69', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:26:55,527 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 12:26:55,528 - routes - INFO -    Websites: ['facebook.com']
2025-07-06 12:26:55,529 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 12:26:55,530 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 12:26:55,531 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 12:26:55,532 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 12:26:57,227 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 12:27:02,861 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/IZTfzKlacPQ6Up2iD "HTTP/1.1 200 OK"
2025-07-06 12:27:08,025 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/IZTfzKlacPQ6Up2iD "HTTP/1.1 200 OK"
2025-07-06 12:27:13,733 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/IZTfzKlacPQ6Up2iD "HTTP/1.1 200 OK"
2025-07-06 12:27:18,939 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/IZTfzKlacPQ6Up2iD "HTTP/1.1 200 OK"
2025-07-06 12:27:24,757 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/IZTfzKlacPQ6Up2iD "HTTP/1.1 200 OK"
2025-07-06 12:27:25,038 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/CR3Lpsv1tWaMTcbBr/items "HTTP/1.1 200 OK"
2025-07-06 12:27:25,043 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 12:27:26,203 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 12:27:26,209 - database_service - INFO - Creating user record for: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 12:27:26,761 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 401 Unauthorized"
2025-07-06 12:27:26,762 - database_service - ERROR - Error ensuring user exists: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "users"'}
2025-07-06 12:27:26,763 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 12:27:27,033 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 401 Unauthorized"
2025-07-06 12:27:27,037 - database_service - ERROR - Error saving analysis session: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "analysis_sessions"'}
2025-07-06 12:27:27,038 - routes - ERROR - [ERROR] Error with Apify API: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "analysis_sessions"'}
2025-07-06 12:27:27,038 - routes - WARNING - [FALLBACK] Falling back to mock data
2025-07-06 12:27:27,039 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 12:27:27,570 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 12:27:27,571 - database_service - INFO - Creating user record for: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 12:27:27,800 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 401 Unauthorized"
2025-07-06 12:27:27,802 - database_service - ERROR - Error ensuring user exists: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "users"'}
2025-07-06 12:27:27,803 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 12:27:28,072 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 401 Unauthorized"
2025-07-06 12:27:28,073 - database_service - ERROR - Error saving analysis session: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "analysis_sessions"'}
2025-07-06 12:27:28,074 - middleware - ERROR - [ERROR] Error in middleware: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "analysis_sessions"'}
2025-07-06 12:27:28,075 - middleware - ERROR -    Processing time: 32.561s
2025-07-06 12:31:07,852 - config - INFO - Backend starting up...
2025-07-06 12:31:07,852 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 12:31:07,852 - config - INFO - .env file exists: True
2025-07-06 12:31:07,853 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 12:31:07,853 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 12:31:07,853 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 12:31:07,853 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 12:31:07,853 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 12:31:18,135 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 12:31:18,136 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:31:18,137 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '69', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:31:18,140 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 12:31:18,140 - routes - INFO -    Websites: ['facebook.com']
2025-07-06 12:31:18,140 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 12:31:18,141 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 12:31:18,141 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 12:31:18,141 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 12:31:20,123 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 12:31:25,730 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HfTa11ZGUgMkBsC1s "HTTP/1.1 200 OK"
2025-07-06 12:31:30,902 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HfTa11ZGUgMkBsC1s "HTTP/1.1 200 OK"
2025-07-06 12:31:36,508 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HfTa11ZGUgMkBsC1s "HTTP/1.1 200 OK"
2025-07-06 12:31:42,105 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HfTa11ZGUgMkBsC1s "HTTP/1.1 200 OK"
2025-07-06 12:31:47,298 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HfTa11ZGUgMkBsC1s "HTTP/1.1 200 OK"
2025-07-06 12:31:53,043 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HfTa11ZGUgMkBsC1s "HTTP/1.1 200 OK"
2025-07-06 12:31:58,218 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HfTa11ZGUgMkBsC1s "HTTP/1.1 200 OK"
2025-07-06 12:31:58,532 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/NItOcnuSoQuvKdL0q/items "HTTP/1.1 200 OK"
2025-07-06 12:31:58,540 - database_service - WARNING - Supabase client not available
2025-07-06 12:31:58,540 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 12:31:58,542 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 12:31:58,543 - middleware - INFO -    Status: 200
2025-07-06 12:31:58,543 - middleware - INFO -    Processing time: 40.407s
2025-07-06 12:33:35,126 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-06 12:33:35,128 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:33:35,129 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:33:35,130 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-06 12:33:35,131 - middleware - INFO -    Status: 200
2025-07-06 12:33:35,137 - middleware - INFO -    Processing time: 0.005s
2025-07-06 12:33:35,144 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 12:33:35,146 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:33:35,147 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '196', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:33:35,154 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-06 12:33:35,155 - routes - INFO -    Websites: ['facebook.com', 'linkedin.com', 'instagram.com', 'x.com', 'tiktok.com', 'reddit.com', 'twitter.com', 'google.com', 't.co', 'discord.com', 'youtube.com']
2025-07-06 12:33:35,157 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 12:33:35,157 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 12:33:35,158 - database_service - WARNING - Supabase client not available
2025-07-06 12:33:40,782 - database_service - WARNING - Supabase client not available
2025-07-06 12:33:40,787 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 12:33:40,787 - middleware - INFO -    Status: 200
2025-07-06 12:33:40,788 - middleware - INFO -    Processing time: 5.643s
2025-07-06 12:40:41,856 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-06 12:40:41,860 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:40:41,862 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:40:41,864 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-06 12:40:41,867 - middleware - INFO -    Status: 200
2025-07-06 12:40:41,870 - middleware - INFO -    Processing time: 0.009s
2025-07-06 12:40:41,881 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 12:40:41,882 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:40:41,883 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '4722', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:40:41,896 - routes - INFO - [CHAT] Received chat message: What are the growth opportunities based on this analysis?
2025-07-06 12:40:41,898 - routes - INFO -    Analysis data size: 4996 characters
2025-07-06 12:40:41,901 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 12:40:44,273 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 12:40:53,738 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 12:40:53,739 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 12:40:53,740 - middleware - INFO -    Status: 200
2025-07-06 12:40:53,740 - middleware - INFO -    Processing time: 11.858s
2025-07-06 12:47:24,074 - config - ERROR - ❌ Failed to initialize Supabase client: 'dict' object has no attribute 'headers'
2025-07-06 12:47:24,075 - config - INFO - Backend starting up...
2025-07-06 12:47:24,075 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 12:47:24,075 - config - INFO - .env file exists: True
2025-07-06 12:47:24,075 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 12:47:24,076 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 12:47:24,076 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 12:47:24,076 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 12:47:24,076 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 12:47:24,132 - database_service - WARNING - ⚠️ DatabaseService initialized without Supabase client
2025-07-06 12:47:44,040 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 12:47:44,042 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:47:44,043 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:47:44,044 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 12:47:44,045 - middleware - INFO -    Status: 200
2025-07-06 12:47:44,045 - middleware - INFO -    Processing time: 0.003s
2025-07-06 12:47:44,049 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 12:47:44,049 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:47:44,050 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '69', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:47:44,053 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 12:47:44,054 - routes - INFO -    Websites: ['facebook.com']
2025-07-06 12:47:44,055 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 12:47:44,055 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 12:47:44,057 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 12:47:44,058 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 12:47:46,327 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 12:47:51,488 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/5R3iWsFSrI1cSLZxz "HTTP/1.1 200 OK"
2025-07-06 12:47:57,285 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/5R3iWsFSrI1cSLZxz "HTTP/1.1 200 OK"
2025-07-06 12:48:03,253 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/5R3iWsFSrI1cSLZxz "HTTP/1.1 200 OK"
2025-07-06 12:48:09,246 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/5R3iWsFSrI1cSLZxz "HTTP/1.1 200 OK"
2025-07-06 12:48:09,426 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/2lBxyb67mhmT40ieO/items "HTTP/1.1 200 OK"
2025-07-06 12:48:09,435 - database_service - WARNING - Supabase client not available
2025-07-06 12:48:09,436 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 12:48:09,437 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 12:48:09,438 - middleware - INFO -    Status: 200
2025-07-06 12:48:09,438 - middleware - INFO -    Processing time: 25.389s
2025-07-06 12:49:06,359 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 12:49:06,365 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-06 12:49:06,366 - config - INFO - Backend starting up...
2025-07-06 12:49:06,366 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 12:49:06,366 - config - INFO - .env file exists: True
2025-07-06 12:49:06,367 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 12:49:06,367 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 12:49:06,368 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 12:49:06,368 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 12:49:06,368 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 12:49:06,405 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-06 12:49:25,461 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 12:49:25,465 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:49:25,466 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '69', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:49:25,475 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 12:49:25,477 - routes - INFO -    Websites: ['facebook.com']
2025-07-06 12:49:25,477 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 12:49:25,478 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 12:49:25,483 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 12:49:25,487 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 12:49:27,419 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 12:49:32,728 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/uKLwC7i0f4GsL7nM8 "HTTP/1.1 200 OK"
2025-07-06 12:49:38,703 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/uKLwC7i0f4GsL7nM8 "HTTP/1.1 200 OK"
2025-07-06 12:49:43,874 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/uKLwC7i0f4GsL7nM8 "HTTP/1.1 200 OK"
2025-07-06 12:49:50,082 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/uKLwC7i0f4GsL7nM8 "HTTP/1.1 200 OK"
2025-07-06 12:49:54,047 - middleware - INFO - [INCOMING] GET request to /api/test-db
2025-07-06 12:49:54,048 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:49:54,049 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:49:54,816 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 12:49:54,823 - database_service - INFO - ✅ Database connection test successful. Found 0 users
2025-07-06 12:49:54,825 - middleware - INFO - [RESPONSE] GET /api/test-db
2025-07-06 12:49:54,825 - middleware - INFO -    Status: 200
2025-07-06 12:49:54,826 - middleware - INFO -    Processing time: 0.777s
2025-07-06 12:49:54,910 - middleware - INFO - [INCOMING] GET request to /favicon.ico
2025-07-06 12:49:54,910 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:49:54,911 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': 'image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'image', 'referer': 'http://localhost:8000/api/test-db', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:49:54,912 - middleware - INFO - [RESPONSE] GET /favicon.ico
2025-07-06 12:49:54,912 - middleware - INFO -    Status: 404
2025-07-06 12:49:54,912 - middleware - INFO -    Processing time: 0.003s
2025-07-06 12:49:56,196 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/uKLwC7i0f4GsL7nM8 "HTTP/1.1 200 OK"
2025-07-06 12:50:02,365 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/uKLwC7i0f4GsL7nM8 "HTTP/1.1 200 OK"
2025-07-06 12:50:07,546 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/uKLwC7i0f4GsL7nM8 "HTTP/1.1 200 OK"
2025-07-06 12:50:07,736 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/rbVm4dmd9tPqrS1hh/items "HTTP/1.1 200 OK"
2025-07-06 12:50:07,741 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 12:50:08,730 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 12:50:08,735 - database_service - INFO - Creating user record for: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 12:50:09,262 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 201 Created"
2025-07-06 12:50:09,263 - database_service - INFO - Created user record: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 12:50:09,265 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 12:50:09,531 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 12:50:09,533 - database_service - INFO - Analysis session saved successfully: d4e1c236-bd97-4a7b-b714-d7bbb30c6540
2025-07-06 12:50:09,534 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 12:50:09,540 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 12:50:09,541 - middleware - INFO -    Status: 200
2025-07-06 12:50:09,542 - middleware - INFO -    Processing time: 44.079s
2025-07-06 12:51:27,980 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-06 12:51:27,981 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:51:27,983 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:51:27,985 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-06 12:51:27,986 - middleware - INFO -    Status: 200
2025-07-06 12:51:27,986 - middleware - INFO -    Processing time: 0.004s
2025-07-06 12:51:27,992 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 12:51:27,993 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:51:27,994 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '196', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:51:27,996 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-06 12:51:27,997 - routes - INFO -    Websites: ['facebook.com', 'linkedin.com', 'instagram.com', 'x.com', 'tiktok.com', 'reddit.com', 'twitter.com', 'google.com', 't.co', 'discord.com', 'youtube.com']
2025-07-06 12:51:27,998 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 12:51:27,998 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 12:51:28,000 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 12:51:28,947 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-06 12:51:28,949 - database_service - INFO - Retrieved 1 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 12:51:30,454 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=facebook.com "HTTP/1.1 200 OK"
2025-07-06 12:51:31,018 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.d4e1c236-bd97-4a7b-b714-d7bbb30c6540 "HTTP/1.1 200 OK"
2025-07-06 12:51:31,021 - database_service - INFO - Analysis session updated successfully: d4e1c236-bd97-4a7b-b714-d7bbb30c6540
2025-07-06 12:51:31,023 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 12:51:31,023 - middleware - INFO -    Status: 200
2025-07-06 12:51:31,023 - middleware - INFO -    Processing time: 3.031s
2025-07-06 12:52:12,045 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-06 12:52:12,045 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:52:12,046 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:52:12,047 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-06 12:52:12,048 - middleware - INFO -    Status: 200
2025-07-06 12:52:12,048 - middleware - INFO -    Processing time: 0.002s
2025-07-06 12:52:12,056 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 12:52:12,056 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:52:12,057 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6627', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:52:12,060 - routes - INFO - [CHAT] Received chat message: What technologies do the top competitors use?
2025-07-06 12:52:12,064 - routes - INFO -    Analysis data size: 7044 characters
2025-07-06 12:52:12,065 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 12:52:14,877 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 12:52:20,369 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 12:52:20,372 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 12:52:20,378 - middleware - INFO -    Status: 200
2025-07-06 12:52:20,381 - middleware - INFO -    Processing time: 8.317s
2025-07-06 12:52:58,876 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 12:52:58,877 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 12:52:58,878 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6639', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 12:52:58,881 - routes - INFO - [CHAT] Received chat message: What are the growth opportunities based on this analysis?
2025-07-06 12:52:58,882 - routes - INFO -    Analysis data size: 7044 characters
2025-07-06 12:52:58,882 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 12:53:01,658 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 12:53:10,637 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 12:53:10,638 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 12:53:10,638 - middleware - INFO -    Status: 200
2025-07-06 12:53:10,638 - middleware - INFO -    Processing time: 11.762s
2025-07-06 13:06:07,919 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 13:06:07,927 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-06 13:06:07,928 - config - INFO - Backend starting up...
2025-07-06 13:06:07,928 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 13:06:07,929 - config - INFO - .env file exists: True
2025-07-06 13:06:07,929 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 13:06:07,929 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 13:06:07,929 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 13:06:07,929 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 13:06:07,929 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 13:06:07,989 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-06 13:08:47,811 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 13:08:47,816 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-06 13:08:47,817 - config - INFO - Backend starting up...
2025-07-06 13:08:47,817 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 13:08:47,818 - config - INFO - .env file exists: True
2025-07-06 13:08:47,818 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 13:08:47,819 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 13:08:47,820 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 13:08:47,820 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 13:08:47,820 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 13:08:47,854 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-06 13:09:05,137 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 13:09:05,138 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:09:05,138 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:09:05,138 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 13:09:05,139 - middleware - INFO -    Status: 200
2025-07-06 13:09:05,140 - middleware - INFO -    Processing time: 0.002s
2025-07-06 13:09:05,142 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 13:09:05,142 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:09:05,142 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '69', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:09:05,144 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 13:09:05,145 - routes - INFO -    Websites: ['facebook.com']
2025-07-06 13:09:05,145 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 13:09:05,146 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 13:09:05,146 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 13:09:05,146 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 13:09:06,613 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 13:09:12,207 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aSXPCAVufmwPWeSdY "HTTP/1.1 200 OK"
2025-07-06 13:09:17,369 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aSXPCAVufmwPWeSdY "HTTP/1.1 200 OK"
2025-07-06 13:09:22,543 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aSXPCAVufmwPWeSdY "HTTP/1.1 200 OK"
2025-07-06 13:09:28,271 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aSXPCAVufmwPWeSdY "HTTP/1.1 200 OK"
2025-07-06 13:09:33,428 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/aSXPCAVufmwPWeSdY "HTTP/1.1 200 OK"
2025-07-06 13:09:33,625 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/4jLtehzfmXwEIk6ld/items "HTTP/1.1 200 OK"
2025-07-06 13:09:33,632 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:09:34,387 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 13:09:34,393 - database_service - INFO - User record already exists: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 13:09:34,394 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:09:34,930 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 13:09:34,932 - database_service - INFO - Analysis session saved successfully: c4c86978-d7e4-4edb-868b-f5d1cfd221b5
2025-07-06 13:09:34,932 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 13:09:34,934 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 13:09:34,935 - middleware - INFO -    Status: 200
2025-07-06 13:09:34,935 - middleware - INFO -    Processing time: 29.793s
2025-07-06 13:09:56,809 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-06 13:09:56,809 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:09:56,809 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:09:56,809 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-06 13:09:56,809 - middleware - INFO -    Status: 200
2025-07-06 13:09:56,809 - middleware - INFO -    Processing time: 0.001s
2025-07-06 13:09:56,812 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 13:09:56,812 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:09:56,813 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '196', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:09:56,814 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-06 13:09:56,814 - routes - INFO -    Websites: ['facebook.com', 'linkedin.com', 'instagram.com', 'x.com', 'tiktok.com', 'reddit.com', 'twitter.com', 'google.com', 't.co', 'discord.com', 'youtube.com']
2025-07-06 13:09:56,814 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 13:09:56,814 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 13:09:56,815 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:09:57,186 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-06 13:09:57,188 - database_service - INFO - Retrieved 1 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 13:09:59,586 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=facebook.com "HTTP/1.1 200 OK"
2025-07-06 13:10:00,144 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.c4c86978-d7e4-4edb-868b-f5d1cfd221b5 "HTTP/1.1 200 OK"
2025-07-06 13:10:00,145 - database_service - INFO - Analysis session updated successfully: c4c86978-d7e4-4edb-868b-f5d1cfd221b5
2025-07-06 13:10:00,147 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 13:10:00,147 - middleware - INFO -    Status: 200
2025-07-06 13:10:00,147 - middleware - INFO -    Processing time: 3.335s
2025-07-06 13:10:07,132 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-06 13:10:07,133 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:10:07,133 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:10:07,133 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-06 13:10:07,134 - middleware - INFO -    Status: 200
2025-07-06 13:10:07,134 - middleware - INFO -    Processing time: 0.001s
2025-07-06 13:10:07,139 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 13:10:07,139 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:10:07,140 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6679', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:10:07,144 - routes - INFO - [CHAT] Received chat message: What technologies do the top competitors use?
2025-07-06 13:10:07,145 - routes - INFO -    Analysis data size: 7044 characters
2025-07-06 13:10:07,145 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 13:10:09,739 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 13:10:17,664 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&id=eq.c4c86978-d7e4-4edb-868b-f5d1cfd221b5 "HTTP/1.1 200 OK"
2025-07-06 13:10:17,670 - database_service - INFO - Retrieved analysis session: c4c86978-d7e4-4edb-868b-f5d1cfd221b5
2025-07-06 13:10:18,182 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.c4c86978-d7e4-4edb-868b-f5d1cfd221b5 "HTTP/1.1 200 OK"
2025-07-06 13:10:18,185 - database_service - INFO - Analysis session updated successfully: c4c86978-d7e4-4edb-868b-f5d1cfd221b5
2025-07-06 13:10:18,186 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 13:10:18,190 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 13:10:18,193 - middleware - INFO -    Status: 200
2025-07-06 13:10:18,193 - middleware - INFO -    Processing time: 11.052s
2025-07-06 13:10:39,425 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:39,426 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:10:39,427 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:10:39,429 - database_service - INFO - Generated UUID 58e0391b-dd2a-5bea-8b14-5ec943ffc1f0 for user_id: user-1751803839423-22i29m8ta
2025-07-06 13:10:40,265 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.58e0391b-dd2a-5bea-8b14-5ec943ffc1f0&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 13:10:40,267 - middleware - INFO - [RESPONSE] GET /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:40,268 - middleware - INFO -    Status: 200
2025-07-06 13:10:40,268 - middleware - INFO -    Processing time: 0.841s
2025-07-06 13:10:40,271 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:40,272 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:10:40,272 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:10:40,273 - database_service - INFO - Generated UUID 58e0391b-dd2a-5bea-8b14-5ec943ffc1f0 for user_id: user-1751803839423-22i29m8ta
2025-07-06 13:10:40,773 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.58e0391b-dd2a-5bea-8b14-5ec943ffc1f0&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 13:10:40,774 - middleware - INFO - [RESPONSE] GET /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:40,774 - middleware - INFO -    Status: 200
2025-07-06 13:10:40,774 - middleware - INFO -    Processing time: 0.503s
2025-07-06 13:10:52,209 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:52,209 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:10:52,209 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:10:52,210 - database_service - INFO - Generated UUID 58e0391b-dd2a-5bea-8b14-5ec943ffc1f0 for user_id: user-1751803839423-22i29m8ta
2025-07-06 13:10:52,855 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.58e0391b-dd2a-5bea-8b14-5ec943ffc1f0&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 13:10:52,856 - middleware - INFO - [RESPONSE] GET /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:52,857 - middleware - INFO -    Status: 200
2025-07-06 13:10:52,857 - middleware - INFO -    Processing time: 0.647s
2025-07-06 13:10:52,859 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:52,860 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:10:52,860 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:10:52,861 - database_service - INFO - Generated UUID 58e0391b-dd2a-5bea-8b14-5ec943ffc1f0 for user_id: user-1751803839423-22i29m8ta
2025-07-06 13:10:53,098 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.58e0391b-dd2a-5bea-8b14-5ec943ffc1f0&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 13:10:53,098 - middleware - INFO - [RESPONSE] GET /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:53,099 - middleware - INFO -    Status: 200
2025-07-06 13:10:53,099 - middleware - INFO -    Processing time: 0.239s
2025-07-06 13:10:54,687 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:54,687 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:10:54,687 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:10:54,688 - database_service - INFO - Generated UUID 58e0391b-dd2a-5bea-8b14-5ec943ffc1f0 for user_id: user-1751803839423-22i29m8ta
2025-07-06 13:10:55,185 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.58e0391b-dd2a-5bea-8b14-5ec943ffc1f0&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 13:10:55,186 - middleware - INFO - [RESPONSE] GET /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:55,186 - middleware - INFO -    Status: 200
2025-07-06 13:10:55,187 - middleware - INFO -    Processing time: 0.499s
2025-07-06 13:10:55,189 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:55,189 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:10:55,189 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:10:55,190 - database_service - INFO - Generated UUID 58e0391b-dd2a-5bea-8b14-5ec943ffc1f0 for user_id: user-1751803839423-22i29m8ta
2025-07-06 13:10:55,422 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.58e0391b-dd2a-5bea-8b14-5ec943ffc1f0&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 13:10:55,423 - middleware - INFO - [RESPONSE] GET /api/history/user-1751803839423-22i29m8ta
2025-07-06 13:10:55,423 - middleware - INFO -    Status: 200
2025-07-06 13:10:55,424 - middleware - INFO -    Processing time: 0.235s
2025-07-06 13:11:13,713 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 13:11:13,716 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-06 13:11:13,717 - config - INFO - Backend starting up...
2025-07-06 13:11:13,717 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 13:11:13,717 - config - INFO - .env file exists: True
2025-07-06 13:11:13,718 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 13:11:13,718 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 13:11:13,718 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 13:11:13,718 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 13:11:13,718 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 13:11:13,748 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-06 13:25:46,991 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 13:25:46,997 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:25:46,998 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:25:47,004 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 13:25:47,006 - middleware - INFO -    Status: 200
2025-07-06 13:25:47,011 - middleware - INFO -    Processing time: 0.014s
2025-07-06 13:25:47,027 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 13:25:47,029 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:25:47,033 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '69', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:25:47,056 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 13:25:47,060 - routes - INFO -    Websites: ['facebook.com']
2025-07-06 13:25:47,068 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 13:25:47,071 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 13:25:47,078 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 13:25:47,079 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 13:25:49,521 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 13:25:55,566 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Z7pvFgJpIyIhvLhVq "HTTP/1.1 200 OK"
2025-07-06 13:26:01,386 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Z7pvFgJpIyIhvLhVq "HTTP/1.1 200 OK"
2025-07-06 13:26:07,338 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Z7pvFgJpIyIhvLhVq "HTTP/1.1 200 OK"
2025-07-06 13:26:12,521 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Z7pvFgJpIyIhvLhVq "HTTP/1.1 200 OK"
2025-07-06 13:26:18,173 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Z7pvFgJpIyIhvLhVq "HTTP/1.1 200 OK"
2025-07-06 13:26:18,513 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/34FaBVsU3FuyfNyeB/items "HTTP/1.1 200 OK"
2025-07-06 13:26:18,546 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:26:19,543 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 13:26:19,549 - database_service - INFO - User record already exists: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 13:26:19,555 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:26:19,821 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 13:26:19,823 - database_service - INFO - Analysis session saved successfully: 9a279a94-b1c4-426e-bdc1-e14560f2c745
2025-07-06 13:26:19,824 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 13:26:19,853 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 13:26:19,854 - middleware - INFO -    Status: 200
2025-07-06 13:26:19,854 - middleware - INFO -    Processing time: 32.826s
2025-07-06 13:26:34,293 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-06 13:26:34,294 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:26:34,295 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:26:34,297 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-06 13:26:34,298 - middleware - INFO -    Status: 200
2025-07-06 13:26:34,299 - middleware - INFO -    Processing time: 0.004s
2025-07-06 13:26:34,308 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 13:26:34,310 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:26:34,311 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '196', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:26:34,316 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-06 13:26:34,316 - routes - INFO -    Websites: ['facebook.com', 'linkedin.com', 'instagram.com', 'x.com', 'tiktok.com', 'reddit.com', 'twitter.com', 'google.com', 't.co', 'discord.com', 'youtube.com']
2025-07-06 13:26:34,320 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 13:26:34,321 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 13:26:34,323 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:26:34,723 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-06 13:26:34,729 - database_service - INFO - Retrieved 1 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 13:26:36,226 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=facebook.com "HTTP/1.1 200 OK"
2025-07-06 13:26:36,840 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.9a279a94-b1c4-426e-bdc1-e14560f2c745 "HTTP/1.1 200 OK"
2025-07-06 13:26:36,844 - database_service - INFO - Analysis session updated successfully: 9a279a94-b1c4-426e-bdc1-e14560f2c745
2025-07-06 13:26:36,848 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 13:26:36,849 - middleware - INFO -    Status: 200
2025-07-06 13:26:36,849 - middleware - INFO -    Processing time: 2.540s
2025-07-06 13:26:44,249 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-06 13:26:44,250 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:26:44,254 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:26:44,258 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-06 13:26:44,259 - middleware - INFO -    Status: 200
2025-07-06 13:26:44,260 - middleware - INFO -    Processing time: 0.008s
2025-07-06 13:26:44,276 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 13:26:44,277 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:26:44,278 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6639', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:26:44,310 - routes - INFO - [CHAT] Received chat message: What are the growth opportunities based on this analysis?
2025-07-06 13:26:44,311 - routes - INFO -    Analysis data size: 7044 characters
2025-07-06 13:26:44,312 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 13:26:49,045 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 13:26:59,414 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 13:26:59,416 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 13:26:59,417 - middleware - INFO -    Status: 200
2025-07-06 13:26:59,417 - middleware - INFO -    Processing time: 15.141s
2025-07-06 13:36:06,428 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 13:36:06,433 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-06 13:36:06,436 - config - INFO - Backend starting up...
2025-07-06 13:36:06,437 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 13:36:06,438 - config - INFO - .env file exists: True
2025-07-06 13:36:06,438 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 13:36:06,439 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 13:36:06,439 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 13:36:06,439 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 13:36:06,440 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 13:36:06,477 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-06 13:38:40,515 - middleware - INFO - [INCOMING] GET request to /api/test-db
2025-07-06 13:38:40,517 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:38:40,517 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'cache-control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:38:41,735 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 13:38:41,743 - database_service - INFO - ✅ Database connection test successful. Found 1 users
2025-07-06 13:38:41,745 - middleware - INFO - [RESPONSE] GET /api/test-db
2025-07-06 13:38:41,746 - middleware - INFO -    Status: 200
2025-07-06 13:38:41,747 - middleware - INFO -    Processing time: 1.229s
2025-07-06 13:39:06,880 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 13:39:06,881 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:39:06,882 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:39:06,883 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 13:39:06,884 - middleware - INFO -    Status: 200
2025-07-06 13:39:06,886 - middleware - INFO -    Processing time: 0.003s
2025-07-06 13:39:06,894 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 13:39:06,894 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:39:06,896 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '69', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:39:06,903 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 13:39:06,903 - routes - INFO -    Websites: ['facebook.com']
2025-07-06 13:39:06,905 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 13:39:06,905 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 13:39:06,906 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 13:39:06,908 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 13:39:08,560 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 13:39:14,207 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/75W0fGPEBX5N7Zdfq "HTTP/1.1 200 OK"
2025-07-06 13:39:19,413 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/75W0fGPEBX5N7Zdfq "HTTP/1.1 200 OK"
2025-07-06 13:39:25,122 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/75W0fGPEBX5N7Zdfq "HTTP/1.1 200 OK"
2025-07-06 13:39:30,767 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/75W0fGPEBX5N7Zdfq "HTTP/1.1 200 OK"
2025-07-06 13:39:36,833 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/75W0fGPEBX5N7Zdfq "HTTP/1.1 200 OK"
2025-07-06 13:39:42,466 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/75W0fGPEBX5N7Zdfq "HTTP/1.1 200 OK"
2025-07-06 13:39:42,663 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/nHhyurL746P00EiTV/items "HTTP/1.1 200 OK"
2025-07-06 13:39:42,681 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:39:43,474 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 13:39:43,493 - database_service - INFO - User record already exists: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 13:39:43,494 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:39:44,065 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 13:39:44,072 - database_service - INFO - Analysis session saved successfully: d5964af5-be7f-4186-8309-3e827e7a7807
2025-07-06 13:39:44,074 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 13:39:44,081 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 13:39:44,082 - middleware - INFO -    Status: 200
2025-07-06 13:39:44,083 - middleware - INFO -    Processing time: 37.187s
2025-07-06 13:40:07,163 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-06 13:40:07,164 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:40:07,166 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:40:07,169 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-06 13:40:07,170 - middleware - INFO -    Status: 200
2025-07-06 13:40:07,172 - middleware - INFO -    Processing time: 0.006s
2025-07-06 13:40:07,180 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 13:40:07,181 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:40:07,182 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '196', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:40:07,188 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-06 13:40:07,189 - routes - INFO -    Websites: ['facebook.com', 'linkedin.com', 'instagram.com', 'x.com', 'tiktok.com', 'reddit.com', 'twitter.com', 'google.com', 't.co', 'discord.com', 'youtube.com']
2025-07-06 13:40:07,190 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 13:40:07,191 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 13:40:07,194 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:40:07,956 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-06 13:40:07,962 - database_service - INFO - Retrieved 1 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 13:40:09,694 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=facebook.com "HTTP/1.1 200 OK"
2025-07-06 13:40:10,249 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.d5964af5-be7f-4186-8309-3e827e7a7807 "HTTP/1.1 200 OK"
2025-07-06 13:40:10,254 - database_service - INFO - Analysis session updated successfully: d5964af5-be7f-4186-8309-3e827e7a7807
2025-07-06 13:40:10,261 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 13:40:10,262 - middleware - INFO -    Status: 200
2025-07-06 13:40:10,264 - middleware - INFO -    Processing time: 3.080s
2025-07-06 13:40:21,205 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-06 13:40:21,211 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:40:21,212 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:40:21,213 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-06 13:40:21,216 - middleware - INFO -    Status: 200
2025-07-06 13:40:21,218 - middleware - INFO -    Processing time: 0.008s
2025-07-06 13:40:21,225 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 13:40:21,232 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:40:21,233 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6630', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:40:21,264 - routes - INFO - [CHAT] Received chat message: How does this domain compare to its competitors?
2025-07-06 13:40:21,265 - routes - INFO -    Analysis data size: 7044 characters
2025-07-06 13:40:21,274 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 13:40:24,030 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 13:40:33,681 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 13:40:33,687 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 13:40:33,687 - middleware - INFO -    Status: 200
2025-07-06 13:40:33,688 - middleware - INFO -    Processing time: 12.462s
2025-07-06 13:50:44,055 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 13:50:44,059 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-06 13:50:44,060 - config - INFO - Backend starting up...
2025-07-06 13:50:44,060 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 13:50:44,060 - config - INFO - .env file exists: True
2025-07-06 13:50:44,060 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 13:50:44,060 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 13:50:44,061 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 13:50:44,061 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 13:50:44,061 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 13:50:44,132 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-06 13:51:37,179 - middleware - INFO - [INCOMING] GET request to /api/test-db
2025-07-06 13:51:37,180 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:51:37,180 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'cache-control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:51:37,946 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 13:51:37,949 - database_service - INFO - ✅ Database connection test successful. Found 1 users
2025-07-06 13:51:37,951 - middleware - INFO - [RESPONSE] GET /api/test-db
2025-07-06 13:51:37,951 - middleware - INFO -    Status: 200
2025-07-06 13:51:37,952 - middleware - INFO -    Processing time: 0.772s
2025-07-06 13:51:55,024 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 13:51:55,024 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:51:55,025 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:51:55,027 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 13:51:55,028 - middleware - INFO -    Status: 200
2025-07-06 13:51:55,029 - middleware - INFO -    Processing time: 0.003s
2025-07-06 13:51:55,038 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 13:51:55,040 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:51:55,040 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '69', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:51:55,046 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 13:51:55,047 - routes - INFO -    Websites: ['linkedin.com']
2025-07-06 13:51:55,047 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 13:51:55,049 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 13:51:55,050 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 13:51:55,051 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 13:51:56,516 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 13:52:02,270 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/fJUFzrdAYfXBqUFgv "HTTP/1.1 200 OK"
2025-07-06 13:52:08,044 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/fJUFzrdAYfXBqUFgv "HTTP/1.1 200 OK"
2025-07-06 13:52:14,102 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/fJUFzrdAYfXBqUFgv "HTTP/1.1 200 OK"
2025-07-06 13:52:19,782 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/fJUFzrdAYfXBqUFgv "HTTP/1.1 200 OK"
2025-07-06 13:52:25,483 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/fJUFzrdAYfXBqUFgv "HTTP/1.1 200 OK"
2025-07-06 13:52:25,662 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/rDD1lbPa68439iS3C/items "HTTP/1.1 200 OK"
2025-07-06 13:52:25,677 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:52:26,369 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 13:52:26,376 - database_service - INFO - User record already exists: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 13:52:26,378 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:52:27,294 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 13:52:27,297 - database_service - INFO - Analysis session saved successfully: 2ef720a4-e181-47a5-92e1-5a1867ec3b23
2025-07-06 13:52:27,298 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 13:52:27,301 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 13:52:27,302 - middleware - INFO -    Status: 200
2025-07-06 13:52:27,304 - middleware - INFO -    Processing time: 32.262s
2025-07-06 13:52:49,080 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-06 13:52:49,081 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:52:49,082 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:52:49,082 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-06 13:52:49,082 - middleware - INFO -    Status: 200
2025-07-06 13:52:49,083 - middleware - INFO -    Processing time: 0.002s
2025-07-06 13:52:49,085 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 13:52:49,085 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:52:49,086 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '201', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:52:49,088 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-06 13:52:49,088 - routes - INFO -    Websites: ['linkedin.com', 'facebook.com', 'instagram.com', 'x.com', 'twitter.com', 'reddit.com', 'tiktok.com', 't.co', 'pinterest.com', 'discord.com', 'messenger.com']
2025-07-06 13:52:49,088 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 13:52:49,089 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 13:52:49,090 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:52:49,818 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-06 13:52:49,823 - database_service - INFO - Retrieved 1 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 13:52:51,048 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=linkedin.com "HTTP/1.1 200 OK"
2025-07-06 13:52:51,758 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.2ef720a4-e181-47a5-92e1-5a1867ec3b23 "HTTP/1.1 200 OK"
2025-07-06 13:52:51,762 - database_service - INFO - Analysis session updated successfully: 2ef720a4-e181-47a5-92e1-5a1867ec3b23
2025-07-06 13:52:51,768 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 13:52:51,770 - middleware - INFO -    Status: 200
2025-07-06 13:52:51,773 - middleware - INFO -    Processing time: 2.684s
2025-07-06 13:53:00,296 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-06 13:53:00,297 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:53:00,297 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:53:00,299 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-06 13:53:00,300 - middleware - INFO -    Status: 200
2025-07-06 13:53:00,300 - middleware - INFO -    Processing time: 0.004s
2025-07-06 13:53:00,312 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 13:53:00,313 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:53:00,314 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6942', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:53:00,318 - routes - INFO - [CHAT] Received chat message: How does this domain compare to its competitors?
2025-07-06 13:53:00,323 - routes - INFO -    Analysis data size: 7328 characters
2025-07-06 13:53:00,325 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 13:53:02,348 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 13:53:06,194 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&id=eq.2ef720a4-e181-47a5-92e1-5a1867ec3b23 "HTTP/1.1 200 OK"
2025-07-06 13:53:06,202 - database_service - INFO - Retrieved analysis session: 2ef720a4-e181-47a5-92e1-5a1867ec3b23
2025-07-06 13:53:06,529 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.2ef720a4-e181-47a5-92e1-5a1867ec3b23 "HTTP/1.1 200 OK"
2025-07-06 13:53:06,533 - database_service - INFO - Analysis session updated successfully: 2ef720a4-e181-47a5-92e1-5a1867ec3b23
2025-07-06 13:53:06,533 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 13:53:06,538 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 13:53:06,540 - middleware - INFO -    Status: 200
2025-07-06 13:53:06,541 - middleware - INFO -    Processing time: 6.227s
2025-07-06 13:53:08,364 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 13:53:08,365 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:53:08,366 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6945', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:53:08,368 - routes - INFO - [CHAT] Received chat message: What are the main traffic sources for this website?
2025-07-06 13:53:08,368 - routes - INFO -    Analysis data size: 7328 characters
2025-07-06 13:53:08,369 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 13:53:10,406 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 13:53:13,421 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&id=eq.2ef720a4-e181-47a5-92e1-5a1867ec3b23 "HTTP/1.1 200 OK"
2025-07-06 13:53:13,424 - database_service - INFO - Retrieved analysis session: 2ef720a4-e181-47a5-92e1-5a1867ec3b23
2025-07-06 13:53:14,092 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.2ef720a4-e181-47a5-92e1-5a1867ec3b23 "HTTP/1.1 200 OK"
2025-07-06 13:53:14,094 - database_service - INFO - Analysis session updated successfully: 2ef720a4-e181-47a5-92e1-5a1867ec3b23
2025-07-06 13:53:14,094 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 13:53:14,094 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 13:53:14,095 - middleware - INFO -    Status: 200
2025-07-06 13:53:14,095 - middleware - INFO -    Processing time: 5.730s
2025-07-06 13:53:35,415 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 13:53:35,419 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:53:35,419 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:53:35,421 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:53:35,797 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 13:53:35,807 - database_service - INFO - Retrieved 5 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 13:53:35,818 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 13:53:35,820 - middleware - INFO -    Status: 200
2025-07-06 13:53:35,820 - middleware - INFO -    Processing time: 0.403s
2025-07-06 13:53:35,823 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 13:53:35,823 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:53:35,824 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:53:35,824 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:53:36,389 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 13:53:36,393 - database_service - INFO - Retrieved 5 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 13:53:36,401 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 13:53:36,403 - middleware - INFO -    Status: 200
2025-07-06 13:53:36,403 - middleware - INFO -    Processing time: 0.578s
2025-07-06 13:54:06,278 - middleware - INFO - [INCOMING] OPTIONS request to /api/session/9a279a94-b1c4-426e-bdc1-e14560f2c745
2025-07-06 13:54:06,278 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:54:06,278 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'DELETE', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:54:06,280 - middleware - INFO - [RESPONSE] OPTIONS /api/session/9a279a94-b1c4-426e-bdc1-e14560f2c745
2025-07-06 13:54:06,281 - middleware - INFO -    Status: 200
2025-07-06 13:54:06,282 - middleware - INFO -    Processing time: 0.002s
2025-07-06 13:54:06,286 - middleware - INFO - [INCOMING] DELETE request to /api/session/9a279a94-b1c4-426e-bdc1-e14560f2c745
2025-07-06 13:54:06,286 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 13:54:06,286 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 13:54:06,288 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 13:54:07,309 - httpx - INFO - HTTP Request: DELETE https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.9a279a94-b1c4-426e-bdc1-e14560f2c745&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 13:54:07,310 - database_service - INFO - Analysis session deleted: 9a279a94-b1c4-426e-bdc1-e14560f2c745
2025-07-06 13:54:07,313 - middleware - INFO - [RESPONSE] DELETE /api/session/9a279a94-b1c4-426e-bdc1-e14560f2c745
2025-07-06 13:54:07,314 - middleware - INFO -    Status: 200
2025-07-06 13:54:07,314 - middleware - INFO -    Processing time: 1.027s
2025-07-06 14:01:59,375 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 14:01:59,376 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:01:59,377 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:01:59,378 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 14:01:59,379 - middleware - INFO -    Status: 200
2025-07-06 14:01:59,380 - middleware - INFO -    Processing time: 0.003s
2025-07-06 14:01:59,392 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 14:01:59,393 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:01:59,395 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '81', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:01:59,397 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 14:01:59,398 - routes - INFO -    Websites: ['https://www.youtube.com/']
2025-07-06 14:01:59,398 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 14:01:59,399 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 14:01:59,399 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 14:01:59,400 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 14:02:01,039 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 14:02:06,672 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/BWTTRl3IpL7daGKcf "HTTP/1.1 200 OK"
2025-07-06 14:02:12,392 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/BWTTRl3IpL7daGKcf "HTTP/1.1 200 OK"
2025-07-06 14:02:18,040 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/BWTTRl3IpL7daGKcf "HTTP/1.1 200 OK"
2025-07-06 14:02:23,882 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/BWTTRl3IpL7daGKcf "HTTP/1.1 200 OK"
2025-07-06 14:02:29,538 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/BWTTRl3IpL7daGKcf "HTTP/1.1 200 OK"
2025-07-06 14:02:34,727 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/BWTTRl3IpL7daGKcf "HTTP/1.1 200 OK"
2025-07-06 14:02:40,358 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/BWTTRl3IpL7daGKcf "HTTP/1.1 200 OK"
2025-07-06 14:02:46,343 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/BWTTRl3IpL7daGKcf "HTTP/1.1 200 OK"
2025-07-06 14:02:46,587 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/6aTAadQYWwRoEtm66/items "HTTP/1.1 200 OK"
2025-07-06 14:02:46,629 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:02:47,641 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 14:02:47,647 - database_service - INFO - User record already exists: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:02:47,648 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:02:48,244 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 14:02:48,246 - database_service - INFO - Analysis session saved successfully: e8cd2b1a-5593-42f2-820a-87743dc78c68
2025-07-06 14:02:48,246 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 14:02:48,248 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 14:02:48,249 - middleware - INFO -    Status: 200
2025-07-06 14:02:48,250 - middleware - INFO -    Processing time: 48.856s
2025-07-06 14:08:10,054 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 14:08:10,060 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-06 14:08:10,062 - config - INFO - Backend starting up...
2025-07-06 14:08:10,063 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 14:08:10,063 - config - INFO - .env file exists: True
2025-07-06 14:08:10,064 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 14:08:10,064 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 14:08:10,064 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 14:08:10,065 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 14:08:10,065 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 14:08:10,138 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-06 14:09:23,491 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 14:09:23,496 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:09:23,497 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '81', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:09:23,510 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 14:09:23,513 - routes - INFO -    Websites: ['https://www.youtube.com/']
2025-07-06 14:09:23,514 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 14:09:23,516 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 14:09:23,521 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 14:09:23,523 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 14:09:25,355 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 14:09:31,120 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/28e82MdXL0yrFgHIq "HTTP/1.1 200 OK"
2025-07-06 14:09:37,411 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/28e82MdXL0yrFgHIq "HTTP/1.1 200 OK"
2025-07-06 14:09:43,957 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/28e82MdXL0yrFgHIq "HTTP/1.1 200 OK"
2025-07-06 14:09:49,628 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/28e82MdXL0yrFgHIq "HTTP/1.1 200 OK"
2025-07-06 14:09:54,875 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/28e82MdXL0yrFgHIq "HTTP/1.1 200 OK"
2025-07-06 14:09:55,058 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/R7YQ01TdzdeA2tP6R/items "HTTP/1.1 200 OK"
2025-07-06 14:09:55,064 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:09:55,979 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 14:09:55,989 - database_service - INFO - User record already exists: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:09:55,991 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:09:56,629 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 14:09:56,631 - database_service - INFO - Analysis session saved successfully: 42256dc0-1a43-44f0-a808-3e1872afd84d
2025-07-06 14:09:56,632 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 14:09:56,639 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 14:09:56,640 - middleware - INFO -    Status: 200
2025-07-06 14:09:56,641 - middleware - INFO -    Processing time: 33.147s
2025-07-06 14:24:51,536 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 14:24:51,541 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:24:51,541 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:24:51,543 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 14:24:51,544 - middleware - INFO -    Status: 200
2025-07-06 14:24:51,544 - middleware - INFO -    Processing time: 0.007s
2025-07-06 14:24:51,547 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 14:24:51,547 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:24:51,548 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '81', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:24:51,549 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 14:24:51,550 - routes - INFO -    Websites: ['https://www.netflix.com/']
2025-07-06 14:24:51,551 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 14:24:51,551 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 14:24:51,553 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 14:24:51,553 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 14:24:53,136 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 14:24:58,556 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/qz6AWJIiw2eD9Rfrg "HTTP/1.1 200 OK"
2025-07-06 14:25:04,512 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/qz6AWJIiw2eD9Rfrg "HTTP/1.1 200 OK"
2025-07-06 14:25:10,259 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/qz6AWJIiw2eD9Rfrg "HTTP/1.1 200 OK"
2025-07-06 14:25:15,654 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/qz6AWJIiw2eD9Rfrg "HTTP/1.1 200 OK"
2025-07-06 14:25:21,341 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/qz6AWJIiw2eD9Rfrg "HTTP/1.1 200 OK"
2025-07-06 14:25:27,528 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/qz6AWJIiw2eD9Rfrg "HTTP/1.1 200 OK"
2025-07-06 14:25:27,826 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/cUXVDA9B9uSiXH5si/items "HTTP/1.1 200 OK"
2025-07-06 14:25:27,872 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:25:28,773 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 14:25:28,774 - database_service - INFO - User record already exists: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:25:28,776 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:25:29,270 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 14:25:29,272 - database_service - INFO - Analysis session saved successfully: e6c236db-8e55-40ec-87cc-7f78521d37e3
2025-07-06 14:25:29,272 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 14:25:29,303 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 14:25:29,306 - middleware - INFO -    Status: 200
2025-07-06 14:25:29,309 - middleware - INFO -    Processing time: 37.756s
2025-07-06 14:26:18,464 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-06 14:26:18,464 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:26:18,465 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:26:18,466 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-06 14:26:18,466 - middleware - INFO -    Status: 200
2025-07-06 14:26:18,467 - middleware - INFO -    Processing time: 0.002s
2025-07-06 14:26:18,475 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 14:26:18,475 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:26:18,476 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '270', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:26:18,480 - routes - INFO - [CHAT] Received chat message: What are the growth opportunities based on this analysis?
2025-07-06 14:26:18,481 - routes - INFO -    Analysis data size: 139 characters
2025-07-06 14:26:18,481 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 14:26:20,781 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 14:26:28,761 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&id=eq.e6c236db-8e55-40ec-87cc-7f78521d37e3 "HTTP/1.1 200 OK"
2025-07-06 14:26:28,762 - database_service - INFO - Retrieved analysis session: e6c236db-8e55-40ec-87cc-7f78521d37e3
2025-07-06 14:26:29,284 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.e6c236db-8e55-40ec-87cc-7f78521d37e3 "HTTP/1.1 200 OK"
2025-07-06 14:26:29,286 - database_service - INFO - Analysis session updated successfully: e6c236db-8e55-40ec-87cc-7f78521d37e3
2025-07-06 14:26:29,286 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 14:26:29,287 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 14:26:29,287 - middleware - INFO -    Status: 200
2025-07-06 14:26:29,287 - middleware - INFO -    Processing time: 10.812s
2025-07-06 14:26:54,444 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:26:54,446 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:26:54,446 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:26:54,449 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:26:55,211 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:26:55,216 - database_service - INFO - Retrieved 7 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:26:55,230 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:26:55,231 - middleware - INFO -    Status: 200
2025-07-06 14:26:55,231 - middleware - INFO -    Processing time: 0.785s
2025-07-06 14:26:55,239 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:26:55,240 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:26:55,240 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:26:55,242 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:26:55,488 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:26:55,496 - database_service - INFO - Retrieved 7 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:26:55,541 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:26:55,542 - middleware - INFO -    Status: 200
2025-07-06 14:26:55,542 - middleware - INFO -    Processing time: 0.302s
2025-07-06 14:27:13,347 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:27:13,348 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:27:13,348 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:27:13,349 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:27:14,288 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:27:14,296 - database_service - INFO - Retrieved 7 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:27:14,306 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:27:14,307 - middleware - INFO -    Status: 200
2025-07-06 14:27:14,307 - middleware - INFO -    Processing time: 0.960s
2025-07-06 14:27:14,312 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:27:14,312 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:27:14,314 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:27:14,315 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:27:14,821 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:27:14,841 - database_service - INFO - Retrieved 7 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:27:14,851 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:27:14,855 - middleware - INFO -    Status: 200
2025-07-06 14:27:14,856 - middleware - INFO -    Processing time: 0.539s
2025-07-06 14:27:22,491 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:27:22,491 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:27:22,491 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:27:22,492 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:27:23,541 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:27:23,547 - database_service - INFO - Retrieved 7 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:27:23,559 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:27:23,560 - middleware - INFO -    Status: 200
2025-07-06 14:27:23,562 - middleware - INFO -    Processing time: 1.068s
2025-07-06 14:27:23,566 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:27:23,569 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:27:23,569 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:27:23,571 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:27:23,799 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:27:23,809 - database_service - INFO - Retrieved 7 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:27:23,820 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:27:23,821 - middleware - INFO -    Status: 200
2025-07-06 14:27:23,821 - middleware - INFO -    Processing time: 0.254s
2025-07-06 14:32:19,113 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 14:32:19,113 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:32:19,114 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '78', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:32:19,115 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 14:32:19,115 - routes - INFO -    Websites: ['https://shoptawa.com/']
2025-07-06 14:32:19,116 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 14:32:19,116 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 14:32:19,119 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 14:32:19,120 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 14:32:21,542 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 14:32:26,871 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/PmyMW2E8zYSvGNct0 "HTTP/1.1 200 OK"
2025-07-06 14:32:32,275 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/PmyMW2E8zYSvGNct0 "HTTP/1.1 200 OK"
2025-07-06 14:32:37,518 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/PmyMW2E8zYSvGNct0 "HTTP/1.1 200 OK"
2025-07-06 14:32:43,370 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/PmyMW2E8zYSvGNct0 "HTTP/1.1 200 OK"
2025-07-06 14:32:48,558 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/PmyMW2E8zYSvGNct0 "HTTP/1.1 200 OK"
2025-07-06 14:32:48,729 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/NQmJJm8irai8rflJS/items "HTTP/1.1 200 OK"
2025-07-06 14:32:48,732 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:32:49,892 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 14:32:49,899 - database_service - INFO - User record already exists: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:32:49,899 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:32:50,237 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 14:32:50,239 - database_service - INFO - Analysis session saved successfully: dee5fdb2-a51f-460d-a36e-e7edfa90ba72
2025-07-06 14:32:50,240 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 14:32:50,240 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 14:32:50,241 - middleware - INFO -    Status: 200
2025-07-06 14:32:50,241 - middleware - INFO -    Processing time: 31.127s
2025-07-06 14:33:55,490 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 14:33:55,490 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:33:55,491 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '255', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:33:55,493 - routes - INFO - [CHAT] Received chat message: What technologies do the top competitors use?
2025-07-06 14:33:55,493 - routes - INFO -    Analysis data size: 136 characters
2025-07-06 14:33:55,494 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 14:33:58,123 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-06 14:34:03,211 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&id=eq.dee5fdb2-a51f-460d-a36e-e7edfa90ba72 "HTTP/1.1 200 OK"
2025-07-06 14:34:03,212 - database_service - INFO - Retrieved analysis session: dee5fdb2-a51f-460d-a36e-e7edfa90ba72
2025-07-06 14:34:03,448 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.dee5fdb2-a51f-460d-a36e-e7edfa90ba72 "HTTP/1.1 200 OK"
2025-07-06 14:34:03,449 - database_service - INFO - Analysis session updated successfully: dee5fdb2-a51f-460d-a36e-e7edfa90ba72
2025-07-06 14:34:03,450 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 14:34:03,452 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 14:34:03,452 - middleware - INFO -    Status: 200
2025-07-06 14:34:03,453 - middleware - INFO -    Processing time: 7.962s
2025-07-06 14:34:23,359 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:34:23,360 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:34:23,360 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:34:23,362 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:34:23,989 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:34:24,000 - database_service - INFO - Retrieved 8 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:34:24,012 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:34:24,013 - middleware - INFO -    Status: 200
2025-07-06 14:34:24,013 - middleware - INFO -    Processing time: 0.652s
2025-07-06 14:34:24,016 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:34:24,016 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:34:24,017 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:34:24,018 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:34:24,616 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:34:24,620 - database_service - INFO - Retrieved 8 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:34:24,636 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:34:24,643 - middleware - INFO -    Status: 200
2025-07-06 14:34:24,645 - middleware - INFO -    Processing time: 0.620s
2025-07-06 14:34:43,561 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:34:43,562 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:34:43,562 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:34:43,563 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:34:44,354 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:34:44,362 - database_service - INFO - Retrieved 8 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:34:44,371 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:34:44,372 - middleware - INFO -    Status: 200
2025-07-06 14:34:44,372 - middleware - INFO -    Processing time: 0.810s
2025-07-06 14:34:44,375 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:34:44,375 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:34:44,376 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:34:44,376 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:34:44,724 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:34:44,735 - database_service - INFO - Retrieved 8 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:34:44,745 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:34:44,746 - middleware - INFO -    Status: 200
2025-07-06 14:34:44,747 - middleware - INFO -    Processing time: 0.370s
2025-07-06 14:37:06,878 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 14:37:06,884 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-06 14:37:06,885 - config - INFO - Backend starting up...
2025-07-06 14:37:06,886 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 14:37:06,887 - config - INFO - .env file exists: True
2025-07-06 14:37:06,888 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 14:37:06,889 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 14:37:06,889 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 14:37:06,890 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 14:37:06,890 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 14:37:06,937 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-06 14:44:31,817 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:44:31,820 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:44:31,820 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:44:31,825 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:44:32,716 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:44:32,738 - database_service - INFO - Retrieved 8 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:44:32,750 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:44:32,751 - middleware - INFO -    Status: 200
2025-07-06 14:44:32,752 - middleware - INFO -    Processing time: 0.935s
2025-07-06 14:44:32,761 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:44:32,762 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:44:32,763 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:44:32,764 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:44:33,395 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:44:33,406 - database_service - INFO - Retrieved 8 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:44:33,413 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:44:33,414 - middleware - INFO -    Status: 200
2025-07-06 14:44:33,414 - middleware - INFO -    Processing time: 0.652s
2025-07-06 14:47:52,551 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 14:47:52,558 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-06 14:47:52,560 - config - INFO - Backend starting up...
2025-07-06 14:47:52,561 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 14:47:52,561 - config - INFO - .env file exists: True
2025-07-06 14:47:52,563 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 14:47:52,563 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 14:47:52,563 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 14:47:52,563 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 14:47:52,563 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 14:47:52,598 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-06 14:49:18,660 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 200 OK"
2025-07-06 14:49:18,668 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-06 14:49:18,669 - config - INFO - Backend starting up...
2025-07-06 14:49:18,670 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 14:49:18,670 - config - INFO - .env file exists: True
2025-07-06 14:49:18,671 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 14:49:18,671 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 14:49:18,671 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 14:49:18,672 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 14:49:18,672 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 14:49:18,705 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-06 14:51:35,344 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 14:51:35,345 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:51:35,346 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:51:35,348 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 14:51:35,348 - middleware - INFO -    Status: 200
2025-07-06 14:51:35,349 - middleware - INFO -    Processing time: 0.006s
2025-07-06 14:51:35,356 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 14:51:35,357 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:51:35,358 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '69', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:51:35,363 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 14:51:35,364 - routes - INFO -    Websites: ['facebook.com']
2025-07-06 14:51:35,364 - routes - INFO -    User ID: user-1751799790169-w0q4x2cq9
2025-07-06 14:51:35,365 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 14:51:35,366 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 14:51:35,366 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 14:51:36,728 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 14:51:42,958 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/AfnZKMDgwo3PCN0uF "HTTP/1.1 200 OK"
2025-07-06 14:51:48,988 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/AfnZKMDgwo3PCN0uF "HTTP/1.1 200 OK"
2025-07-06 14:51:54,497 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/AfnZKMDgwo3PCN0uF "HTTP/1.1 200 OK"
2025-07-06 14:52:00,130 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/AfnZKMDgwo3PCN0uF "HTTP/1.1 200 OK"
2025-07-06 14:52:05,281 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/AfnZKMDgwo3PCN0uF "HTTP/1.1 200 OK"
2025-07-06 14:52:11,106 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/AfnZKMDgwo3PCN0uF "HTTP/1.1 200 OK"
2025-07-06 14:52:11,306 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/N8VEz4eZFw7DkdLto/items "HTTP/1.1 200 OK"
2025-07-06 14:52:11,341 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:52:12,389 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381 "HTTP/1.1 200 OK"
2025-07-06 14:52:12,395 - database_service - INFO - User record already exists: 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:52:12,396 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:52:13,478 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 14:52:13,480 - database_service - INFO - Analysis session saved successfully: 7b7f4e34-e27f-4f8c-8c45-192855cfa140
2025-07-06 14:52:13,481 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 14:52:13,509 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 14:52:13,510 - middleware - INFO -    Status: 200
2025-07-06 14:52:13,510 - middleware - INFO -    Processing time: 38.153s
2025-07-06 14:53:07,727 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-06 14:53:07,728 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:53:07,728 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://25.49.42.97:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:53:07,729 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-06 14:53:07,730 - middleware - INFO -    Status: 200
2025-07-06 14:53:07,730 - middleware - INFO -    Processing time: 0.002s
2025-07-06 14:53:07,734 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 14:53:07,734 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:53:07,735 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '3289', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:53:07,771 - routes - INFO - [CHAT] Received chat message: What are the growth opportunities based on this analysis?
2025-07-06 14:53:07,774 - routes - INFO -    Analysis data size: 3382 characters
2025-07-06 14:53:07,775 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 14:53:10,468 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 402 Payment Required"
2025-07-06 14:53:11,814 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&id=eq.7b7f4e34-e27f-4f8c-8c45-192855cfa140 "HTTP/1.1 200 OK"
2025-07-06 14:53:11,816 - database_service - INFO - Retrieved analysis session: 7b7f4e34-e27f-4f8c-8c45-192855cfa140
2025-07-06 14:53:12,271 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.7b7f4e34-e27f-4f8c-8c45-192855cfa140 "HTTP/1.1 200 OK"
2025-07-06 14:53:12,272 - database_service - INFO - Analysis session updated successfully: 7b7f4e34-e27f-4f8c-8c45-192855cfa140
2025-07-06 14:53:12,273 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 14:53:12,274 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 14:53:12,274 - middleware - INFO -    Status: 200
2025-07-06 14:53:12,274 - middleware - INFO -    Processing time: 4.539s
2025-07-06 14:53:23,437 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 14:53:23,439 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:53:23,440 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '3268', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:53:23,441 - routes - INFO - [CHAT] Received chat message: What are the latest industry trends?
2025-07-06 14:53:23,443 - routes - INFO -    Analysis data size: 3382 characters
2025-07-06 14:53:23,445 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 14:53:24,629 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 402 Payment Required"
2025-07-06 14:53:24,991 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&id=eq.7b7f4e34-e27f-4f8c-8c45-192855cfa140 "HTTP/1.1 200 OK"
2025-07-06 14:53:24,995 - database_service - INFO - Retrieved analysis session: 7b7f4e34-e27f-4f8c-8c45-192855cfa140
2025-07-06 14:53:25,278 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.7b7f4e34-e27f-4f8c-8c45-192855cfa140 "HTTP/1.1 200 OK"
2025-07-06 14:53:25,280 - database_service - INFO - Analysis session updated successfully: 7b7f4e34-e27f-4f8c-8c45-192855cfa140
2025-07-06 14:53:25,280 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 14:53:25,281 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 14:53:25,283 - middleware - INFO -    Status: 200
2025-07-06 14:53:25,283 - middleware - INFO -    Processing time: 1.845s
2025-07-06 14:56:26,253 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:56:26,254 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:56:26,255 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:56:26,256 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:56:27,498 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:56:27,506 - database_service - INFO - Retrieved 9 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:56:27,523 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:56:27,524 - middleware - INFO -    Status: 200
2025-07-06 14:56:27,524 - middleware - INFO -    Processing time: 1.270s
2025-07-06 14:56:27,528 - middleware - INFO - [INCOMING] GET request to /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:56:27,529 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 14:56:27,529 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://25.49.42.97:3000', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://25.49.42.97:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 14:56:27,531 - database_service - INFO - Generated UUID 5c7cb362-7b1e-5b9f-9d6f-44e31a657381 for user_id: user-1751799790169-w0q4x2cq9
2025-07-06 14:56:28,855 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.5c7cb362-7b1e-5b9f-9d6f-44e31a657381&order=created_at.desc&limit=50 "HTTP/1.1 200 OK"
2025-07-06 14:56:28,859 - database_service - INFO - Retrieved 9 analysis sessions for user 5c7cb362-7b1e-5b9f-9d6f-44e31a657381
2025-07-06 14:56:28,867 - middleware - INFO - [RESPONSE] GET /api/history/user-1751799790169-w0q4x2cq9
2025-07-06 14:56:28,867 - middleware - INFO -    Status: 200
2025-07-06 14:56:28,867 - middleware - INFO -    Processing time: 1.338s
2025-07-06 18:32:49,202 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-06 18:32:49,209 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-06 18:32:49,210 - config - INFO - Backend starting up...
2025-07-06 18:32:49,210 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 18:32:49,211 - config - INFO - .env file exists: True
2025-07-06 18:32:49,211 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 18:32:49,211 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 18:32:49,212 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 18:32:49,213 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 18:32:49,213 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 18:32:49,245 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-06 18:34:40,841 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 18:34:40,842 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 18:34:40,843 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 18:34:40,844 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 18:34:40,845 - middleware - INFO -    Status: 200
2025-07-06 18:34:40,845 - middleware - INFO -    Processing time: 0.004s
2025-07-06 18:34:40,877 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 18:34:40,878 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 18:34:40,878 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '57', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 18:34:40,883 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 18:34:40,884 - routes - INFO -    Websites: ['google.com']
2025-07-06 18:34:40,884 - routes - INFO -    User ID: user-1751823280516
2025-07-06 18:34:40,884 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 18:34:40,885 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 18:34:40,889 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 18:34:42,472 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 18:34:47,769 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/yXg1rklGkDr2VHmeB "HTTP/1.1 200 OK"
2025-07-06 18:34:53,445 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/yXg1rklGkDr2VHmeB "HTTP/1.1 200 OK"
2025-07-06 18:34:59,235 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/yXg1rklGkDr2VHmeB "HTTP/1.1 200 OK"
2025-07-06 18:35:05,110 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/yXg1rklGkDr2VHmeB "HTTP/1.1 200 OK"
2025-07-06 18:35:10,903 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/yXg1rklGkDr2VHmeB "HTTP/1.1 200 OK"
2025-07-06 18:35:16,335 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/yXg1rklGkDr2VHmeB "HTTP/1.1 200 OK"
2025-07-06 18:35:16,518 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/blm9aVOdshc4qLaxq/items "HTTP/1.1 200 OK"
2025-07-06 18:35:16,556 - database_service - INFO - Generated UUID 549b7ecc-a7b1-597e-823b-6241821de210 for user_id: user-1751823280516
2025-07-06 18:35:17,524 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.549b7ecc-a7b1-597e-823b-6241821de210 "HTTP/1.1 200 OK"
2025-07-06 18:35:17,527 - database_service - INFO - Creating user record for: 549b7ecc-a7b1-597e-823b-6241821de210
2025-07-06 18:35:18,185 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 201 Created"
2025-07-06 18:35:18,186 - database_service - INFO - Created user record: 549b7ecc-a7b1-597e-823b-6241821de210
2025-07-06 18:35:18,187 - database_service - INFO - Generated UUID 549b7ecc-a7b1-597e-823b-6241821de210 for user_id: user-1751823280516
2025-07-06 18:35:18,850 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 18:35:18,851 - database_service - INFO - Analysis session saved successfully: 7a2946cc-05e7-42b0-aeef-5502339ef59a
2025-07-06 18:35:18,851 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 18:35:18,880 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 18:35:18,881 - middleware - INFO -    Status: 200
2025-07-06 18:35:18,881 - middleware - INFO -    Processing time: 38.003s
2025-07-06 18:36:00,125 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-06 18:36:00,126 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 18:36:00,126 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 18:36:00,127 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-06 18:36:00,128 - middleware - INFO -    Status: 200
2025-07-06 18:36:00,128 - middleware - INFO -    Processing time: 0.002s
2025-07-06 18:36:00,132 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 18:36:00,133 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 18:36:00,133 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '191', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 18:36:00,135 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-06 18:36:00,137 - routes - INFO -    Websites: ['google.com', 'facebook.com', 'chatgpt.com', 'bing.com', 'x.com', 'reddit.com', 'instagram.com', 'altavista.com', 'github.com', 'dogpile.com', 'youtube.com']
2025-07-06 18:36:00,141 - routes - INFO -    User ID: user-1751823348526
2025-07-06 18:36:00,143 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 18:36:00,146 - database_service - INFO - Generated UUID 0a9746ae-16a0-5cc4-ae04-4ab5029ca6d1 for user_id: user-1751823348526
2025-07-06 18:36:00,981 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.0a9746ae-16a0-5cc4-ae04-4ab5029ca6d1&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-06 18:36:02,401 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=google.com "HTTP/1.1 200 OK"
2025-07-06 18:36:02,406 - database_service - INFO - Generated UUID 0a9746ae-16a0-5cc4-ae04-4ab5029ca6d1 for user_id: user-1751823348526
2025-07-06 18:36:02,669 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.0a9746ae-16a0-5cc4-ae04-4ab5029ca6d1 "HTTP/1.1 200 OK"
2025-07-06 18:36:02,670 - database_service - INFO - Creating user record for: 0a9746ae-16a0-5cc4-ae04-4ab5029ca6d1
2025-07-06 18:36:02,918 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 201 Created"
2025-07-06 18:36:02,920 - database_service - INFO - Created user record: 0a9746ae-16a0-5cc4-ae04-4ab5029ca6d1
2025-07-06 18:36:02,921 - database_service - INFO - Generated UUID 0a9746ae-16a0-5cc4-ae04-4ab5029ca6d1 for user_id: user-1751823348526
2025-07-06 18:36:03,474 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 18:36:03,476 - database_service - INFO - Analysis session saved successfully: ff8db2c6-72f5-4a07-9510-136f2dcea736
2025-07-06 18:36:03,478 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 18:36:03,479 - middleware - INFO -    Status: 200
2025-07-06 18:36:03,480 - middleware - INFO -    Processing time: 3.346s
2025-07-06 18:50:13,290 - middleware - INFO - [INCOMING] GET request to /similarweb/instagram.com
2025-07-06 18:50:13,321 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 18:50:13,323 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 18:50:13,331 - middleware - INFO - [RESPONSE] GET /similarweb/instagram.com
2025-07-06 18:50:13,333 - middleware - INFO -    Status: 404
2025-07-06 18:50:13,333 - middleware - INFO -    Processing time: 0.044s
2025-07-06 18:52:42,524 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-06 18:52:42,537 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-06 18:52:42,538 - config - INFO - Backend starting up...
2025-07-06 18:52:42,539 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 18:52:42,539 - config - INFO - .env file exists: True
2025-07-06 18:52:42,540 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 18:52:42,540 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 18:52:42,540 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 18:52:42,541 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 18:52:42,542 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 18:52:43,965 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-06 18:52:43,965 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-06 18:52:45,508 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-06 18:53:24,776 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 18:53:24,777 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 18:53:24,778 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 18:53:24,778 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 18:53:24,778 - middleware - INFO -    Status: 200
2025-07-06 18:53:24,779 - middleware - INFO -    Processing time: 0.002s
2025-07-06 18:53:24,782 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 18:53:24,783 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 18:53:24,783 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '47', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 18:53:24,787 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 18:53:24,795 - routes - INFO -    Websites: ['google.com']
2025-07-06 18:53:24,796 - routes - INFO -    User ID: user-123
2025-07-06 18:53:24,796 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 18:53:24,796 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 18:53:24,797 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 18:53:26,236 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 18:53:31,912 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/mZLQzXPiBKEI3SXo8 "HTTP/1.1 200 OK"
2025-07-06 18:53:37,614 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/mZLQzXPiBKEI3SXo8 "HTTP/1.1 200 OK"
2025-07-06 18:53:42,801 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/mZLQzXPiBKEI3SXo8 "HTTP/1.1 200 OK"
2025-07-06 18:53:48,731 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/mZLQzXPiBKEI3SXo8 "HTTP/1.1 200 OK"
2025-07-06 18:53:54,595 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/mZLQzXPiBKEI3SXo8 "HTTP/1.1 200 OK"
2025-07-06 18:53:59,900 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/mZLQzXPiBKEI3SXo8 "HTTP/1.1 200 OK"
2025-07-06 18:54:05,695 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/mZLQzXPiBKEI3SXo8 "HTTP/1.1 200 OK"
2025-07-06 18:54:05,872 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/dgfLw4FC4ksC8tYwc/items "HTTP/1.1 200 OK"
2025-07-06 18:54:05,879 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-06 18:54:06,748 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933 "HTTP/1.1 200 OK"
2025-07-06 18:54:06,752 - database_service - INFO - Creating user record for: 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-06 18:54:07,357 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 201 Created"
2025-07-06 18:54:07,359 - database_service - INFO - Created user record: 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-06 18:54:07,359 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-06 18:54:07,652 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 18:54:07,657 - database_service - INFO - Analysis session saved successfully: 9e9c0c44-fc93-4d3d-aba7-e7f3ed8ffccb
2025-07-06 18:54:07,659 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 18:54:07,665 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 18:54:07,668 - middleware - INFO -    Status: 200
2025-07-06 18:54:07,672 - middleware - INFO -    Processing time: 42.883s
2025-07-06 19:01:40,373 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-06 19:01:40,378 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-06 19:01:40,378 - config - INFO - Backend starting up...
2025-07-06 19:01:40,378 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 19:01:40,380 - config - INFO - .env file exists: True
2025-07-06 19:01:40,380 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 19:01:40,381 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 19:01:40,381 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 19:01:40,381 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 19:01:40,381 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 19:01:41,000 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-06 19:01:41,001 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-06 19:01:42,147 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-06 19:02:06,442 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 19:02:06,443 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:02:06,444 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '50', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:02:06,448 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 19:02:06,448 - routes - INFO -    Websites: ['instagram.com']
2025-07-06 19:02:06,448 - routes - INFO -    User ID: user-123
2025-07-06 19:02:06,448 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 19:02:06,450 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 19:02:06,450 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 19:02:08,161 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 19:02:14,378 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bAKPJNtnFVIgZhNBJ "HTTP/1.1 200 OK"
2025-07-06 19:02:19,584 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bAKPJNtnFVIgZhNBJ "HTTP/1.1 200 OK"
2025-07-06 19:02:24,817 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bAKPJNtnFVIgZhNBJ "HTTP/1.1 200 OK"
2025-07-06 19:02:30,607 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bAKPJNtnFVIgZhNBJ "HTTP/1.1 200 OK"
2025-07-06 19:02:35,860 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bAKPJNtnFVIgZhNBJ "HTTP/1.1 200 OK"
2025-07-06 19:02:41,522 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bAKPJNtnFVIgZhNBJ "HTTP/1.1 200 OK"
2025-07-06 19:02:47,251 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bAKPJNtnFVIgZhNBJ "HTTP/1.1 200 OK"
2025-07-06 19:02:47,426 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/TYdqL0VfIYXgnZlSC/items "HTTP/1.1 200 OK"
2025-07-06 19:02:47,434 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-06 19:02:48,169 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933 "HTTP/1.1 200 OK"
2025-07-06 19:02:48,177 - database_service - INFO - User record already exists: 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-06 19:02:48,178 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-06 19:02:48,442 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 19:02:48,443 - database_service - INFO - Analysis session saved successfully: 4ede32d2-bc00-491f-9baa-6f6cd56e0eaa
2025-07-06 19:02:48,444 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 19:02:48,445 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 19:02:48,445 - middleware - INFO -    Status: 200
2025-07-06 19:02:48,446 - middleware - INFO -    Processing time: 42.003s
2025-07-06 19:03:00,884 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 19:03:00,887 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:03:00,890 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '50', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:03:00,893 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 19:03:00,894 - routes - INFO -    Websites: ['instagram.com']
2025-07-06 19:03:00,894 - routes - INFO -    User ID: user-123
2025-07-06 19:03:00,894 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 19:03:00,896 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 19:03:00,896 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 19:03:02,106 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 19:03:08,139 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/rYedun6hw9wuC8zpv "HTTP/1.1 200 OK"
2025-07-06 19:03:09,963 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-06 19:03:09,964 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:03:09,965 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:03:09,967 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-06 19:03:09,967 - middleware - INFO -    Status: 200
2025-07-06 19:03:09,968 - middleware - INFO -    Processing time: 0.004s
2025-07-06 19:03:09,974 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 19:03:09,976 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:03:09,980 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '50', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:03:09,982 - routes - INFO - [TECH] Starting tech stack analysis for 1 websites
2025-07-06 19:03:09,983 - routes - INFO -    Websites: ['instagram.com']
2025-07-06 19:03:09,983 - routes - INFO -    User ID: user-123
2025-07-06 19:03:09,983 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 19:03:09,985 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-06 19:03:10,486 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-06 19:03:10,490 - database_service - INFO - Retrieved 1 analysis sessions for user 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-06 19:03:11,814 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=instagram.com "HTTP/1.1 200 OK"
2025-07-06 19:03:12,438 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.4ede32d2-bc00-491f-9baa-6f6cd56e0eaa "HTTP/1.1 200 OK"
2025-07-06 19:03:12,439 - database_service - INFO - Analysis session updated successfully: 4ede32d2-bc00-491f-9baa-6f6cd56e0eaa
2025-07-06 19:03:12,442 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 19:03:12,442 - middleware - INFO -    Status: 200
2025-07-06 19:03:12,443 - middleware - INFO -    Processing time: 2.468s
2025-07-06 19:03:13,738 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/rYedun6hw9wuC8zpv "HTTP/1.1 200 OK"
2025-07-06 19:03:17,840 - middleware - INFO - [INCOMING] GET request to /google-trends
2025-07-06 19:03:17,840 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:03:17,841 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:03:17,842 - routes - INFO - [GOOGLE TRENDS] Fetching trends for query: instagram.com
2025-07-06 19:03:17,843 - clients.google_trends_client - INFO - Fetching Google Trends data for keywords: ['instagram.com']
2025-07-06 19:03:19,285 - clients.google_trends_client - ERROR - Error fetching Google Trends data: list index out of range
2025-07-06 19:03:19,286 - middleware - INFO - [RESPONSE] GET /google-trends
2025-07-06 19:03:19,288 - middleware - INFO -    Status: 500
2025-07-06 19:03:19,288 - middleware - INFO -    Processing time: 1.446s
2025-07-06 19:03:19,938 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/rYedun6hw9wuC8zpv "HTTP/1.1 200 OK"
2025-07-06 19:03:25,542 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/rYedun6hw9wuC8zpv "HTTP/1.1 200 OK"
2025-07-06 19:03:30,738 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/rYedun6hw9wuC8zpv "HTTP/1.1 200 OK"
2025-07-06 19:03:36,382 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/rYedun6hw9wuC8zpv "HTTP/1.1 200 OK"
2025-07-06 19:03:42,014 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/rYedun6hw9wuC8zpv "HTTP/1.1 200 OK"
2025-07-06 19:03:42,177 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/hVKRnOS6raga6pp4U/items "HTTP/1.1 200 OK"
2025-07-06 19:03:42,185 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-06 19:03:42,758 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933 "HTTP/1.1 200 OK"
2025-07-06 19:03:42,761 - database_service - INFO - User record already exists: 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-06 19:03:42,761 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-06 19:03:43,363 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 19:03:43,364 - database_service - INFO - Analysis session saved successfully: eec04db0-bd85-4889-b334-bac87685d485
2025-07-06 19:03:43,365 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 19:03:43,366 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 19:03:43,367 - middleware - INFO -    Status: 200
2025-07-06 19:03:43,367 - middleware - INFO -    Processing time: 42.481s
2025-07-06 19:06:08,861 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-06 19:06:08,868 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-06 19:06:08,869 - config - INFO - Backend starting up...
2025-07-06 19:06:08,870 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 19:06:08,870 - config - INFO - .env file exists: True
2025-07-06 19:06:08,870 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 19:06:08,871 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 19:06:08,871 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 19:06:08,871 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 19:06:08,872 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 19:06:09,346 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-06 19:06:09,347 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-06 19:06:10,391 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-06 19:06:11,165 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-06 19:06:59,586 - middleware - INFO - [INCOMING] GET request to /google-trends
2025-07-06 19:06:59,588 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:06:59,589 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:06:59,591 - routes - INFO - [GOOGLE TRENDS] Fetching trends for query: messi
2025-07-06 19:06:59,592 - routes - INFO - [GOOGLE TRENDS] Processing keywords: ['messi'], timeframe: today 12-m, geo: 
2025-07-06 19:06:59,592 - clients.google_trends_client - INFO - Fetching Google Trends data for keywords: ['messi']
2025-07-06 19:06:59,593 - clients.google_trends_client - INFO - Cleaned keywords: ['messi']
2025-07-06 19:06:59,594 - clients.google_trends_client - ERROR - Error fetching Google Trends data: Retry.__init__() got an unexpected keyword argument 'method_whitelist'
2025-07-06 19:06:59,595 - routes - ERROR - [ERROR] Google Trends client returned error: Retry.__init__() got an unexpected keyword argument 'method_whitelist'
2025-07-06 19:06:59,595 - middleware - INFO - [RESPONSE] GET /google-trends
2025-07-06 19:06:59,596 - middleware - INFO -    Status: 500
2025-07-06 19:06:59,596 - middleware - INFO -    Processing time: 0.009s
2025-07-06 19:07:39,049 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 19:07:39,050 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:07:39,050 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:07:39,051 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 19:07:39,052 - middleware - INFO -    Status: 200
2025-07-06 19:07:39,054 - middleware - INFO -    Processing time: 0.002s
2025-07-06 19:07:39,058 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 19:07:39,059 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:07:39,060 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '50', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:07:39,063 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 19:07:39,064 - routes - INFO -    Websites: ['instagram.com']
2025-07-06 19:07:39,064 - routes - INFO -    User ID: user-123
2025-07-06 19:07:39,064 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 19:07:39,065 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 19:07:39,065 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 19:07:40,739 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 19:07:46,490 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/F995EvE1J2k2I8hlQ "HTTP/1.1 200 OK"
2025-07-06 19:07:52,295 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/F995EvE1J2k2I8hlQ "HTTP/1.1 200 OK"
2025-07-06 19:07:58,376 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/F995EvE1J2k2I8hlQ "HTTP/1.1 200 OK"
2025-07-06 19:08:03,594 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/F995EvE1J2k2I8hlQ "HTTP/1.1 200 OK"
2025-07-06 19:08:08,785 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/F995EvE1J2k2I8hlQ "HTTP/1.1 200 OK"
2025-07-06 19:08:14,459 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/F995EvE1J2k2I8hlQ "HTTP/1.1 200 OK"
2025-07-06 19:08:14,633 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/tdDSQgdaX85pYRuSH/items "HTTP/1.1 200 OK"
2025-07-06 19:08:14,640 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-06 19:08:15,434 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933 "HTTP/1.1 200 OK"
2025-07-06 19:08:15,442 - database_service - INFO - User record already exists: 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-06 19:08:15,443 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-06 19:08:15,704 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 19:08:15,704 - database_service - INFO - Analysis session saved successfully: cf3425cf-9bc2-4731-82b2-c3597d6d07e6
2025-07-06 19:08:15,706 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 19:08:15,710 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 19:08:15,711 - middleware - INFO -    Status: 200
2025-07-06 19:08:15,711 - middleware - INFO -    Processing time: 36.652s
2025-07-06 19:08:46,696 - middleware - INFO - [INCOMING] GET request to /google-trends
2025-07-06 19:08:46,697 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:08:46,697 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:08:46,698 - routes - INFO - [GOOGLE TRENDS] Fetching trends for query: messi
2025-07-06 19:08:46,699 - routes - INFO - [GOOGLE TRENDS] Processing keywords: ['messi'], timeframe: today 12-m, geo: 
2025-07-06 19:08:46,700 - clients.google_trends_client - INFO - Fetching Google Trends data for keywords: ['messi']
2025-07-06 19:08:46,700 - clients.google_trends_client - INFO - Cleaned keywords: ['messi']
2025-07-06 19:08:46,701 - clients.google_trends_client - ERROR - Error fetching Google Trends data: Retry.__init__() got an unexpected keyword argument 'method_whitelist'
2025-07-06 19:08:46,702 - routes - ERROR - [ERROR] Google Trends client returned error: Retry.__init__() got an unexpected keyword argument 'method_whitelist'
2025-07-06 19:08:46,704 - middleware - INFO - [RESPONSE] GET /google-trends
2025-07-06 19:08:46,704 - middleware - INFO -    Status: 500
2025-07-06 19:08:46,704 - middleware - INFO -    Processing time: 0.008s
2025-07-06 19:10:41,058 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-06 19:10:41,065 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-06 19:10:41,066 - config - INFO - Backend starting up...
2025-07-06 19:10:41,067 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 19:10:41,067 - config - INFO - .env file exists: True
2025-07-06 19:10:41,067 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 19:10:41,068 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 19:10:41,069 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 19:10:41,070 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 19:10:41,070 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 19:10:41,665 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-06 19:10:41,665 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-06 19:10:42,529 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-06 19:10:44,318 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-06 19:10:56,268 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 19:10:56,272 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:10:56,272 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '64', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:10:56,277 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 19:10:56,278 - routes - INFO -    Websites: ['https://www.mosaiquefm.net/']
2025-07-06 19:10:56,278 - routes - INFO -    User ID: user-123
2025-07-06 19:10:56,278 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 19:10:56,281 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 19:10:56,282 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 19:10:57,840 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 19:11:04,132 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Jmuc9lC4pGXp9QRsl "HTTP/1.1 200 OK"
2025-07-06 19:11:09,790 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Jmuc9lC4pGXp9QRsl "HTTP/1.1 200 OK"
2025-07-06 19:11:15,007 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Jmuc9lC4pGXp9QRsl "HTTP/1.1 200 OK"
2025-07-06 19:11:20,797 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Jmuc9lC4pGXp9QRsl "HTTP/1.1 200 OK"
2025-07-06 19:11:25,963 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Jmuc9lC4pGXp9QRsl "HTTP/1.1 200 OK"
2025-07-06 19:11:31,592 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Jmuc9lC4pGXp9QRsl "HTTP/1.1 200 OK"
2025-07-06 19:11:36,784 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Jmuc9lC4pGXp9QRsl "HTTP/1.1 200 OK"
2025-07-06 19:11:41,957 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Jmuc9lC4pGXp9QRsl "HTTP/1.1 200 OK"
2025-07-06 19:11:42,130 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/srjmG5yrINwl5Dmlf/items "HTTP/1.1 200 OK"
2025-07-06 19:11:42,156 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-06 19:11:42,855 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933 "HTTP/1.1 200 OK"
2025-07-06 19:11:42,862 - database_service - INFO - User record already exists: 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-06 19:11:42,864 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-06 19:11:43,518 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 19:11:43,520 - database_service - INFO - Analysis session saved successfully: 197fe6a6-9b5c-4f2e-a01d-e0b0a40a1044
2025-07-06 19:11:43,522 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 19:11:43,525 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 19:11:43,527 - middleware - INFO -    Status: 200
2025-07-06 19:11:43,527 - middleware - INFO -    Processing time: 47.256s
2025-07-06 19:12:19,259 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 19:12:19,260 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:12:19,260 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '64', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:12:19,262 - routes - INFO - [TECH] Starting tech stack analysis for 1 websites
2025-07-06 19:12:19,263 - routes - INFO -    Websites: ['https://www.mosaiquefm.net/']
2025-07-06 19:12:19,264 - routes - INFO -    User ID: user-123
2025-07-06 19:12:19,264 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 19:12:19,266 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-06 19:12:19,973 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-06 19:12:19,978 - database_service - INFO - Retrieved 1 analysis sessions for user 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-06 19:12:21,608 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://www.mosaiquefm.net/ "HTTP/1.1 200 OK"
2025-07-06 19:12:21,880 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.197fe6a6-9b5c-4f2e-a01d-e0b0a40a1044 "HTTP/1.1 200 OK"
2025-07-06 19:12:21,882 - database_service - INFO - Analysis session updated successfully: 197fe6a6-9b5c-4f2e-a01d-e0b0a40a1044
2025-07-06 19:12:21,884 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 19:12:21,884 - middleware - INFO -    Status: 200
2025-07-06 19:12:21,885 - middleware - INFO -    Processing time: 2.624s
2025-07-06 19:12:25,141 - middleware - INFO - [INCOMING] GET request to /google-trends
2025-07-06 19:12:25,142 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:12:25,142 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:12:25,143 - routes - INFO - [GOOGLE TRENDS] Fetching trends for query: https://www.mosaiquefm.net/
2025-07-06 19:12:25,144 - routes - INFO - [GOOGLE TRENDS] Processing keywords: ['https://www.mosaiquefm.net/'], timeframe: today 12-m, geo: 
2025-07-06 19:12:25,144 - clients.google_trends_client - INFO - Fetching Google Trends data for keywords: ['https://www.mosaiquefm.net/']
2025-07-06 19:12:25,145 - clients.google_trends_client - INFO - Cleaned keywords: ['https://mosaiquefm/']
2025-07-06 19:12:28,358 - clients.google_trends_client - WARNING - Failed to get related queries: list index out of range
2025-07-06 19:12:29,334 - clients.google_trends_client - WARNING - Failed to get related topics: list index out of range
2025-07-06 19:12:30,739 - clients.google_trends_client - INFO - Successfully fetched Google Trends data for 1 keywords
2025-07-06 19:12:30,740 - routes - INFO - [SUCCESS] Google Trends data fetched successfully for 1 keywords
2025-07-06 19:12:30,746 - middleware - INFO - [RESPONSE] GET /google-trends
2025-07-06 19:12:30,746 - middleware - INFO -    Status: 200
2025-07-06 19:12:30,748 - middleware - INFO -    Processing time: 5.605s
2025-07-06 19:12:50,063 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-06 19:12:50,072 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:12:50,073 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:12:50,077 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-06 19:12:50,077 - middleware - INFO -    Status: 200
2025-07-06 19:12:50,078 - middleware - INFO -    Processing time: 0.014s
2025-07-06 19:12:50,082 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 19:12:50,083 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:12:50,083 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '17209', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:12:50,120 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 19:12:50,123 - middleware - INFO -    Status: 422
2025-07-06 19:12:50,123 - middleware - INFO -    Processing time: 0.037s
2025-07-06 19:25:07,462 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-06 19:25:07,469 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-06 19:25:07,471 - config - INFO - Backend starting up...
2025-07-06 19:25:07,473 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 19:25:07,473 - config - INFO - .env file exists: True
2025-07-06 19:25:07,474 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 19:25:07,474 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 19:25:07,475 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 19:25:07,475 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 19:25:07,476 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 19:25:08,325 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-06 19:25:08,326 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-06 19:25:09,380 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-06 19:25:10,577 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-06 19:25:51,152 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 19:25:51,155 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:25:51,156 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:25:51,157 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 19:25:51,158 - middleware - INFO -    Status: 200
2025-07-06 19:25:51,158 - middleware - INFO -    Processing time: 0.005s
2025-07-06 19:25:51,165 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 19:25:51,165 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:25:51,165 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '50', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:25:51,169 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 19:25:51,171 - routes - INFO -    Websites: ['instagram.com']
2025-07-06 19:25:51,171 - routes - INFO -    User ID: user-123
2025-07-06 19:25:51,172 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 19:25:51,174 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 19:25:51,175 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 19:25:52,934 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 19:25:58,130 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LbPQocL7Mw4JwXVQs "HTTP/1.1 200 OK"
2025-07-06 19:26:03,593 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LbPQocL7Mw4JwXVQs "HTTP/1.1 200 OK"
2025-07-06 19:26:09,520 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LbPQocL7Mw4JwXVQs "HTTP/1.1 200 OK"
2025-07-06 19:26:15,497 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LbPQocL7Mw4JwXVQs "HTTP/1.1 200 OK"
2025-07-06 19:26:21,828 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LbPQocL7Mw4JwXVQs "HTTP/1.1 200 OK"
2025-07-06 19:26:28,564 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LbPQocL7Mw4JwXVQs "HTTP/1.1 200 OK"
2025-07-06 19:26:33,876 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/LbPQocL7Mw4JwXVQs "HTTP/1.1 200 OK"
2025-07-06 19:26:34,090 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/xXC57AcpKe5hpNb0c/items "HTTP/1.1 200 OK"
2025-07-06 19:26:34,096 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-06 19:26:35,030 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933 "HTTP/1.1 200 OK"
2025-07-06 19:26:35,037 - database_service - INFO - User record already exists: 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-06 19:26:35,039 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-06 19:26:35,725 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 19:26:35,727 - database_service - INFO - Analysis session saved successfully: aa878c76-b5c1-4680-aebe-5e5fb68690eb
2025-07-06 19:26:35,727 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 19:26:35,729 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 19:26:35,729 - middleware - INFO -    Status: 200
2025-07-06 19:26:35,730 - middleware - INFO -    Processing time: 44.564s
2025-07-06 19:26:49,340 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-06 19:26:49,341 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:26:49,342 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:26:49,343 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-06 19:26:49,343 - middleware - INFO -    Status: 200
2025-07-06 19:26:49,344 - middleware - INFO -    Processing time: 0.003s
2025-07-06 19:26:49,347 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 19:26:49,348 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:26:49,349 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '50', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:26:49,351 - routes - INFO - [TECH] Starting tech stack analysis for 1 websites
2025-07-06 19:26:49,351 - routes - INFO -    Websites: ['instagram.com']
2025-07-06 19:26:49,356 - routes - INFO -    User ID: user-123
2025-07-06 19:26:49,357 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 19:26:49,362 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-06 19:26:50,713 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-06 19:26:50,715 - database_service - INFO - Retrieved 1 analysis sessions for user 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-06 19:26:53,635 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=instagram.com "HTTP/1.1 200 OK"
2025-07-06 19:26:54,286 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.aa878c76-b5c1-4680-aebe-5e5fb68690eb "HTTP/1.1 200 OK"
2025-07-06 19:26:54,292 - database_service - INFO - Analysis session updated successfully: aa878c76-b5c1-4680-aebe-5e5fb68690eb
2025-07-06 19:26:54,296 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 19:26:54,298 - middleware - INFO -    Status: 200
2025-07-06 19:26:54,299 - middleware - INFO -    Processing time: 4.949s
2025-07-06 19:27:12,542 - middleware - INFO - [INCOMING] GET request to /google-trends
2025-07-06 19:27:12,543 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:27:12,543 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:27:12,545 - routes - INFO - [GOOGLE TRENDS] Fetching trends for query: instagram.com
2025-07-06 19:27:12,545 - routes - INFO - [GOOGLE TRENDS] Processing keywords: ['instagram.com'], timeframe: today 12-m, geo: 
2025-07-06 19:27:12,546 - clients.google_trends_client - INFO - Fetching Google Trends data for keywords: ['instagram.com']
2025-07-06 19:27:12,547 - clients.google_trends_client - INFO - Cleaned keywords: ['instagram']
2025-07-06 19:27:17,031 - clients.google_trends_client - WARNING - Failed to get related queries: list index out of range
2025-07-06 19:27:18,717 - clients.google_trends_client - WARNING - Failed to get related topics: list index out of range
2025-07-06 19:27:21,592 - clients.google_trends_client - INFO - Successfully fetched Google Trends data for 1 keywords
2025-07-06 19:27:21,593 - routes - INFO - [SUCCESS] Google Trends data fetched successfully for 1 keywords
2025-07-06 19:27:21,598 - middleware - INFO - [RESPONSE] GET /google-trends
2025-07-06 19:27:21,599 - middleware - INFO -    Status: 200
2025-07-06 19:27:21,599 - middleware - INFO -    Processing time: 9.056s
2025-07-06 19:31:02,625 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 19:31:02,626 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:31:02,627 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '57', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:31:02,628 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 19:31:02,630 - routes - INFO -    Websites: ['google.com']
2025-07-06 19:31:02,630 - routes - INFO -    User ID: user-1751826662306
2025-07-06 19:31:02,630 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 19:31:02,631 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 19:31:02,633 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 19:31:04,511 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 19:31:09,854 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/W0OtiRbr5MrPgWPe8 "HTTP/1.1 200 OK"
2025-07-06 19:31:15,096 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/W0OtiRbr5MrPgWPe8 "HTTP/1.1 200 OK"
2025-07-06 19:31:20,842 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/W0OtiRbr5MrPgWPe8 "HTTP/1.1 200 OK"
2025-07-06 19:31:26,096 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/W0OtiRbr5MrPgWPe8 "HTTP/1.1 200 OK"
2025-07-06 19:31:32,097 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/W0OtiRbr5MrPgWPe8 "HTTP/1.1 200 OK"
2025-07-06 19:31:38,422 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/W0OtiRbr5MrPgWPe8 "HTTP/1.1 200 OK"
2025-07-06 19:31:43,656 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/W0OtiRbr5MrPgWPe8 "HTTP/1.1 200 OK"
2025-07-06 19:31:48,837 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/W0OtiRbr5MrPgWPe8 "HTTP/1.1 200 OK"
2025-07-06 19:31:56,227 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/W0OtiRbr5MrPgWPe8 "HTTP/1.1 200 OK"
2025-07-06 19:32:01,907 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/W0OtiRbr5MrPgWPe8 "HTTP/1.1 200 OK"
2025-07-06 19:32:07,171 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/W0OtiRbr5MrPgWPe8 "HTTP/1.1 200 OK"
2025-07-06 19:32:07,372 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/5aYk269QAnaqhHLa2/items "HTTP/1.1 200 OK"
2025-07-06 19:32:07,391 - database_service - INFO - Generated UUID 4b84c7f7-75fd-5eb8-9bb5-83fdd88d1c73 for user_id: user-1751826662306
2025-07-06 19:32:08,322 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.4b84c7f7-75fd-5eb8-9bb5-83fdd88d1c73 "HTTP/1.1 200 OK"
2025-07-06 19:32:08,325 - database_service - INFO - Creating user record for: 4b84c7f7-75fd-5eb8-9bb5-83fdd88d1c73
2025-07-06 19:32:08,558 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 201 Created"
2025-07-06 19:32:08,560 - database_service - INFO - Created user record: 4b84c7f7-75fd-5eb8-9bb5-83fdd88d1c73
2025-07-06 19:32:08,561 - database_service - INFO - Generated UUID 4b84c7f7-75fd-5eb8-9bb5-83fdd88d1c73 for user_id: user-1751826662306
2025-07-06 19:32:08,854 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 19:32:08,855 - database_service - INFO - Analysis session saved successfully: cde6709c-1fc5-49df-bdd7-a5971f1f4463
2025-07-06 19:32:08,857 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 19:32:08,859 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 19:32:08,860 - middleware - INFO -    Status: 200
2025-07-06 19:32:08,860 - middleware - INFO -    Processing time: 66.234s
2025-07-06 19:32:21,236 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 19:32:21,236 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:32:21,236 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '191', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:32:21,239 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-06 19:32:21,240 - routes - INFO -    Websites: ['google.com', 'facebook.com', 'chatgpt.com', 'bing.com', 'x.com', 'reddit.com', 'instagram.com', 'altavista.com', 'github.com', 'dogpile.com', 'youtube.com']
2025-07-06 19:32:21,240 - routes - INFO -    User ID: user-1751826740920
2025-07-06 19:32:21,240 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 19:32:21,243 - database_service - INFO - Generated UUID e9ab8b5a-68ab-5695-8611-f4db2d09829f for user_id: user-1751826740920
2025-07-06 19:32:22,061 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.e9ab8b5a-68ab-5695-8611-f4db2d09829f&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-06 19:32:22,691 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 19:32:22,693 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:32:22,693 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '191', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:32:22,695 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-06 19:32:22,696 - routes - INFO -    Websites: ['google.com', 'facebook.com', 'chatgpt.com', 'bing.com', 'x.com', 'reddit.com', 'instagram.com', 'altavista.com', 'github.com', 'dogpile.com', 'youtube.com']
2025-07-06 19:32:22,712 - routes - INFO -    User ID: user-1751826742507
2025-07-06 19:32:22,712 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 19:32:22,715 - database_service - INFO - Generated UUID 63fdf63f-872a-5500-9f6a-71676888a2b3 for user_id: user-1751826742507
2025-07-06 19:32:23,279 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.63fdf63f-872a-5500-9f6a-71676888a2b3&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-06 19:32:23,896 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 19:32:23,896 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:32:23,896 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '191', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:32:23,899 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-06 19:32:23,899 - routes - INFO -    Websites: ['google.com', 'facebook.com', 'chatgpt.com', 'bing.com', 'x.com', 'reddit.com', 'instagram.com', 'altavista.com', 'github.com', 'dogpile.com', 'youtube.com']
2025-07-06 19:32:23,900 - routes - INFO -    User ID: user-1751826743141
2025-07-06 19:32:23,900 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 19:32:23,904 - database_service - INFO - Generated UUID 95202858-76c0-5fa8-be42-84553214faf0 for user_id: user-1751826743141
2025-07-06 19:32:24,156 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.95202858-76c0-5fa8-be42-84553214faf0&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-06 19:32:25,444 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=google.com "HTTP/1.1 200 OK"
2025-07-06 19:32:25,450 - database_service - INFO - Generated UUID 63fdf63f-872a-5500-9f6a-71676888a2b3 for user_id: user-1751826742507
2025-07-06 19:32:25,972 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.63fdf63f-872a-5500-9f6a-71676888a2b3 "HTTP/1.1 200 OK"
2025-07-06 19:32:25,973 - database_service - INFO - Creating user record for: 63fdf63f-872a-5500-9f6a-71676888a2b3
2025-07-06 19:32:26,562 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 201 Created"
2025-07-06 19:32:26,567 - database_service - INFO - Created user record: 63fdf63f-872a-5500-9f6a-71676888a2b3
2025-07-06 19:32:26,568 - database_service - INFO - Generated UUID 63fdf63f-872a-5500-9f6a-71676888a2b3 for user_id: user-1751826742507
2025-07-06 19:32:26,868 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 19:32:26,870 - database_service - INFO - Analysis session saved successfully: 442951d2-c8fe-4596-8076-fc19b09ca7a1
2025-07-06 19:32:26,873 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 19:32:26,873 - middleware - INFO -    Status: 200
2025-07-06 19:32:26,874 - middleware - INFO -    Processing time: 4.182s
2025-07-06 19:32:26,879 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=google.com "HTTP/1.1 200 OK"
2025-07-06 19:32:26,882 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=google.com "HTTP/1.1 200 OK"
2025-07-06 19:32:26,896 - database_service - INFO - Generated UUID e9ab8b5a-68ab-5695-8611-f4db2d09829f for user_id: user-1751826740920
2025-07-06 19:32:27,178 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.e9ab8b5a-68ab-5695-8611-f4db2d09829f "HTTP/1.1 200 OK"
2025-07-06 19:32:27,192 - database_service - INFO - Creating user record for: e9ab8b5a-68ab-5695-8611-f4db2d09829f
2025-07-06 19:32:27,426 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 201 Created"
2025-07-06 19:32:27,427 - database_service - INFO - Created user record: e9ab8b5a-68ab-5695-8611-f4db2d09829f
2025-07-06 19:32:27,428 - database_service - INFO - Generated UUID e9ab8b5a-68ab-5695-8611-f4db2d09829f for user_id: user-1751826740920
2025-07-06 19:32:27,727 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 19:32:27,728 - database_service - INFO - Analysis session saved successfully: dc3baf6c-b5ba-41b7-ad1d-da178a24bf8e
2025-07-06 19:32:27,744 - database_service - INFO - Generated UUID 95202858-76c0-5fa8-be42-84553214faf0 for user_id: user-1751826743141
2025-07-06 19:32:27,993 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.95202858-76c0-5fa8-be42-84553214faf0 "HTTP/1.1 200 OK"
2025-07-06 19:32:27,994 - database_service - INFO - Creating user record for: 95202858-76c0-5fa8-be42-84553214faf0
2025-07-06 19:32:28,244 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 201 Created"
2025-07-06 19:32:28,245 - database_service - INFO - Created user record: 95202858-76c0-5fa8-be42-84553214faf0
2025-07-06 19:32:28,247 - database_service - INFO - Generated UUID 95202858-76c0-5fa8-be42-84553214faf0 for user_id: user-1751826743141
2025-07-06 19:32:28,538 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 19:32:28,540 - database_service - INFO - Analysis session saved successfully: c1e11b3e-3402-410f-84a6-c6a5e4db3b25
2025-07-06 19:32:28,542 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 19:32:28,543 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:32:28,544 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '191', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:32:28,553 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 19:32:28,553 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:32:28,553 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '191', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:32:28,554 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-06 19:32:28,554 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:32:28,556 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '191', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:32:28,556 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 19:32:28,557 - middleware - INFO -    Status: 200
2025-07-06 19:32:28,557 - middleware - INFO -    Processing time: 7.321s
2025-07-06 19:32:28,561 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 19:32:28,561 - middleware - INFO -    Status: 200
2025-07-06 19:32:28,561 - middleware - INFO -    Processing time: 4.666s
2025-07-06 19:32:28,566 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-06 19:32:28,566 - routes - INFO -    Websites: ['google.com', 'facebook.com', 'chatgpt.com', 'bing.com', 'x.com', 'reddit.com', 'instagram.com', 'altavista.com', 'github.com', 'dogpile.com', 'youtube.com']
2025-07-06 19:32:28,567 - routes - INFO -    User ID: user-1751826746383
2025-07-06 19:32:28,567 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 19:32:28,571 - database_service - INFO - Generated UUID 0f59760b-9b5e-5502-9cfd-885fc18aa636 for user_id: user-1751826746383
2025-07-06 19:32:28,866 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.0f59760b-9b5e-5502-9cfd-885fc18aa636&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-06 19:32:29,512 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-06 19:32:29,513 - routes - INFO -    Websites: ['google.com', 'facebook.com', 'chatgpt.com', 'bing.com', 'x.com', 'reddit.com', 'instagram.com', 'altavista.com', 'github.com', 'dogpile.com', 'youtube.com']
2025-07-06 19:32:29,513 - routes - INFO -    User ID: user-1751826746563
2025-07-06 19:32:29,514 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 19:32:29,515 - database_service - INFO - Generated UUID 98e0a2ad-3438-5759-99c3-c3b20502c703 for user_id: user-1751826746563
2025-07-06 19:32:29,783 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.98e0a2ad-3438-5759-99c3-c3b20502c703&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-06 19:32:30,398 - routes - INFO - [TECH] Starting tech stack analysis for 11 websites
2025-07-06 19:32:30,399 - routes - INFO -    Websites: ['google.com', 'facebook.com', 'chatgpt.com', 'bing.com', 'x.com', 'reddit.com', 'instagram.com', 'altavista.com', 'github.com', 'dogpile.com', 'youtube.com']
2025-07-06 19:32:30,399 - routes - INFO -    User ID: user-1751826746752
2025-07-06 19:32:30,400 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-06 19:32:30,401 - database_service - INFO - Generated UUID 33799675-90ff-512e-a472-7cc8a40ff5f5 for user_id: user-1751826746752
2025-07-06 19:32:30,809 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.33799675-90ff-512e-a472-7cc8a40ff5f5&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-06 19:32:32,193 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=google.com "HTTP/1.1 200 OK"
2025-07-06 19:32:32,197 - database_service - INFO - Generated UUID 33799675-90ff-512e-a472-7cc8a40ff5f5 for user_id: user-1751826746752
2025-07-06 19:32:32,428 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.33799675-90ff-512e-a472-7cc8a40ff5f5 "HTTP/1.1 200 OK"
2025-07-06 19:32:32,432 - database_service - INFO - Creating user record for: 33799675-90ff-512e-a472-7cc8a40ff5f5
2025-07-06 19:32:32,670 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 201 Created"
2025-07-06 19:32:32,671 - database_service - INFO - Created user record: 33799675-90ff-512e-a472-7cc8a40ff5f5
2025-07-06 19:32:32,672 - database_service - INFO - Generated UUID 33799675-90ff-512e-a472-7cc8a40ff5f5 for user_id: user-1751826746752
2025-07-06 19:32:32,948 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 19:32:32,950 - database_service - INFO - Analysis session saved successfully: ebf64b8e-265b-48c3-b089-d6cd79253962
2025-07-06 19:32:32,953 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 19:32:32,956 - middleware - INFO -    Status: 200
2025-07-06 19:32:32,959 - middleware - INFO -    Processing time: 4.399s
2025-07-06 19:32:32,967 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=google.com "HTTP/1.1 200 OK"
2025-07-06 19:32:32,968 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=google.com "HTTP/1.1 200 OK"
2025-07-06 19:32:32,976 - database_service - INFO - Generated UUID 98e0a2ad-3438-5759-99c3-c3b20502c703 for user_id: user-1751826746563
2025-07-06 19:32:33,258 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.98e0a2ad-3438-5759-99c3-c3b20502c703 "HTTP/1.1 200 OK"
2025-07-06 19:32:33,259 - database_service - INFO - Creating user record for: 98e0a2ad-3438-5759-99c3-c3b20502c703
2025-07-06 19:32:33,610 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 201 Created"
2025-07-06 19:32:33,611 - database_service - INFO - Created user record: 98e0a2ad-3438-5759-99c3-c3b20502c703
2025-07-06 19:32:33,613 - database_service - INFO - Generated UUID 98e0a2ad-3438-5759-99c3-c3b20502c703 for user_id: user-1751826746563
2025-07-06 19:32:34,384 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 19:32:34,385 - database_service - INFO - Analysis session saved successfully: 70b0ff50-4ea5-4e1d-843e-defe9ce61dbe
2025-07-06 19:32:34,394 - database_service - INFO - Generated UUID 0f59760b-9b5e-5502-9cfd-885fc18aa636 for user_id: user-1751826746383
2025-07-06 19:32:34,664 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.0f59760b-9b5e-5502-9cfd-885fc18aa636 "HTTP/1.1 200 OK"
2025-07-06 19:32:34,666 - database_service - INFO - Creating user record for: 0f59760b-9b5e-5502-9cfd-885fc18aa636
2025-07-06 19:32:34,887 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users "HTTP/1.1 201 Created"
2025-07-06 19:32:34,888 - database_service - INFO - Created user record: 0f59760b-9b5e-5502-9cfd-885fc18aa636
2025-07-06 19:32:34,889 - database_service - INFO - Generated UUID 0f59760b-9b5e-5502-9cfd-885fc18aa636 for user_id: user-1751826746383
2025-07-06 19:32:35,177 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 19:32:35,179 - database_service - INFO - Analysis session saved successfully: 92fe8a8b-ddf6-409d-8618-32024d04655f
2025-07-06 19:32:35,182 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 19:32:35,183 - middleware - INFO -    Status: 200
2025-07-06 19:32:35,183 - middleware - INFO -    Processing time: 6.629s
2025-07-06 19:32:35,185 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-06 19:32:35,187 - middleware - INFO -    Status: 200
2025-07-06 19:32:35,188 - middleware - INFO -    Processing time: 6.643s
2025-07-06 19:32:47,520 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 19:32:47,520 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:32:47,521 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '47', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:32:47,523 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 19:32:47,524 - routes - INFO -    Websites: ['google.com']
2025-07-06 19:32:47,525 - routes - INFO -    User ID: user-123
2025-07-06 19:32:47,525 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 19:32:47,526 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 19:32:47,526 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 19:32:49,033 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 19:32:54,710 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:33:00,441 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:33:06,166 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:33:11,352 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:33:17,103 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:33:22,792 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:33:28,582 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:33:33,753 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:33:39,463 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:33:44,655 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:33:49,888 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:33:55,951 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:34:01,128 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:34:06,410 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:34:12,291 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:34:18,020 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:34:23,212 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:34:28,969 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:34:34,249 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:34:39,949 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:34:45,697 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:34:51,423 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:34:56,615 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:35:01,801 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:35:03,591 - middleware - INFO - [INCOMING] GET request to /google-trends
2025-07-06 19:35:03,592 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 19:35:03,593 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8'}
2025-07-06 19:35:03,594 - routes - INFO - [GOOGLE TRENDS] Fetching trends for query: messi
2025-07-06 19:35:03,595 - routes - INFO - [GOOGLE TRENDS] Processing keywords: ['messi'], timeframe: today 12-m, geo: 
2025-07-06 19:35:03,595 - clients.google_trends_client - INFO - Fetching Google Trends data for keywords: ['messi']
2025-07-06 19:35:03,596 - clients.google_trends_client - INFO - Cleaned keywords: ['messi']
2025-07-06 19:35:06,246 - clients.google_trends_client - WARNING - Failed to get related queries: list index out of range
2025-07-06 19:35:07,017 - clients.google_trends_client - WARNING - Failed to get related topics: list index out of range
2025-07-06 19:35:08,799 - clients.google_trends_client - INFO - Successfully fetched Google Trends data for 1 keywords
2025-07-06 19:35:08,799 - routes - INFO - [SUCCESS] Google Trends data fetched successfully for 1 keywords
2025-07-06 19:35:08,805 - middleware - INFO - [RESPONSE] GET /google-trends
2025-07-06 19:35:08,805 - middleware - INFO -    Status: 200
2025-07-06 19:35:08,805 - middleware - INFO -    Processing time: 5.213s
2025-07-06 19:35:09,487 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:35:15,106 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/bpTOfLRWIzYoQDtAB "HTTP/1.1 200 OK"
2025-07-06 19:35:15,280 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/ojrSHgSCyGrY15CRE/items "HTTP/1.1 200 OK"
2025-07-06 19:35:15,283 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-06 19:35:15,934 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933 "HTTP/1.1 200 OK"
2025-07-06 19:35:15,939 - database_service - INFO - User record already exists: 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-06 19:35:15,941 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-06 19:35:16,444 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 19:35:16,445 - database_service - INFO - Analysis session saved successfully: d3d9cce8-5de3-45ee-9345-20ab4bc257f9
2025-07-06 19:35:16,446 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 19:35:16,447 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 19:35:16,448 - middleware - INFO -    Status: 200
2025-07-06 19:35:16,450 - middleware - INFO -    Processing time: 148.926s
2025-07-06 22:32:27,716 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-06 22:32:27,724 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-06 22:32:27,725 - config - INFO - Backend starting up...
2025-07-06 22:32:27,725 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 22:32:27,726 - config - INFO - .env file exists: True
2025-07-06 22:32:27,726 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 22:32:27,726 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 22:32:27,727 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 22:32:27,728 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 22:32:27,728 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 22:32:28,939 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-06 22:32:28,940 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-06 22:32:30,002 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-06 22:32:30,730 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-06 23:07:47,871 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-06 23:07:47,879 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 23:07:47,880 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-06 23:07:47,882 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-06 23:07:47,883 - middleware - INFO -    Status: 200
2025-07-06 23:07:47,883 - middleware - INFO -    Processing time: 0.012s
2025-07-06 23:07:47,889 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-06 23:07:47,889 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 23:07:47,890 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '83', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-06 23:07:47,929 - routes - INFO - [CHAT] Received chat message: hello
2025-07-06 23:07:47,930 - routes - INFO -    Analysis data size: 52 characters
2025-07-06 23:07:47,930 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-06 23:07:49,224 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 402 Payment Required"
2025-07-06 23:07:49,242 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-06 23:07:49,255 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-06 23:07:49,257 - middleware - INFO -    Status: 200
2025-07-06 23:07:49,258 - middleware - INFO -    Processing time: 1.366s
2025-07-06 23:09:59,396 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-06 23:09:59,397 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 23:09:59,397 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-06 23:09:59,398 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-06 23:09:59,399 - middleware - INFO -    Status: 200
2025-07-06 23:09:59,399 - middleware - INFO -    Processing time: 0.001s
2025-07-06 23:09:59,402 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-06 23:09:59,402 - middleware - INFO -    Client: 127.0.0.1
2025-07-06 23:09:59,403 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '56', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-06 23:09:59,413 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-06 23:09:59,416 - routes - INFO -    Websites: ['https://github.com/']
2025-07-06 23:09:59,417 - routes - INFO -    User ID: user-123
2025-07-06 23:09:59,418 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-06 23:09:59,419 - routes - INFO - API Token Status - APIFY: YES
2025-07-06 23:09:59,420 - routes - INFO - [API] Fetching data from Apify API...
2025-07-06 23:10:01,314 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-06 23:10:06,996 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/NZErJ01VYFGbhTZSm "HTTP/1.1 200 OK"
2025-07-06 23:10:12,584 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/NZErJ01VYFGbhTZSm "HTTP/1.1 200 OK"
2025-07-06 23:10:18,176 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/NZErJ01VYFGbhTZSm "HTTP/1.1 200 OK"
2025-07-06 23:10:23,766 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/NZErJ01VYFGbhTZSm "HTTP/1.1 200 OK"
2025-07-06 23:10:29,356 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/NZErJ01VYFGbhTZSm "HTTP/1.1 200 OK"
2025-07-06 23:10:34,957 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/NZErJ01VYFGbhTZSm "HTTP/1.1 200 OK"
2025-07-06 23:10:35,131 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/rf035UAmReTG671mI/items "HTTP/1.1 200 OK"
2025-07-06 23:10:35,150 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-06 23:10:35,970 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933 "HTTP/1.1 200 OK"
2025-07-06 23:10:35,982 - database_service - INFO - User record already exists: 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-06 23:10:35,983 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-06 23:10:36,465 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-06 23:10:36,466 - database_service - INFO - Analysis session saved successfully: bf2f9398-8846-4da2-9c73-0d2a8f807eb9
2025-07-06 23:10:36,467 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-06 23:10:36,473 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-06 23:10:36,474 - middleware - INFO -    Status: 200
2025-07-06 23:10:36,474 - middleware - INFO -    Processing time: 37.071s
2025-07-06 23:28:41,833 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-06 23:28:41,838 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-06 23:28:41,838 - config - INFO - Backend starting up...
2025-07-06 23:28:41,838 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-06 23:28:41,839 - config - INFO - .env file exists: True
2025-07-06 23:28:41,839 - config - INFO - SUPABASE_URL configured: Yes
2025-07-06 23:28:41,839 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-06 23:28:41,839 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-06 23:28:41,839 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-06 23:28:41,839 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-06 23:28:42,684 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-06 23:28:42,685 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-06 23:28:43,543 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-06 23:28:44,388 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-07 00:07:15,532 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-07 00:07:15,536 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:07:15,538 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:07:15,542 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-07 00:07:15,542 - middleware - INFO -    Status: 200
2025-07-07 00:07:15,542 - middleware - INFO -    Processing time: 0.011s
2025-07-07 00:07:15,551 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-07 00:07:15,552 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:07:15,553 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '58', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:07:15,589 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-07 00:07:15,589 - routes - INFO -    Websites: ['https://mistral.ai/fr']
2025-07-07 00:07:15,590 - routes - INFO -    User ID: user-123
2025-07-07 00:07:15,590 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-07 00:07:15,592 - routes - INFO - API Token Status - APIFY: YES
2025-07-07 00:07:15,593 - routes - INFO - [API] Fetching data from Apify API...
2025-07-07 00:07:17,224 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-07 00:07:22,450 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/wYmH6U1viRybOsrIL "HTTP/1.1 200 OK"
2025-07-07 00:07:28,620 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/wYmH6U1viRybOsrIL "HTTP/1.1 200 OK"
2025-07-07 00:07:33,848 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/wYmH6U1viRybOsrIL "HTTP/1.1 200 OK"
2025-07-07 00:07:39,648 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/wYmH6U1viRybOsrIL "HTTP/1.1 200 OK"
2025-07-07 00:07:45,653 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/wYmH6U1viRybOsrIL "HTTP/1.1 200 OK"
2025-07-07 00:07:51,422 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/wYmH6U1viRybOsrIL "HTTP/1.1 200 OK"
2025-07-07 00:07:51,607 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/2qwJCGSNS7Lg4Qdb3/items "HTTP/1.1 200 OK"
2025-07-07 00:07:51,662 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:07:52,624 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933 "HTTP/1.1 200 OK"
2025-07-07 00:07:52,687 - database_service - INFO - User record already exists: 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-07 00:07:52,690 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:07:53,248 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-07 00:07:53,257 - database_service - INFO - Analysis session saved successfully: abc46c88-854a-41b3-9151-855336d97a3c
2025-07-07 00:07:53,258 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-07 00:07:53,279 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-07 00:07:53,282 - middleware - INFO -    Status: 200
2025-07-07 00:07:53,283 - middleware - INFO -    Processing time: 37.728s
2025-07-07 00:08:12,629 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-07 00:08:12,630 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:08:12,631 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:08:12,632 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-07 00:08:12,632 - middleware - INFO -    Status: 200
2025-07-07 00:08:12,633 - middleware - INFO -    Processing time: 0.002s
2025-07-07 00:08:12,638 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-07 00:08:12,639 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:08:12,639 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '58', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:08:12,643 - routes - INFO - [TECH] Starting tech stack analysis for 1 websites
2025-07-07 00:08:12,643 - routes - INFO -    Websites: ['https://mistral.ai/fr']
2025-07-07 00:08:12,644 - routes - INFO -    User ID: user-123
2025-07-07 00:08:12,645 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-07 00:08:12,646 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:08:13,337 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-07 00:08:13,340 - database_service - INFO - Retrieved 1 analysis sessions for user 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-07 00:08:14,506 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://mistral.ai/fr "HTTP/1.1 200 OK"
2025-07-07 00:08:15,092 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.abc46c88-854a-41b3-9151-855336d97a3c "HTTP/1.1 200 OK"
2025-07-07 00:08:15,094 - database_service - INFO - Analysis session updated successfully: abc46c88-854a-41b3-9151-855336d97a3c
2025-07-07 00:08:15,096 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-07 00:08:15,097 - middleware - INFO -    Status: 200
2025-07-07 00:08:15,097 - middleware - INFO -    Processing time: 2.458s
2025-07-07 00:20:15,099 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-07 00:20:15,100 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:20:15,101 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:20:15,102 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-07 00:20:15,103 - middleware - INFO -    Status: 200
2025-07-07 00:20:15,103 - middleware - INFO -    Processing time: 0.004s
2025-07-07 00:20:15,106 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-07 00:20:15,107 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:20:15,107 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '58', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:20:15,109 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-07 00:20:15,109 - routes - INFO -    Websites: ['https://mistral.ai/fr']
2025-07-07 00:20:15,110 - routes - INFO -    User ID: user-123
2025-07-07 00:20:15,110 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-07 00:20:15,112 - routes - INFO - API Token Status - APIFY: YES
2025-07-07 00:20:15,112 - routes - INFO - [API] Fetching data from Apify API...
2025-07-07 00:20:16,183 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-07 00:20:21,328 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HOBTEbdryE5L4Md2r "HTTP/1.1 200 OK"
2025-07-07 00:20:26,917 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HOBTEbdryE5L4Md2r "HTTP/1.1 200 OK"
2025-07-07 00:20:32,500 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HOBTEbdryE5L4Md2r "HTTP/1.1 200 OK"
2025-07-07 00:20:38,082 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HOBTEbdryE5L4Md2r "HTTP/1.1 200 OK"
2025-07-07 00:20:43,669 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HOBTEbdryE5L4Md2r "HTTP/1.1 200 OK"
2025-07-07 00:20:49,252 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HOBTEbdryE5L4Md2r "HTTP/1.1 200 OK"
2025-07-07 00:20:54,411 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HOBTEbdryE5L4Md2r "HTTP/1.1 200 OK"
2025-07-07 00:21:00,012 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HOBTEbdryE5L4Md2r "HTTP/1.1 200 OK"
2025-07-07 00:21:05,159 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HOBTEbdryE5L4Md2r "HTTP/1.1 200 OK"
2025-07-07 00:21:10,771 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HOBTEbdryE5L4Md2r "HTTP/1.1 200 OK"
2025-07-07 00:21:16,536 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HOBTEbdryE5L4Md2r "HTTP/1.1 200 OK"
2025-07-07 00:21:21,818 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HOBTEbdryE5L4Md2r "HTTP/1.1 200 OK"
2025-07-07 00:21:28,486 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HOBTEbdryE5L4Md2r "HTTP/1.1 200 OK"
2025-07-07 00:21:33,653 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HOBTEbdryE5L4Md2r "HTTP/1.1 200 OK"
2025-07-07 00:21:38,802 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HOBTEbdryE5L4Md2r "HTTP/1.1 200 OK"
2025-07-07 00:21:43,953 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HOBTEbdryE5L4Md2r "HTTP/1.1 200 OK"
2025-07-07 00:21:49,571 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/HOBTEbdryE5L4Md2r "HTTP/1.1 200 OK"
2025-07-07 00:21:50,142 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/X2SXvd6kNUEdtFaNQ/items "HTTP/1.1 200 OK"
2025-07-07 00:21:50,153 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:21:52,291 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933 "HTTP/1.1 200 OK"
2025-07-07 00:21:52,300 - database_service - INFO - User record already exists: 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-07 00:21:52,300 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:21:52,880 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-07 00:21:52,882 - database_service - INFO - Analysis session saved successfully: ca54f4f3-e803-4841-8a66-c264aff187ac
2025-07-07 00:21:52,883 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-07 00:21:52,884 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-07 00:21:52,885 - middleware - INFO -    Status: 200
2025-07-07 00:21:52,886 - middleware - INFO -    Processing time: 97.778s
2025-07-07 00:22:05,245 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-07 00:22:05,245 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:22:05,246 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '58', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:22:05,247 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-07 00:22:05,247 - routes - INFO -    Websites: ['https://mistral.ai/fr']
2025-07-07 00:22:05,247 - routes - INFO -    User ID: user-123
2025-07-07 00:22:05,247 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-07 00:22:05,248 - routes - INFO - API Token Status - APIFY: YES
2025-07-07 00:22:05,248 - routes - INFO - [API] Fetching data from Apify API...
2025-07-07 00:22:08,136 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-07 00:22:14,754 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/cOrwj6o3qqvIzcHME "HTTP/1.1 200 OK"
2025-07-07 00:22:35,157 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/cOrwj6o3qqvIzcHME "HTTP/1.1 200 OK"
2025-07-07 00:22:35,578 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/0tIsFuh6pfj0OPxTd/items "HTTP/1.1 200 OK"
2025-07-07 00:22:35,610 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:22:37,848 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933 "HTTP/1.1 200 OK"
2025-07-07 00:22:37,856 - database_service - INFO - User record already exists: 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-07 00:22:37,858 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:22:38,522 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-07 00:22:38,530 - database_service - INFO - Analysis session saved successfully: d032ecbb-2789-4c11-b72e-659f510d2604
2025-07-07 00:22:38,531 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-07 00:22:38,531 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-07 00:22:38,533 - middleware - INFO -    Status: 200
2025-07-07 00:22:38,533 - middleware - INFO -    Processing time: 33.287s
2025-07-07 00:24:52,839 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-07 00:24:52,846 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-07 00:24:52,847 - config - INFO - Backend starting up...
2025-07-07 00:24:52,847 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-07 00:24:52,848 - config - INFO - .env file exists: True
2025-07-07 00:24:52,849 - config - INFO - SUPABASE_URL configured: Yes
2025-07-07 00:24:52,849 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-07 00:24:52,849 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-07 00:24:52,850 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-07 00:24:52,850 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-07 00:24:53,607 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-07 00:24:53,608 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-07 00:24:54,291 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-07 00:24:55,044 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-07 00:26:34,818 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-07 00:26:34,819 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:26:34,819 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '58', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:26:34,820 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-07 00:26:34,821 - routes - INFO -    Websites: ['https://mistral.ai/fr']
2025-07-07 00:26:34,821 - routes - INFO -    User ID: user-123
2025-07-07 00:26:34,821 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-07 00:26:34,822 - routes - INFO - API Token Status - APIFY: YES
2025-07-07 00:26:34,822 - routes - INFO - [API] Fetching data from Apify API...
2025-07-07 00:26:35,913 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-07 00:26:41,484 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0a8x3r505m42OY4Q0 "HTTP/1.1 200 OK"
2025-07-07 00:26:47,064 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0a8x3r505m42OY4Q0 "HTTP/1.1 200 OK"
2025-07-07 00:26:52,246 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0a8x3r505m42OY4Q0 "HTTP/1.1 200 OK"
2025-07-07 00:26:57,416 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0a8x3r505m42OY4Q0 "HTTP/1.1 200 OK"
2025-07-07 00:27:02,690 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0a8x3r505m42OY4Q0 "HTTP/1.1 200 OK"
2025-07-07 00:27:08,280 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0a8x3r505m42OY4Q0 "HTTP/1.1 200 OK"
2025-07-07 00:27:13,561 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/0a8x3r505m42OY4Q0 "HTTP/1.1 200 OK"
2025-07-07 00:27:14,302 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/LuI2y5FQtKWKt03lD/items "HTTP/1.1 200 OK"
2025-07-07 00:27:14,314 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:27:16,175 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933 "HTTP/1.1 200 OK"
2025-07-07 00:27:16,177 - database_service - INFO - User record already exists: 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-07 00:27:16,178 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:27:16,774 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-07 00:27:16,775 - database_service - INFO - Analysis session saved successfully: 91d4fec5-d495-43e3-8ad5-3c26ca9ca8b3
2025-07-07 00:27:16,776 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-07 00:27:16,777 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-07 00:27:16,778 - middleware - INFO -    Status: 200
2025-07-07 00:27:16,778 - middleware - INFO -    Processing time: 41.960s
2025-07-07 00:28:42,596 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-07 00:28:42,597 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:28:42,598 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:28:42,599 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-07 00:28:42,599 - middleware - INFO -    Status: 200
2025-07-07 00:28:42,600 - middleware - INFO -    Processing time: 0.003s
2025-07-07 00:28:42,616 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-07 00:28:42,616 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:28:42,617 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '58', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:28:42,620 - routes - INFO - [TECH] Starting tech stack analysis for 1 websites
2025-07-07 00:28:42,621 - routes - INFO -    Websites: ['https://mistral.ai/fr']
2025-07-07 00:28:42,621 - routes - INFO -    User ID: user-123
2025-07-07 00:28:42,622 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-07 00:28:42,624 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:28:43,295 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-07 00:28:43,297 - database_service - INFO - Retrieved 1 analysis sessions for user 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-07 00:28:44,282 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://mistral.ai/fr "HTTP/1.1 200 OK"
2025-07-07 00:28:44,583 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.91d4fec5-d495-43e3-8ad5-3c26ca9ca8b3 "HTTP/1.1 200 OK"
2025-07-07 00:28:44,585 - database_service - INFO - Analysis session updated successfully: 91d4fec5-d495-43e3-8ad5-3c26ca9ca8b3
2025-07-07 00:28:44,586 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-07 00:28:44,586 - middleware - INFO -    Status: 200
2025-07-07 00:28:44,587 - middleware - INFO -    Processing time: 1.970s
2025-07-07 00:29:02,639 - middleware - INFO - [INCOMING] OPTIONS request to /api/google-trends
2025-07-07 00:29:02,639 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:29:02,640 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:29:02,640 - middleware - INFO - [RESPONSE] OPTIONS /api/google-trends
2025-07-07 00:29:02,640 - middleware - INFO -    Status: 200
2025-07-07 00:29:02,641 - middleware - INFO -    Processing time: 0.001s
2025-07-07 00:29:02,645 - middleware - INFO - [INCOMING] POST request to /api/google-trends
2025-07-07 00:29:02,646 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:29:02,646 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '77', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:29:02,647 - middleware - INFO - [RESPONSE] POST /api/google-trends
2025-07-07 00:29:02,648 - middleware - INFO -    Status: 404
2025-07-07 00:29:02,648 - middleware - INFO -    Processing time: 0.002s
2025-07-07 00:34:02,126 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-07 00:34:02,135 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-07 00:34:02,136 - config - INFO - Backend starting up...
2025-07-07 00:34:02,137 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-07 00:34:02,137 - config - INFO - .env file exists: True
2025-07-07 00:34:02,137 - config - INFO - SUPABASE_URL configured: Yes
2025-07-07 00:34:02,137 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-07 00:34:02,138 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-07 00:34:02,138 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-07 00:34:02,138 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-07 00:34:02,623 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-07 00:34:02,624 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-07 00:34:03,147 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-07 00:34:04,050 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-07 00:34:17,849 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-07 00:34:17,850 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:34:17,850 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:34:17,851 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-07 00:34:17,852 - middleware - INFO -    Status: 200
2025-07-07 00:34:17,852 - middleware - INFO -    Processing time: 0.002s
2025-07-07 00:34:17,856 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-07 00:34:17,856 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:34:17,857 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '58', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:34:17,858 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-07 00:34:17,859 - routes - INFO -    Websites: ['https://mistral.ai/fr']
2025-07-07 00:34:17,859 - routes - INFO -    User ID: user-123
2025-07-07 00:34:17,860 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-07 00:34:17,861 - routes - INFO - API Token Status - APIFY: YES
2025-07-07 00:34:17,861 - routes - INFO - [API] Fetching data from Apify API...
2025-07-07 00:34:18,929 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-07 00:34:24,068 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/RZAvPH7T1s3gSZuXz "HTTP/1.1 200 OK"
2025-07-07 00:34:29,640 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/RZAvPH7T1s3gSZuXz "HTTP/1.1 200 OK"
2025-07-07 00:34:35,207 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/RZAvPH7T1s3gSZuXz "HTTP/1.1 200 OK"
2025-07-07 00:34:40,362 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/RZAvPH7T1s3gSZuXz "HTTP/1.1 200 OK"
2025-07-07 00:34:45,561 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/RZAvPH7T1s3gSZuXz "HTTP/1.1 200 OK"
2025-07-07 00:34:51,148 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/RZAvPH7T1s3gSZuXz "HTTP/1.1 200 OK"
2025-07-07 00:34:51,313 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/30HweYoEJ2yQnZo18/items "HTTP/1.1 200 OK"
2025-07-07 00:34:51,406 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:34:52,052 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933 "HTTP/1.1 200 OK"
2025-07-07 00:34:52,057 - database_service - INFO - User record already exists: 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-07 00:34:52,058 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:34:52,633 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-07 00:34:52,634 - database_service - INFO - Analysis session saved successfully: b06cc803-d3de-4da5-ab3f-e7afff2439cb
2025-07-07 00:34:52,634 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-07 00:34:52,635 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-07 00:34:52,635 - middleware - INFO -    Status: 200
2025-07-07 00:34:52,636 - middleware - INFO -    Processing time: 34.780s
2025-07-07 00:34:55,664 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-07 00:34:55,665 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:34:55,665 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '58', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:34:55,667 - routes - INFO - [TECH] Starting tech stack analysis for 1 websites
2025-07-07 00:34:55,667 - routes - INFO -    Websites: ['https://mistral.ai/fr']
2025-07-07 00:34:55,669 - routes - INFO -    User ID: user-123
2025-07-07 00:34:55,669 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-07 00:34:55,670 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:34:55,890 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-07 00:34:55,892 - database_service - INFO - Retrieved 1 analysis sessions for user 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-07 00:34:56,887 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://mistral.ai/fr "HTTP/1.1 200 OK"
2025-07-07 00:34:57,144 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.b06cc803-d3de-4da5-ab3f-e7afff2439cb "HTTP/1.1 200 OK"
2025-07-07 00:34:57,146 - database_service - INFO - Analysis session updated successfully: b06cc803-d3de-4da5-ab3f-e7afff2439cb
2025-07-07 00:34:57,147 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-07 00:34:57,147 - middleware - INFO -    Status: 200
2025-07-07 00:34:57,148 - middleware - INFO -    Processing time: 1.482s
2025-07-07 00:35:03,593 - middleware - INFO - [INCOMING] POST request to /api/google-trends
2025-07-07 00:35:03,594 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:35:03,594 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '67', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:35:03,596 - routes - INFO - [GOOGLE TRENDS] Starting Google Trends analysis for 1 keywords
2025-07-07 00:35:03,596 - routes - INFO -    Keywords: ['https://mistral.ai/fr']
2025-07-07 00:35:03,597 - routes - INFO -    Timeframe: 12m
2025-07-07 00:35:03,597 - routes - INFO -    Geography: worldwide
2025-07-07 00:35:03,598 - routes - INFO - [GOOGLE TRENDS] Converted timeframe: today 12-m, geo: 
2025-07-07 00:35:03,598 - clients.google_trends_client - INFO - Fetching Google Trends data for keywords: ['https://mistral.ai/fr']
2025-07-07 00:35:03,599 - clients.google_trends_client - INFO - Cleaned keywords: ['https://mistral.ai/fr']
2025-07-07 00:35:05,856 - clients.google_trends_client - WARNING - Failed to get related queries: list index out of range
2025-07-07 00:35:06,466 - clients.google_trends_client - WARNING - Failed to get related topics: list index out of range
2025-07-07 00:35:07,433 - clients.google_trends_client - INFO - Successfully fetched Google Trends data for 1 keywords
2025-07-07 00:35:07,434 - routes - INFO - [SUCCESS] Google Trends analysis completed successfully
2025-07-07 00:35:07,435 - middleware - INFO - [RESPONSE] POST /api/google-trends
2025-07-07 00:35:07,435 - middleware - INFO -    Status: 200
2025-07-07 00:35:07,436 - middleware - INFO -    Processing time: 3.842s
2025-07-07 00:35:19,178 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-07 00:35:19,178 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:35:19,178 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:35:19,179 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-07 00:35:19,179 - middleware - INFO -    Status: 200
2025-07-07 00:35:19,179 - middleware - INFO -    Processing time: 0.001s
2025-07-07 00:35:19,182 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-07 00:35:19,182 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:35:19,183 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '37978', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:35:19,185 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-07 00:35:19,186 - middleware - INFO -    Status: 422
2025-07-07 00:35:19,186 - middleware - INFO -    Processing time: 0.003s
2025-07-07 00:36:45,927 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-07 00:36:45,931 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-07 00:36:45,932 - config - INFO - Backend starting up...
2025-07-07 00:36:45,932 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-07 00:36:45,932 - config - INFO - .env file exists: True
2025-07-07 00:36:45,932 - config - INFO - SUPABASE_URL configured: Yes
2025-07-07 00:36:45,933 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-07 00:36:45,933 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-07 00:36:45,933 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-07 00:36:45,933 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-07 00:36:46,248 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-07 00:36:46,249 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-07 00:36:46,726 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-07 00:36:47,312 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-07 00:36:50,312 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-07 00:36:50,313 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:36:50,313 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '37978', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:36:50,315 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-07 00:36:50,315 - middleware - INFO -    Status: 422
2025-07-07 00:36:50,316 - middleware - INFO -    Processing time: 0.003s
2025-07-07 00:37:01,139 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-07 00:37:01,139 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:37:01,139 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '47', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:37:01,141 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-07 00:37:01,141 - routes - INFO -    Websites: ['google.com']
2025-07-07 00:37:01,142 - routes - INFO -    User ID: user-123
2025-07-07 00:37:01,143 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-07 00:37:01,144 - routes - INFO - API Token Status - APIFY: YES
2025-07-07 00:37:01,145 - routes - INFO - [API] Fetching data from Apify API...
2025-07-07 00:37:02,188 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-07 00:37:07,771 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/E9x9qQSbcTJnmgrvB "HTTP/1.1 200 OK"
2025-07-07 00:37:12,939 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/E9x9qQSbcTJnmgrvB "HTTP/1.1 200 OK"
2025-07-07 00:37:18,157 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/E9x9qQSbcTJnmgrvB "HTTP/1.1 200 OK"
2025-07-07 00:37:23,594 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/E9x9qQSbcTJnmgrvB "HTTP/1.1 200 OK"
2025-07-07 00:37:29,273 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/E9x9qQSbcTJnmgrvB "HTTP/1.1 200 OK"
2025-07-07 00:37:29,450 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/1HMenkuum4TfAMRfJ/items "HTTP/1.1 200 OK"
2025-07-07 00:37:29,455 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:37:30,140 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933 "HTTP/1.1 200 OK"
2025-07-07 00:37:30,147 - database_service - INFO - User record already exists: 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-07 00:37:30,147 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:37:30,404 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-07 00:37:30,406 - database_service - INFO - Analysis session saved successfully: c2d5d08c-e0bc-4a3b-b8f0-488f055f75f4
2025-07-07 00:37:30,406 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-07 00:37:30,407 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-07 00:37:30,407 - middleware - INFO -    Status: 200
2025-07-07 00:37:30,409 - middleware - INFO -    Processing time: 29.269s
2025-07-07 00:37:32,055 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-07 00:37:32,057 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:37:32,057 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '47', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:37:32,060 - routes - INFO - [TECH] Starting tech stack analysis for 1 websites
2025-07-07 00:37:32,060 - routes - INFO -    Websites: ['google.com']
2025-07-07 00:37:32,060 - routes - INFO -    User ID: user-123
2025-07-07 00:37:32,066 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-07 00:37:32,067 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:37:32,295 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-07 00:37:32,296 - database_service - INFO - Retrieved 1 analysis sessions for user 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-07 00:37:33,416 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=google.com "HTTP/1.1 200 OK"
2025-07-07 00:37:33,690 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.c2d5d08c-e0bc-4a3b-b8f0-488f055f75f4 "HTTP/1.1 200 OK"
2025-07-07 00:37:33,693 - database_service - INFO - Analysis session updated successfully: c2d5d08c-e0bc-4a3b-b8f0-488f055f75f4
2025-07-07 00:37:33,696 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-07 00:37:33,696 - middleware - INFO -    Status: 200
2025-07-07 00:37:33,697 - middleware - INFO -    Processing time: 1.642s
2025-07-07 00:37:40,070 - middleware - INFO - [INCOMING] POST request to /api/google-trends
2025-07-07 00:37:40,071 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:37:40,072 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '56', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:37:40,074 - routes - INFO - [GOOGLE TRENDS] Starting Google Trends analysis for 1 keywords
2025-07-07 00:37:40,074 - routes - INFO -    Keywords: ['google.com']
2025-07-07 00:37:40,074 - routes - INFO -    Timeframe: 12m
2025-07-07 00:37:40,074 - routes - INFO -    Geography: worldwide
2025-07-07 00:37:40,076 - routes - INFO - [GOOGLE TRENDS] Converted timeframe: today 12-m, geo: 
2025-07-07 00:37:40,076 - clients.google_trends_client - INFO - Fetching Google Trends data for keywords: ['google.com']
2025-07-07 00:37:40,077 - clients.google_trends_client - INFO - Cleaned keywords: ['google']
2025-07-07 00:37:42,721 - clients.google_trends_client - WARNING - Failed to get related queries: list index out of range
2025-07-07 00:37:43,642 - clients.google_trends_client - WARNING - Failed to get related topics: list index out of range
2025-07-07 00:37:45,000 - clients.google_trends_client - INFO - Successfully fetched Google Trends data for 1 keywords
2025-07-07 00:37:45,001 - routes - INFO - [SUCCESS] Google Trends analysis completed successfully
2025-07-07 00:37:45,004 - middleware - INFO - [RESPONSE] POST /api/google-trends
2025-07-07 00:37:45,005 - middleware - INFO -    Status: 200
2025-07-07 00:37:45,005 - middleware - INFO -    Processing time: 4.934s
2025-07-07 00:37:54,797 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-07 00:37:54,798 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:37:54,798 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '36496', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:37:54,800 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-07 00:37:54,800 - middleware - INFO -    Status: 422
2025-07-07 00:37:54,801 - middleware - INFO -    Processing time: 0.003s
2025-07-07 00:42:09,640 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-07 00:42:09,657 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-07 00:42:09,658 - config - INFO - Backend starting up...
2025-07-07 00:42:09,658 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-07 00:42:09,659 - config - INFO - .env file exists: True
2025-07-07 00:42:09,659 - config - INFO - SUPABASE_URL configured: Yes
2025-07-07 00:42:09,659 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-07 00:42:09,659 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-07 00:42:09,659 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-07 00:42:09,660 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-07 00:42:10,202 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-07 00:42:10,204 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-07 00:42:10,834 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-07 00:42:11,657 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-07 00:42:45,043 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-07 00:42:45,045 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:42:45,045 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '169', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:42:45,047 - routes - INFO - [CHAT] Received chat message: hello
2025-07-07 00:42:45,048 - routes - INFO -    Analysis data size: 142 characters
2025-07-07 00:42:45,048 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-07 00:42:46,366 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 402 Payment Required"
2025-07-07 00:42:46,369 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-07 00:42:46,371 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-07 00:42:46,372 - middleware - INFO -    Status: 200
2025-07-07 00:42:46,372 - middleware - INFO -    Processing time: 1.329s
2025-07-07 00:42:51,710 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-07 00:42:51,711 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:42:51,711 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '201', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:42:51,713 - routes - INFO - [CHAT] Received chat message: How can I improve my conversion rate?
2025-07-07 00:42:51,713 - routes - INFO -    Analysis data size: 142 characters
2025-07-07 00:42:51,714 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-07 00:42:52,920 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 402 Payment Required"
2025-07-07 00:42:52,923 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-07 00:42:52,923 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-07 00:42:52,924 - middleware - INFO -    Status: 200
2025-07-07 00:42:52,924 - middleware - INFO -    Processing time: 1.213s
2025-07-07 00:43:31,840 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-07 00:43:31,853 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-07 00:43:31,856 - config - INFO - Backend starting up...
2025-07-07 00:43:31,857 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-07 00:43:31,858 - config - INFO - .env file exists: True
2025-07-07 00:43:31,858 - config - INFO - SUPABASE_URL configured: Yes
2025-07-07 00:43:31,858 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-07 00:43:31,858 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-07 00:43:31,869 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-07 00:43:31,873 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-07 00:43:32,303 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-07 00:43:32,303 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-07 00:43:32,907 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-07 00:43:33,625 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-07 00:43:44,771 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-07 00:43:44,773 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:43:44,773 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '183', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:43:44,776 - routes - INFO - [CHAT] Received chat message: what's your context
2025-07-07 00:43:44,776 - routes - INFO -    Analysis data size: 142 characters
2025-07-07 00:43:44,778 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-07 00:43:47,669 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-07 00:43:51,588 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-07 00:43:51,589 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-07 00:43:51,590 - middleware - INFO -    Status: 200
2025-07-07 00:43:51,590 - middleware - INFO -    Processing time: 6.817s
2025-07-07 00:44:06,395 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-07 00:44:06,396 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:44:06,396 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '58', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:44:06,398 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-07 00:44:06,399 - routes - INFO -    Websites: ['https://mistral.ai/fr']
2025-07-07 00:44:06,399 - routes - INFO -    User ID: user-123
2025-07-07 00:44:06,400 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-07 00:44:06,403 - routes - INFO - API Token Status - APIFY: YES
2025-07-07 00:44:06,405 - routes - INFO - [API] Fetching data from Apify API...
2025-07-07 00:44:07,832 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-07 00:44:13,433 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/G0ajM7nJYQMKegcu1 "HTTP/1.1 200 OK"
2025-07-07 00:44:19,034 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/G0ajM7nJYQMKegcu1 "HTTP/1.1 200 OK"
2025-07-07 00:44:24,207 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/G0ajM7nJYQMKegcu1 "HTTP/1.1 200 OK"
2025-07-07 00:44:29,886 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/G0ajM7nJYQMKegcu1 "HTTP/1.1 200 OK"
2025-07-07 00:44:30,048 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/Rr6MK75VQQe6Ia1Ce/items "HTTP/1.1 200 OK"
2025-07-07 00:44:30,055 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:44:30,922 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933 "HTTP/1.1 200 OK"
2025-07-07 00:44:30,935 - database_service - INFO - User record already exists: 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-07 00:44:30,936 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:44:31,179 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-07 00:44:31,182 - database_service - INFO - Analysis session saved successfully: 1b8ea1f3-f34f-4c6e-97a4-ae2e2a804d75
2025-07-07 00:44:31,183 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-07 00:44:31,186 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-07 00:44:31,186 - middleware - INFO -    Status: 200
2025-07-07 00:44:31,188 - middleware - INFO -    Processing time: 24.791s
2025-07-07 00:44:32,918 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-07 00:44:32,924 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:44:32,925 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:44:32,926 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-07 00:44:32,926 - middleware - INFO -    Status: 200
2025-07-07 00:44:32,930 - middleware - INFO -    Processing time: 0.008s
2025-07-07 00:44:33,248 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-07 00:44:33,250 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:44:33,251 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '58', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:44:33,253 - routes - INFO - [TECH] Starting tech stack analysis for 1 websites
2025-07-07 00:44:33,253 - routes - INFO -    Websites: ['https://mistral.ai/fr']
2025-07-07 00:44:33,254 - routes - INFO -    User ID: user-123
2025-07-07 00:44:33,254 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-07 00:44:33,256 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:44:33,981 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-07 00:44:33,983 - database_service - INFO - Retrieved 1 analysis sessions for user 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-07 00:44:35,487 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://mistral.ai/fr "HTTP/1.1 200 OK"
2025-07-07 00:44:36,030 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.1b8ea1f3-f34f-4c6e-97a4-ae2e2a804d75 "HTTP/1.1 200 OK"
2025-07-07 00:44:36,037 - database_service - INFO - Analysis session updated successfully: 1b8ea1f3-f34f-4c6e-97a4-ae2e2a804d75
2025-07-07 00:44:36,042 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-07 00:44:36,043 - middleware - INFO -    Status: 200
2025-07-07 00:44:36,046 - middleware - INFO -    Processing time: 2.794s
2025-07-07 00:44:48,644 - middleware - INFO - [INCOMING] OPTIONS request to /api/google-trends
2025-07-07 00:44:48,652 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:44:48,654 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:44:48,655 - middleware - INFO - [RESPONSE] OPTIONS /api/google-trends
2025-07-07 00:44:48,655 - middleware - INFO -    Status: 200
2025-07-07 00:44:48,657 - middleware - INFO -    Processing time: 0.011s
2025-07-07 00:44:48,971 - middleware - INFO - [INCOMING] POST request to /api/google-trends
2025-07-07 00:44:48,973 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:44:48,973 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '67', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:44:48,975 - routes - INFO - [GOOGLE TRENDS] Starting Google Trends analysis for 1 keywords
2025-07-07 00:44:48,975 - routes - INFO -    Keywords: ['https://mistral.ai/fr']
2025-07-07 00:44:48,976 - routes - INFO -    Timeframe: 12m
2025-07-07 00:44:48,976 - routes - INFO -    Geography: worldwide
2025-07-07 00:44:48,979 - routes - INFO - [GOOGLE TRENDS] Converted timeframe: today 12-m, geo: 
2025-07-07 00:44:48,980 - clients.google_trends_client - INFO - Fetching Google Trends data for keywords: ['https://mistral.ai/fr']
2025-07-07 00:44:48,981 - clients.google_trends_client - INFO - Cleaned keywords: ['https://mistral.ai/fr']
2025-07-07 00:44:51,881 - clients.google_trends_client - WARNING - Failed to get related queries: list index out of range
2025-07-07 00:44:52,837 - clients.google_trends_client - WARNING - Failed to get related topics: list index out of range
2025-07-07 00:44:54,006 - clients.google_trends_client - INFO - Successfully fetched Google Trends data for 1 keywords
2025-07-07 00:44:54,007 - routes - INFO - [SUCCESS] Google Trends analysis completed successfully
2025-07-07 00:44:54,013 - middleware - INFO - [RESPONSE] POST /api/google-trends
2025-07-07 00:44:54,014 - middleware - INFO -    Status: 200
2025-07-07 00:44:54,015 - middleware - INFO -    Processing time: 5.042s
2025-07-07 00:45:10,380 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-07 00:45:10,381 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:45:10,382 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '38002', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:45:10,385 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-07 00:45:10,386 - middleware - INFO -    Status: 422
2025-07-07 00:45:10,386 - middleware - INFO -    Processing time: 0.005s
2025-07-07 00:49:00,286 - middleware - INFO - [INCOMING] OPTIONS request to /api/chat
2025-07-07 00:49:00,286 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:49:00,286 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:49:00,287 - middleware - INFO - [RESPONSE] OPTIONS /api/chat
2025-07-07 00:49:00,287 - middleware - INFO -    Status: 200
2025-07-07 00:49:00,288 - middleware - INFO -    Processing time: 0.002s
2025-07-07 00:49:00,290 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-07 00:49:00,290 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:49:00,291 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '13489', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:49:00,293 - routes - INFO - [CHAT] Received chat message: what's your context and the data passed for u
2025-07-07 00:49:00,293 - routes - INFO -    Analysis data size: 14418 characters
2025-07-07 00:49:00,294 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-07 00:49:02,416 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-07 00:49:05,346 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-07 00:49:05,348 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-07 00:49:05,349 - middleware - INFO -    Status: 200
2025-07-07 00:49:05,349 - middleware - INFO -    Processing time: 5.058s
2025-07-07 00:49:25,418 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze
2025-07-07 00:49:25,420 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:49:25,423 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:49:25,425 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze
2025-07-07 00:49:25,425 - middleware - INFO -    Status: 200
2025-07-07 00:49:25,427 - middleware - INFO -    Processing time: 0.007s
2025-07-07 00:49:25,433 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-07 00:49:25,434 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:49:25,434 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '47', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:49:25,435 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-07 00:49:25,435 - routes - INFO -    Websites: ['google.com']
2025-07-07 00:49:25,436 - routes - INFO -    User ID: user-123
2025-07-07 00:49:25,436 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-07 00:49:25,437 - routes - INFO - API Token Status - APIFY: YES
2025-07-07 00:49:25,437 - routes - INFO - [API] Fetching data from Apify API...
2025-07-07 00:49:26,627 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-07 00:49:31,798 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Hhlcryfit7nktP7Rv "HTTP/1.1 200 OK"
2025-07-07 00:49:37,395 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Hhlcryfit7nktP7Rv "HTTP/1.1 200 OK"
2025-07-07 00:49:42,566 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Hhlcryfit7nktP7Rv "HTTP/1.1 200 OK"
2025-07-07 00:49:48,190 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Hhlcryfit7nktP7Rv "HTTP/1.1 200 OK"
2025-07-07 00:49:56,939 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/Hhlcryfit7nktP7Rv "HTTP/1.1 200 OK"
2025-07-07 00:50:00,050 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/Bs9Vtr9Az1TEqvdPX/items "HTTP/1.1 200 OK"
2025-07-07 00:50:00,363 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:50:03,000 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933 "HTTP/1.1 200 OK"
2025-07-07 00:50:03,011 - database_service - INFO - User record already exists: 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-07 00:50:03,011 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:50:03,264 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-07 00:50:03,265 - database_service - INFO - Analysis session saved successfully: 4a44749b-0358-49de-bc56-28f14a40605f
2025-07-07 00:50:03,265 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-07 00:50:03,268 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-07 00:50:03,268 - middleware - INFO -    Status: 200
2025-07-07 00:50:03,268 - middleware - INFO -    Processing time: 37.835s
2025-07-07 00:50:24,129 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-07 00:50:24,129 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:50:24,130 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '47', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:50:24,131 - routes - INFO - [TECH] Starting tech stack analysis for 1 websites
2025-07-07 00:50:24,132 - routes - INFO -    Websites: ['google.com']
2025-07-07 00:50:24,132 - routes - INFO -    User ID: user-123
2025-07-07 00:50:24,133 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-07 00:50:24,134 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:50:24,944 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-07 00:50:24,946 - database_service - INFO - Retrieved 1 analysis sessions for user 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-07 00:50:26,445 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=google.com "HTTP/1.1 200 OK"
2025-07-07 00:50:26,733 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.4a44749b-0358-49de-bc56-28f14a40605f "HTTP/1.1 200 OK"
2025-07-07 00:50:26,736 - database_service - INFO - Analysis session updated successfully: 4a44749b-0358-49de-bc56-28f14a40605f
2025-07-07 00:50:26,738 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-07 00:50:26,738 - middleware - INFO -    Status: 200
2025-07-07 00:50:26,739 - middleware - INFO -    Processing time: 2.609s
2025-07-07 00:50:29,012 - middleware - INFO - [INCOMING] POST request to /api/google-trends
2025-07-07 00:50:29,016 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:50:29,017 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '56', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:50:29,017 - routes - INFO - [GOOGLE TRENDS] Starting Google Trends analysis for 1 keywords
2025-07-07 00:50:29,019 - routes - INFO -    Keywords: ['google.com']
2025-07-07 00:50:29,019 - routes - INFO -    Timeframe: 12m
2025-07-07 00:50:29,020 - routes - INFO -    Geography: worldwide
2025-07-07 00:50:29,022 - routes - INFO - [GOOGLE TRENDS] Converted timeframe: today 12-m, geo: 
2025-07-07 00:50:29,022 - clients.google_trends_client - INFO - Fetching Google Trends data for keywords: ['google.com']
2025-07-07 00:50:29,022 - clients.google_trends_client - INFO - Cleaned keywords: ['google']
2025-07-07 00:50:31,896 - clients.google_trends_client - WARNING - Failed to get related queries: list index out of range
2025-07-07 00:50:32,759 - clients.google_trends_client - WARNING - Failed to get related topics: list index out of range
2025-07-07 00:50:33,998 - clients.google_trends_client - INFO - Successfully fetched Google Trends data for 1 keywords
2025-07-07 00:50:33,998 - routes - INFO - [SUCCESS] Google Trends analysis completed successfully
2025-07-07 00:50:34,000 - middleware - INFO - [RESPONSE] POST /api/google-trends
2025-07-07 00:50:34,001 - middleware - INFO -    Status: 200
2025-07-07 00:50:34,002 - middleware - INFO -    Processing time: 4.987s
2025-07-07 00:50:40,009 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-07 00:50:40,011 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:50:40,013 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '13596', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:50:40,014 - routes - INFO - [CHAT] Received chat message: What are the main traffic sources for this website?
2025-07-07 00:50:40,016 - routes - INFO -    Analysis data size: 14527 characters
2025-07-07 00:50:40,016 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-07 00:50:42,732 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-07 00:50:46,110 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-07 00:50:46,113 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-07 00:50:46,113 - middleware - INFO -    Status: 200
2025-07-07 00:50:46,114 - middleware - INFO -    Processing time: 6.103s
2025-07-07 00:54:20,714 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-07 00:54:20,721 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-07 00:54:20,722 - config - INFO - Backend starting up...
2025-07-07 00:54:20,722 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-07 00:54:20,722 - config - INFO - .env file exists: True
2025-07-07 00:54:20,723 - config - INFO - SUPABASE_URL configured: Yes
2025-07-07 00:54:20,723 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-07 00:54:20,723 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-07 00:54:20,723 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-07 00:54:20,723 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-07 00:54:21,123 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-07 00:54:21,123 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-07 00:54:21,755 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-07 00:54:22,437 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-07 00:54:34,547 - middleware - INFO - [INCOMING] POST request to /api/analyze
2025-07-07 00:54:34,550 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:54:34,551 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '58', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:54:34,553 - routes - INFO - [ANALYZE] Starting website analysis for 1 websites
2025-07-07 00:54:34,555 - routes - INFO -    Websites: ['https://mistral.ai/fr']
2025-07-07 00:54:34,555 - routes - INFO -    User ID: user-123
2025-07-07 00:54:34,557 - routes - INFO - [START] Starting SimilarWeb Analysis (Step 1)
2025-07-07 00:54:34,565 - routes - INFO - API Token Status - APIFY: YES
2025-07-07 00:54:34,568 - routes - INFO - [API] Fetching data from Apify API...
2025-07-07 00:54:36,016 - httpx - INFO - HTTP Request: POST https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs "HTTP/1.1 201 Created"
2025-07-07 00:54:41,629 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/785GaWrNF5DFecsb6 "HTTP/1.1 200 OK"
2025-07-07 00:54:47,813 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/785GaWrNF5DFecsb6 "HTTP/1.1 200 OK"
2025-07-07 00:54:53,842 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/785GaWrNF5DFecsb6 "HTTP/1.1 200 OK"
2025-07-07 00:54:59,008 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/acts/heLi1j7hzjC2gFlIx/runs/785GaWrNF5DFecsb6 "HTTP/1.1 200 OK"
2025-07-07 00:54:59,444 - httpx - INFO - HTTP Request: GET https://api.apify.com/v2/datasets/AVWrX0ldPvcbYB8p4/items "HTTP/1.1 200 OK"
2025-07-07 00:54:59,449 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:55:00,163 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=id&id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933 "HTTP/1.1 200 OK"
2025-07-07 00:55:00,171 - database_service - INFO - User record already exists: 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-07 00:55:00,172 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:55:00,417 - httpx - INFO - HTTP Request: POST https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions "HTTP/1.1 201 Created"
2025-07-07 00:55:00,422 - database_service - INFO - Analysis session saved successfully: 60cde7c8-c95d-4c97-82ba-36908d25c182
2025-07-07 00:55:00,422 - routes - INFO - [SUCCESS] Step 1 (SimilarWeb) completed successfully
2025-07-07 00:55:00,424 - middleware - INFO - [RESPONSE] POST /api/analyze
2025-07-07 00:55:00,424 - middleware - INFO -    Status: 200
2025-07-07 00:55:00,425 - middleware - INFO -    Processing time: 25.876s
2025-07-07 00:55:02,288 - middleware - INFO - [INCOMING] OPTIONS request to /api/analyze-tech-stack
2025-07-07 00:55:02,292 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:55:02,302 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:55:02,302 - middleware - INFO - [RESPONSE] OPTIONS /api/analyze-tech-stack
2025-07-07 00:55:02,302 - middleware - INFO -    Status: 200
2025-07-07 00:55:02,305 - middleware - INFO -    Processing time: 0.014s
2025-07-07 00:55:02,316 - middleware - INFO - [INCOMING] POST request to /api/analyze-tech-stack
2025-07-07 00:55:02,316 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:55:02,317 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '58', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:55:02,318 - routes - INFO - [TECH] Starting tech stack analysis for 1 websites
2025-07-07 00:55:02,318 - routes - INFO -    Websites: ['https://mistral.ai/fr']
2025-07-07 00:55:02,319 - routes - INFO -    User ID: user-123
2025-07-07 00:55:02,319 - routes - INFO - [TECH] Starting BuiltWith Tech Stack Analysis (Step 2)
2025-07-07 00:55:02,320 - database_service - INFO - Generated UUID 3a1b8473-3492-5076-98f9-b2dfa6d37933 for user_id: user-123
2025-07-07 00:55:02,859 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?select=%2A&user_id=eq.3a1b8473-3492-5076-98f9-b2dfa6d37933&order=created_at.desc&limit=1 "HTTP/1.1 200 OK"
2025-07-07 00:55:02,862 - database_service - INFO - Retrieved 1 analysis sessions for user 3a1b8473-3492-5076-98f9-b2dfa6d37933
2025-07-07 00:55:04,051 - httpx - INFO - HTTP Request: GET https://api.builtwith.com/v20/api.json?KEY=fd8b0b65-fb2d-46ef-b666-4d69096c9bf8&LOOKUP=https://mistral.ai/fr "HTTP/1.1 200 OK"
2025-07-07 00:55:04,304 - httpx - INFO - HTTP Request: PATCH https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/analysis_sessions?id=eq.60cde7c8-c95d-4c97-82ba-36908d25c182 "HTTP/1.1 200 OK"
2025-07-07 00:55:04,306 - database_service - INFO - Analysis session updated successfully: 60cde7c8-c95d-4c97-82ba-36908d25c182
2025-07-07 00:55:04,326 - middleware - INFO - [RESPONSE] POST /api/analyze-tech-stack
2025-07-07 00:55:04,327 - middleware - INFO -    Status: 200
2025-07-07 00:55:04,327 - middleware - INFO -    Processing time: 2.010s
2025-07-07 00:55:13,008 - middleware - INFO - [INCOMING] OPTIONS request to /api/google-trends
2025-07-07 00:55:13,008 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:55:13,008 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'accept': '*/*', 'access-control-request-method': 'POST', 'access-control-request-headers': 'content-type', 'origin': 'http://localhost:3000', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'same-site', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:55:13,010 - middleware - INFO - [RESPONSE] OPTIONS /api/google-trends
2025-07-07 00:55:13,011 - middleware - INFO -    Status: 200
2025-07-07 00:55:13,011 - middleware - INFO -    Processing time: 0.002s
2025-07-07 00:55:13,015 - middleware - INFO - [INCOMING] POST request to /api/google-trends
2025-07-07 00:55:13,015 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:55:13,015 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '67', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:55:13,017 - routes - INFO - [GOOGLE TRENDS] Starting Google Trends analysis for 1 keywords
2025-07-07 00:55:13,017 - routes - INFO -    Keywords: ['https://mistral.ai/fr']
2025-07-07 00:55:13,017 - routes - INFO -    Timeframe: 12m
2025-07-07 00:55:13,019 - routes - INFO -    Geography: worldwide
2025-07-07 00:55:13,020 - routes - INFO - [GOOGLE TRENDS] Converted timeframe: today 12-m, geo: 
2025-07-07 00:55:13,020 - clients.google_trends_client - INFO - Fetching Google Trends data for keywords: ['https://mistral.ai/fr']
2025-07-07 00:55:13,021 - clients.google_trends_client - INFO - Cleaned keywords: ['https://mistral.ai/fr']
2025-07-07 00:55:15,457 - clients.google_trends_client - WARNING - Failed to get related queries: list index out of range
2025-07-07 00:55:16,347 - clients.google_trends_client - WARNING - Failed to get related topics: list index out of range
2025-07-07 00:55:17,251 - clients.google_trends_client - INFO - Successfully fetched Google Trends data for 1 keywords
2025-07-07 00:55:17,252 - routes - INFO - [SUCCESS] Google Trends analysis completed successfully
2025-07-07 00:55:17,254 - middleware - INFO - [RESPONSE] POST /api/google-trends
2025-07-07 00:55:17,255 - middleware - INFO -    Status: 200
2025-07-07 00:55:17,255 - middleware - INFO -    Processing time: 4.240s
2025-07-07 00:55:23,579 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-07 00:55:23,579 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:55:23,580 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6752', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:55:23,584 - routes - INFO - [CHAT] Received chat message: What are the main traffic sources for this website?
2025-07-07 00:55:23,585 - routes - INFO -    Analysis data size: 7169 characters
2025-07-07 00:55:23,585 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-07 00:55:26,278 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-07 00:55:29,506 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-07 00:55:29,508 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-07 00:55:29,509 - middleware - INFO -    Status: 200
2025-07-07 00:55:29,510 - middleware - INFO -    Processing time: 5.930s
2025-07-07 00:55:50,108 - middleware - INFO - [INCOMING] POST request to /api/chat
2025-07-07 00:55:50,108 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 00:55:50,109 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '6732', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 00:55:50,110 - routes - INFO - [CHAT] Received chat message: what is the data provided for u
2025-07-07 00:55:50,110 - routes - INFO -    Analysis data size: 7169 characters
2025-07-07 00:55:50,111 - routes - INFO - API Token Status - OPENROUTER: YES
2025-07-07 00:55:52,492 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-07 00:55:55,421 - routes - INFO - [SUCCESS] Chat response generated successfully
2025-07-07 00:55:55,424 - middleware - INFO - [RESPONSE] POST /api/chat
2025-07-07 00:55:55,425 - middleware - INFO -    Status: 200
2025-07-07 00:55:55,425 - middleware - INFO -    Processing time: 5.316s
2025-07-07 18:39:29,283 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-07 18:39:29,296 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-07 18:39:29,300 - config - INFO - Backend starting up...
2025-07-07 18:39:29,301 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-07 18:39:29,301 - config - INFO - .env file exists: True
2025-07-07 18:39:29,302 - config - INFO - SUPABASE_URL configured: Yes
2025-07-07 18:39:29,302 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-07 18:39:29,302 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-07 18:39:29,303 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-07 18:39:29,303 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-07 18:39:30,162 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-07 18:39:30,163 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-07 18:39:31,089 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-07 18:39:31,772 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-07 18:53:12,117 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-07 18:53:12,129 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-07 18:53:12,130 - config - INFO - Backend starting up...
2025-07-07 18:53:12,130 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-07 18:53:12,131 - config - INFO - .env file exists: True
2025-07-07 18:53:12,131 - config - INFO - SUPABASE_URL configured: Yes
2025-07-07 18:53:12,131 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-07 18:53:12,132 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-07 18:53:12,132 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-07 18:53:12,132 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-07 18:53:12,800 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-07 18:53:12,800 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-07 18:53:13,477 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-07 18:53:14,247 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-07 18:59:39,419 - __main__ - INFO - Backend starting up...
2025-07-07 18:59:39,419 - __main__ - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-07 18:59:39,419 - __main__ - INFO - .env file exists: True
2025-07-07 18:59:39,420 - __main__ - INFO - SUPABASE_URL configured: Yes
2025-07-07 18:59:39,420 - __main__ - INFO - SUPABASE_KEY configured: Yes
2025-07-07 18:59:58,593 - __main__ - INFO - Backend starting up...
2025-07-07 18:59:58,593 - __main__ - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-07 18:59:58,594 - __main__ - INFO - .env file exists: True
2025-07-07 18:59:58,594 - __main__ - INFO - SUPABASE_URL configured: Yes
2025-07-07 18:59:58,594 - __main__ - INFO - SUPABASE_KEY configured: Yes
2025-07-07 19:12:51,804 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-07 19:12:51,819 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-07 19:12:51,821 - config - INFO - Backend starting up...
2025-07-07 19:12:51,821 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-07 19:12:51,822 - config - INFO - .env file exists: True
2025-07-07 19:12:51,823 - config - INFO - SUPABASE_URL configured: Yes
2025-07-07 19:12:51,823 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-07 19:12:51,823 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-07 19:12:51,824 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-07 19:12:51,824 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-07 19:12:52,534 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-07 19:12:52,534 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-07 19:12:53,282 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-07 19:12:53,984 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-07 19:17:38,399 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-07 19:17:38,407 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-07 19:17:38,408 - config - INFO - Backend starting up...
2025-07-07 19:17:38,408 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-07 19:17:38,409 - config - INFO - .env file exists: True
2025-07-07 19:17:38,409 - config - INFO - SUPABASE_URL configured: Yes
2025-07-07 19:17:38,409 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-07 19:17:38,410 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-07 19:17:38,410 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-07 19:17:38,410 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-07 19:17:39,257 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-07 19:17:39,258 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-07 19:17:39,951 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-07 19:17:40,545 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-07 19:17:59,750 - middleware - INFO - [INCOMING] GET request to /api/google-trends
2025-07-07 19:17:59,751 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 19:17:59,751 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 19:17:59,752 - middleware - INFO - [RESPONSE] GET /api/google-trends
2025-07-07 19:17:59,752 - middleware - INFO -    Status: 405
2025-07-07 19:17:59,752 - middleware - INFO -    Processing time: 0.002s
2025-07-07 19:18:26,634 - middleware - INFO - [INCOMING] GET request to /api/google-trends
2025-07-07 19:18:26,635 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 19:18:26,635 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 19:18:26,637 - middleware - INFO - [RESPONSE] GET /api/google-trends
2025-07-07 19:18:26,637 - middleware - INFO -    Status: 405
2025-07-07 19:18:26,638 - middleware - INFO -    Processing time: 0.003s
2025-07-07 19:31:07,833 - middleware - INFO - [INCOMING] GET request to /google-trends
2025-07-07 19:31:07,833 - middleware - INFO -    Client: 127.0.0.1
2025-07-07 19:31:07,834 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-07 19:31:07,837 - routes - INFO - [GOOGLE TRENDS] Fetching trends for query: react,js,java
2025-07-07 19:31:07,837 - routes - INFO - [GOOGLE TRENDS] Processing keywords: ['react', 'js', 'java'], timeframe: today 12-m, geo: 
2025-07-07 19:31:07,838 - clients.google_trends_client - INFO - Fetching Google Trends data for keywords: ['react', 'js', 'java']
2025-07-07 19:31:07,838 - clients.google_trends_client - INFO - Cleaned keywords: ['react', 'js', 'java']
2025-07-07 19:31:10,987 - clients.google_trends_client - WARNING - Failed to get related queries: list index out of range
2025-07-07 19:31:12,806 - clients.google_trends_client - INFO - Successfully fetched Google Trends data for 3 keywords
2025-07-07 19:31:12,807 - routes - INFO - [SUCCESS] Google Trends data fetched successfully for 3 keywords
2025-07-07 19:31:12,817 - middleware - INFO - [RESPONSE] GET /google-trends
2025-07-07 19:31:12,818 - middleware - INFO -    Status: 200
2025-07-07 19:31:12,820 - middleware - INFO -    Processing time: 4.984s
2025-07-07 20:16:04,761 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-07 20:16:04,776 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-07 20:16:04,777 - config - INFO - Backend starting up...
2025-07-07 20:16:04,778 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-07 20:16:04,778 - config - INFO - .env file exists: True
2025-07-07 20:16:04,779 - config - INFO - SUPABASE_URL configured: Yes
2025-07-07 20:16:04,779 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-07 20:16:04,780 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-07 20:16:04,780 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-07 20:16:04,781 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-07 20:16:05,562 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-07 20:16:05,563 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-07 20:16:06,480 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-07 20:16:07,488 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-08 11:36:54,166 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-08 11:36:54,185 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-08 11:36:54,186 - config - INFO - Backend starting up...
2025-07-08 11:36:54,186 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-08 11:36:54,186 - config - INFO - .env file exists: True
2025-07-08 11:36:54,187 - config - INFO - SUPABASE_URL configured: Yes
2025-07-08 11:36:54,195 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-08 11:36:54,196 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-08 11:36:54,196 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-08 11:36:54,197 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-08 11:36:55,442 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-08 11:36:55,442 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-08 11:36:56,557 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-08 11:37:01,791 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-08 12:02:25,032 - middleware - INFO - [INCOMING] GET request to /google-trends
2025-07-08 12:02:25,036 - middleware - INFO -    Client: 127.0.0.1
2025-07-08 12:02:25,037 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-08 12:02:25,044 - routes - INFO - [GOOGLE TRENDS] Fetching trends for query: messi
2025-07-08 12:02:25,045 - routes - INFO - [GOOGLE TRENDS] Processing keywords: ['messi'], timeframe: today 12-m, geo: 
2025-07-08 12:02:25,045 - clients.google_trends_client - INFO - Fetching Google Trends data for keywords: ['messi']
2025-07-08 12:02:25,046 - clients.google_trends_client - INFO - Cleaned keywords: ['messi']
2025-07-08 12:02:28,633 - clients.google_trends_client - WARNING - Failed to get related queries: list index out of range
2025-07-08 12:02:29,638 - clients.google_trends_client - WARNING - Failed to get related topics: list index out of range
2025-07-08 12:02:31,761 - clients.google_trends_client - INFO - Successfully fetched Google Trends data for 1 keywords
2025-07-08 12:02:31,762 - routes - INFO - [SUCCESS] Google Trends data fetched successfully for 1 keywords
2025-07-08 12:02:31,770 - middleware - INFO - [RESPONSE] GET /google-trends
2025-07-08 12:02:31,771 - middleware - INFO -    Status: 200
2025-07-08 12:02:31,771 - middleware - INFO -    Processing time: 6.739s
2025-07-08 13:10:59,696 - middleware - INFO - [INCOMING] GET request to /google-trends
2025-07-08 13:10:59,704 - middleware - INFO -    Client: 127.0.0.1
2025-07-08 13:10:59,707 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-08 13:10:59,720 - routes - INFO - [GOOGLE TRENDS] Fetching trends for query: barcelone
2025-07-08 13:10:59,720 - routes - INFO - [GOOGLE TRENDS] Processing keywords: ['barcelone'], timeframe: today 12-m, geo: 
2025-07-08 13:10:59,722 - clients.google_trends_client - INFO - Fetching Google Trends data for keywords: ['barcelone']
2025-07-08 13:10:59,723 - clients.google_trends_client - INFO - Cleaned keywords: ['barcelone']
2025-07-08 13:11:02,834 - clients.google_trends_client - WARNING - Failed to get related queries: list index out of range
2025-07-08 13:11:03,755 - clients.google_trends_client - WARNING - Failed to get related topics: list index out of range
2025-07-08 13:11:05,327 - clients.google_trends_client - INFO - Successfully fetched Google Trends data for 1 keywords
2025-07-08 13:11:05,327 - routes - INFO - [SUCCESS] Google Trends data fetched successfully for 1 keywords
2025-07-08 13:11:05,336 - middleware - INFO - [RESPONSE] GET /google-trends
2025-07-08 13:11:05,337 - middleware - INFO -    Status: 200
2025-07-08 13:11:05,337 - middleware - INFO -    Processing time: 5.644s
2025-07-08 13:12:22,501 - middleware - INFO - [INCOMING] GET request to /google-trends
2025-07-08 13:12:22,501 - middleware - INFO -    Client: 127.0.0.1
2025-07-08 13:12:22,502 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-08 13:12:22,503 - routes - INFO - [GOOGLE TRENDS] Fetching trends for query: barcelona
2025-07-08 13:12:22,503 - routes - INFO - [GOOGLE TRENDS] Processing keywords: ['barcelona'], timeframe: today 12-m, geo: 
2025-07-08 13:12:22,504 - clients.google_trends_client - INFO - Fetching Google Trends data for keywords: ['barcelona']
2025-07-08 13:12:22,505 - clients.google_trends_client - INFO - Cleaned keywords: ['barcelona']
2025-07-08 13:12:25,406 - clients.google_trends_client - WARNING - Failed to get related queries: list index out of range
2025-07-08 13:12:26,434 - clients.google_trends_client - WARNING - Failed to get related topics: list index out of range
2025-07-08 13:12:28,297 - clients.google_trends_client - INFO - Successfully fetched Google Trends data for 1 keywords
2025-07-08 13:12:28,298 - routes - INFO - [SUCCESS] Google Trends data fetched successfully for 1 keywords
2025-07-08 13:12:28,305 - middleware - INFO - [RESPONSE] GET /google-trends
2025-07-08 13:12:28,308 - middleware - INFO -    Status: 200
2025-07-08 13:12:28,309 - middleware - INFO -    Processing time: 5.804s
2025-07-08 13:13:39,412 - middleware - INFO - [INCOMING] GET request to /google-trends
2025-07-08 13:13:39,413 - middleware - INFO -    Client: 127.0.0.1
2025-07-08 13:13:39,414 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-08 13:13:39,417 - routes - INFO - [GOOGLE TRENDS] Fetching trends for query: messi
2025-07-08 13:13:39,423 - routes - INFO - [GOOGLE TRENDS] Processing keywords: ['messi'], timeframe: today 12-m, geo: 
2025-07-08 13:13:39,424 - clients.google_trends_client - INFO - Fetching Google Trends data for keywords: ['messi']
2025-07-08 13:13:39,424 - clients.google_trends_client - INFO - Cleaned keywords: ['messi']
2025-07-08 13:13:42,336 - clients.google_trends_client - WARNING - Failed to get related queries: list index out of range
2025-07-08 13:13:43,236 - clients.google_trends_client - WARNING - Failed to get related topics: list index out of range
2025-07-08 13:13:44,756 - clients.google_trends_client - WARNING - Failed to get regional interest: HTTPSConnectionPool(host='trends.google.com', port=443): Max retries exceeded with url: /trends/api/widgetdata/comparedgeo?req=%7B%22geo%22%3A+%7B%7D%2C+%22comparisonItem%22%3A+%5B%7B%22time%22%3A+%222024-07-08+2025-07-08%22%2C+%22complexKeywordsRestriction%22%3A+%7B%22keyword%22%3A+%5B%7B%22type%22%3A+%22BROAD%22%2C+%22value%22%3A+%22messi%22%7D%5D%7D%7D%5D%2C+%22resolution%22%3A+%22COUNTRY%22%2C+%22locale%22%3A+%22en-US%22%2C+%22requestOptions%22%3A+%7B%22property%22%3A+%22%22%2C+%22backend%22%3A+%22IZG%22%2C+%22category%22%3A+0%7D%2C+%22userConfig%22%3A+%7B%22userType%22%3A+%22USER_TYPE_SCRAPER%22%7D%2C+%22includeLowSearchVolumeGeos%22%3A+false%7D&token=APP6_UEAAAAAaG5c9thncGOfbqa1LzdyqvYRK0w2WO3A&tz=360 (Caused by ResponseError('too many 429 error responses'))
2025-07-08 13:13:44,761 - clients.google_trends_client - INFO - Successfully fetched Google Trends data for 1 keywords
2025-07-08 13:13:44,763 - routes - INFO - [SUCCESS] Google Trends data fetched successfully for 1 keywords
2025-07-08 13:13:44,770 - middleware - INFO - [RESPONSE] GET /google-trends
2025-07-08 13:13:44,777 - middleware - INFO -    Status: 200
2025-07-08 13:13:44,778 - middleware - INFO -    Processing time: 5.357s
2025-07-08 13:58:06,754 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-08 13:58:06,765 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-08 13:58:06,767 - config - INFO - Backend starting up...
2025-07-08 13:58:06,767 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-08 13:58:06,768 - config - INFO - .env file exists: True
2025-07-08 13:58:06,768 - config - INFO - SUPABASE_URL configured: Yes
2025-07-08 13:58:06,768 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-08 13:58:06,769 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-08 13:58:06,769 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-08 13:58:06,769 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-08 13:58:07,554 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-08 13:58:07,554 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-08 13:58:08,337 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-08 13:58:08,912 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-08 14:09:59,529 - middleware - INFO - [INCOMING] GET request to /google-trends
2025-07-08 14:09:59,532 - middleware - INFO -    Client: 127.0.0.1
2025-07-08 14:09:59,533 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-08 14:09:59,539 - routes - INFO - [GOOGLE TRENDS] Fetching trends for query: react
2025-07-08 14:09:59,540 - routes - INFO - [GOOGLE TRENDS] Processing keywords: ['react'], timeframe: today 12-m, geo: 
2025-07-08 14:09:59,542 - clients.google_trends_client - INFO - Fetching Google Trends data for keywords: ['react']
2025-07-08 14:09:59,542 - clients.google_trends_client - INFO - Cleaned keywords: ['react']
2025-07-08 14:10:02,569 - clients.google_trends_client - WARNING - Failed to get related queries: list index out of range
2025-07-08 14:10:03,537 - clients.google_trends_client - WARNING - Failed to get related topics: list index out of range
2025-07-08 14:10:04,595 - clients.google_trends_client - INFO - Successfully fetched Google Trends data for 1 keywords
2025-07-08 14:10:04,596 - routes - INFO - [SUCCESS] Google Trends data fetched successfully for 1 keywords
2025-07-08 14:10:04,605 - middleware - INFO - [RESPONSE] GET /google-trends
2025-07-08 14:10:04,606 - middleware - INFO -    Status: 200
2025-07-08 14:10:04,606 - middleware - INFO -    Processing time: 5.077s
2025-07-08 15:26:24,775 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-08 15:26:24,787 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-08 15:26:24,789 - config - INFO - Backend starting up...
2025-07-08 15:26:24,789 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-08 15:26:24,789 - config - INFO - .env file exists: True
2025-07-08 15:26:24,790 - config - INFO - SUPABASE_URL configured: Yes
2025-07-08 15:26:24,790 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-08 15:26:24,790 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-08 15:26:24,791 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-08 15:26:24,791 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-08 15:26:25,744 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-08 15:26:25,745 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-08 15:26:26,661 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-08 15:26:27,354 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-08 15:29:19,720 - middleware - INFO - [INCOMING] GET request to /google-trends
2025-07-08 15:29:19,722 - middleware - INFO -    Client: 127.0.0.1
2025-07-08 15:29:19,722 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-08 15:29:19,726 - routes - INFO - [GOOGLE TRENDS] Fetching enhanced trends for query: salla.com
2025-07-08 15:29:19,727 - routes - INFO - [GOOGLE TRENDS] Processing keywords: ['salla.com'], timeframe: today 12-m, geo: 
2025-07-08 15:29:19,728 - clients.google_trends_client - INFO - 🚀 Fetching all Google Trends data for: ['salla.com']
2025-07-08 15:29:21,593 - clients.google_trends_client - INFO - ✅ Interest over time data fetched successfully
2025-07-08 15:29:22,795 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Interest by Region': HTTPSConnectionPool(host='trends.google.com', port=443): Max retries exceeded with url: /trends/api/widgetdata/comparedgeo?req=%7B%22geo%22%3A+%7B%7D%2C+%22comparisonItem%22%3A+%5B%7B%22time%22%3A+%222024-07-08+2025-07-08%22%2C+%22complexKeywordsRestriction%22%3A+%7B%22keyword%22%3A+%5B%7B%22type%22%3A+%22BROAD%22%2C+%22value%22%3A+%22salla.com%22%7D%5D%7D%7D%5D%2C+%22resolution%22%3A+%22REGION%22%2C+%22locale%22%3A+%22en-US%22%2C+%22requestOptions%22%3A+%7B%22property%22%3A+%22%22%2C+%22backend%22%3A+%22IZG%22%2C+%22category%22%3A+0%7D%2C+%22userConfig%22%3A+%7B%22userType%22%3A+%22USER_TYPE_SCRAPER%22%7D%2C+%22includeLowSearchVolumeGeos%22%3A+false%7D&token=APP6_UEAAAAAaG58wug9sE1bcKeAjCQ9XtcJZER2X_c_&tz=360 (Caused by ResponseError('too many 500 error responses'))
2025-07-08 15:29:23,536 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Related Queries': list index out of range
2025-07-08 15:29:24,244 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Related Topics': list index out of range
2025-07-08 15:29:24,252 - clients.google_trends_client - ERROR - ❌ A critical error occurred during data fetching: 'GoogleTrendsClient' object has no attribute '_generate_comparison_insights'
2025-07-08 15:29:24,252 - routes - ERROR - [ERROR] Google Trends client returned error: 'GoogleTrendsClient' object has no attribute '_generate_comparison_insights'
2025-07-08 15:29:24,254 - middleware - INFO - [RESPONSE] GET /google-trends
2025-07-08 15:29:24,254 - middleware - INFO -    Status: 500
2025-07-08 15:29:24,255 - middleware - INFO -    Processing time: 4.535s
2025-07-08 15:29:59,106 - __main__ - INFO - Backend starting up...
2025-07-08 15:29:59,107 - __main__ - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-08 15:29:59,107 - __main__ - INFO - .env file exists: True
2025-07-08 15:29:59,108 - __main__ - INFO - SUPABASE_URL configured: Yes
2025-07-08 15:29:59,108 - __main__ - INFO - SUPABASE_KEY configured: Yes
2025-07-08 15:34:40,154 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-08 15:34:40,161 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-08 15:34:40,162 - config - INFO - Backend starting up...
2025-07-08 15:34:40,162 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-08 15:34:40,163 - config - INFO - .env file exists: True
2025-07-08 15:34:40,163 - config - INFO - SUPABASE_URL configured: Yes
2025-07-08 15:34:40,163 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-08 15:34:40,163 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-08 15:34:40,165 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-08 15:34:40,165 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-08 15:34:40,796 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-08 15:34:40,797 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-08 15:34:41,890 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-08 15:34:42,712 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-08 15:34:58,624 - middleware - INFO - [INCOMING] GET request to /google-trends
2025-07-08 15:34:58,625 - middleware - INFO -    Client: 127.0.0.1
2025-07-08 15:34:58,625 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-08 15:34:58,627 - routes - INFO - [GOOGLE TRENDS] Fetching enhanced trends for query: tunisia
2025-07-08 15:34:58,627 - routes - INFO - [GOOGLE TRENDS] Processing keywords: ['tunisia'], timeframe: today 12-m, geo: 
2025-07-08 15:34:58,627 - clients.google_trends_client - INFO - 🚀 Fetching all Google Trends data for: ['tunisia']
2025-07-08 15:35:00,597 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Interest Over Time': HTTPSConnectionPool(host='trends.google.com', port=443): Max retries exceeded with url: /trends/api/widgetdata/multiline?req=%7B%22time%22%3A+%222024-07-08+2025-07-08%22%2C+%22resolution%22%3A+%22WEEK%22%2C+%22locale%22%3A+%22en-US%22%2C+%22comparisonItem%22%3A+%5B%7B%22geo%22%3A+%7B%7D%2C+%22complexKeywordsRestriction%22%3A+%7B%22keyword%22%3A+%5B%7B%22type%22%3A+%22BROAD%22%2C+%22value%22%3A+%22tunisia%22%7D%5D%7D%7D%5D%2C+%22requestOptions%22%3A+%7B%22property%22%3A+%22%22%2C+%22backend%22%3A+%22IZG%22%2C+%22category%22%3A+0%7D%2C+%22userConfig%22%3A+%7B%22userType%22%3A+%22USER_TYPE_SCRAPER%22%7D%7D&token=APP6_UEAAAAAaG5-FeY9561tjTnkxsPu9eVeW-Aejp34&tz=360 (Caused by ResponseError('too many 429 error responses'))
2025-07-08 15:35:01,771 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Interest by Region': HTTPSConnectionPool(host='trends.google.com', port=443): Max retries exceeded with url: /trends/api/widgetdata/comparedgeo?req=%7B%22geo%22%3A+%7B%7D%2C+%22comparisonItem%22%3A+%5B%7B%22time%22%3A+%222024-07-08+2025-07-08%22%2C+%22complexKeywordsRestriction%22%3A+%7B%22keyword%22%3A+%5B%7B%22type%22%3A+%22BROAD%22%2C+%22value%22%3A+%22tunisia%22%7D%5D%7D%7D%5D%2C+%22resolution%22%3A+%22REGION%22%2C+%22locale%22%3A+%22en-US%22%2C+%22requestOptions%22%3A+%7B%22property%22%3A+%22%22%2C+%22backend%22%3A+%22IZG%22%2C+%22category%22%3A+0%7D%2C+%22userConfig%22%3A+%7B%22userType%22%3A+%22USER_TYPE_SCRAPER%22%7D%2C+%22includeLowSearchVolumeGeos%22%3A+false%7D&token=APP6_UEAAAAAaG5-FZCfM11oa-Fy2qE06SzAMb2TqTp0&tz=360 (Caused by ResponseError('too many 500 error responses'))
2025-07-08 15:35:02,505 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Related Queries': list index out of range
2025-07-08 15:35:03,442 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Related Topics': list index out of range
2025-07-08 15:35:03,442 - clients.google_trends_client - ERROR - ❌ A critical error occurred during data fetching: cannot access local variable 'interest_over_time' where it is not associated with a value
2025-07-08 15:35:03,442 - routes - ERROR - [ERROR] Google Trends client returned error: cannot access local variable 'interest_over_time' where it is not associated with a value
2025-07-08 15:35:03,445 - middleware - INFO - [RESPONSE] GET /google-trends
2025-07-08 15:35:03,445 - middleware - INFO -    Status: 500
2025-07-08 15:35:03,445 - middleware - INFO -    Processing time: 4.821s
2025-07-08 15:38:38,121 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-08 15:38:38,129 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-08 15:38:38,131 - config - INFO - Backend starting up...
2025-07-08 15:38:38,131 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-08 15:38:38,132 - config - INFO - .env file exists: True
2025-07-08 15:38:38,132 - config - INFO - SUPABASE_URL configured: Yes
2025-07-08 15:38:38,133 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-08 15:38:38,133 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-08 15:38:38,133 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-08 15:38:38,134 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-08 15:38:38,640 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-08 15:38:38,642 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-08 15:38:39,332 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-08 15:38:40,026 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-08 15:40:02,679 - middleware - INFO - [INCOMING] GET request to /google-trends
2025-07-08 15:40:02,680 - middleware - INFO -    Client: 127.0.0.1
2025-07-08 15:40:02,680 - middleware - INFO -    Headers: {'user-agent': 'Mozilla/5.0 (Windows NT; Windows NT 10.0; fr-CA) WindowsPowerShell/5.1.26100.4484', 'host': 'localhost:8000', 'connection': 'Keep-Alive'}
2025-07-08 15:40:02,681 - routes - INFO - [GOOGLE TRENDS] Fetching enhanced trends for query: python
2025-07-08 15:40:02,681 - routes - INFO - [GOOGLE TRENDS] Processing keywords: ['python'], timeframe: today 12-m, geo: 
2025-07-08 15:40:02,681 - clients.google_trends_client - INFO - 🚀 Fetching all Google Trends data for: ['python']
2025-07-08 15:40:04,336 - clients.google_trends_client - INFO - ✅ Interest over time data fetched successfully
2025-07-08 15:40:07,208 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Interest by Region': HTTPSConnectionPool(host='trends.google.com', port=443): Max retries exceeded with url: /trends/api/widgetdata/comparedgeo?req=%7B%22geo%22%3A+%7B%7D%2C+%22comparisonItem%22%3A+%5B%7B%22time%22%3A+%222024-07-08+2025-07-08%22%2C+%22complexKeywordsRestriction%22%3A+%7B%22keyword%22%3A+%5B%7B%22type%22%3A+%22BROAD%22%2C+%22value%22%3A+%22python%22%7D%5D%7D%7D%5D%2C+%22resolution%22%3A+%22REGION%22%2C+%22locale%22%3A+%22en-US%22%2C+%22requestOptions%22%3A+%7B%22property%22%3A+%22%22%2C+%22backend%22%3A+%22IZG%22%2C+%22category%22%3A+0%7D%2C+%22userConfig%22%3A+%7B%22userType%22%3A+%22USER_TYPE_SCRAPER%22%7D%2C+%22includeLowSearchVolumeGeos%22%3A+false%7D&token=APP6_UEAAAAAaG5_RS1O6PJpvs7OlpPg08FmDNLbyi2g&tz=360 (Caused by ResponseError('too many 500 error responses'))
2025-07-08 15:40:10,110 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Related Queries': list index out of range
2025-07-08 15:40:12,845 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Related Topics': list index out of range
2025-07-08 15:40:15,467 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Trending Searches': The request failed: Google returned a response with code 404
2025-07-08 15:40:15,469 - clients.google_trends_client - INFO - ✅ All Google Trends data fetching complete
2025-07-08 15:40:15,469 - routes - INFO - [SUCCESS] Enhanced Google Trends data fetched successfully for 1 keywords
2025-07-08 15:40:15,470 - middleware - ERROR - [ERROR] Error in middleware: [TypeError("'numpy.int32' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-07-08 15:40:15,471 - middleware - ERROR -    Processing time: 12.791s
2025-07-08 15:44:39,594 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-08 15:44:39,601 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-08 15:44:39,603 - config - INFO - Backend starting up...
2025-07-08 15:44:39,603 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-08 15:44:39,603 - config - INFO - .env file exists: True
2025-07-08 15:44:39,603 - config - INFO - SUPABASE_URL configured: Yes
2025-07-08 15:44:39,604 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-08 15:44:39,605 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-08 15:44:39,606 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-08 15:44:39,606 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-08 15:44:40,161 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-08 15:44:40,161 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-08 15:44:41,076 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-08 15:44:41,932 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-08 15:45:07,928 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-08 15:45:07,932 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-08 15:45:07,933 - config - INFO - Backend starting up...
2025-07-08 15:45:07,933 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-08 15:45:07,934 - config - INFO - .env file exists: True
2025-07-08 15:45:07,934 - config - INFO - SUPABASE_URL configured: Yes
2025-07-08 15:45:07,934 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-08 15:45:07,934 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-08 15:45:07,934 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-08 15:45:07,935 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-08 15:45:08,281 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-08 15:45:08,281 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-08 15:45:08,710 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-08 15:45:09,498 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-08 15:45:35,815 - httpx - INFO - HTTP Request: GET https://pvqmxyqsubxtmgsdifym.supabase.co/rest/v1/users?select=count "HTTP/1.1 206 Partial Content"
2025-07-08 15:45:35,825 - config - INFO - ✅ Supabase client initialized and tested successfully
2025-07-08 15:45:35,826 - config - INFO - Backend starting up...
2025-07-08 15:45:35,826 - config - INFO - Current working directory: C:\Users\mouni\Downloads\builtwith-analyzer (1)\backend
2025-07-08 15:45:35,826 - config - INFO - .env file exists: True
2025-07-08 15:45:35,827 - config - INFO - SUPABASE_URL configured: Yes
2025-07-08 15:45:35,827 - config - INFO - SUPABASE_KEY configured: Yes
2025-07-08 15:45:35,828 - config - INFO - APIFY_TOKEN configured: Yes
2025-07-08 15:45:35,828 - config - INFO - BUILTWITH_KEY configured: Yes
2025-07-08 15:45:35,828 - config - INFO - OPENROUTER_KEY configured: Yes
2025-07-08 15:45:36,189 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-08 15:45:36,190 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-07-08 15:45:36,635 - database_service - INFO - ✅ DatabaseService initialized with Supabase client
2025-07-08 15:45:37,288 - clients.google_trends_client - INFO - Google Trends client initialized successfully
2025-07-08 15:45:53,103 - middleware - INFO - [INCOMING] GET request to /google-trends
2025-07-08 15:45:53,107 - middleware - INFO -    Client: 127.0.0.1
2025-07-08 15:45:53,108 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-08 15:45:53,110 - routes - INFO - [GOOGLE TRENDS] Fetching enhanced trends for query: tunisia
2025-07-08 15:45:53,113 - routes - INFO - [GOOGLE TRENDS] Processing keywords: ['tunisia'], timeframe: today 12-m, geo: 
2025-07-08 15:45:53,115 - clients.google_trends_client - INFO - 🚀 Fetching all Google Trends data for: ['tunisia']
2025-07-08 15:45:55,715 - clients.google_trends_client - ERROR - Error converting DataFrame to dict: module 'numpy' has no attribute 'boolean'
2025-07-08 15:45:55,724 - clients.google_trends_client - INFO - ✅ Interest over time data fetched successfully
2025-07-08 15:45:59,059 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Interest by Region': HTTPSConnectionPool(host='trends.google.com', port=443): Max retries exceeded with url: /trends/api/widgetdata/comparedgeo?req=%7B%22geo%22%3A+%7B%7D%2C+%22comparisonItem%22%3A+%5B%7B%22time%22%3A+%222024-07-08+2025-07-08%22%2C+%22complexKeywordsRestriction%22%3A+%7B%22keyword%22%3A+%5B%7B%22type%22%3A+%22BROAD%22%2C+%22value%22%3A+%22tunisia%22%7D%5D%7D%7D%5D%2C+%22resolution%22%3A+%22REGION%22%2C+%22locale%22%3A+%22en-US%22%2C+%22requestOptions%22%3A+%7B%22property%22%3A+%22%22%2C+%22backend%22%3A+%22IZG%22%2C+%22category%22%3A+0%7D%2C+%22userConfig%22%3A+%7B%22userType%22%3A+%22USER_TYPE_SCRAPER%22%7D%2C+%22includeLowSearchVolumeGeos%22%3A+false%7D&token=APP6_UEAAAAAaG6ApKOw4MYn0jVYI-W5RtSe3GQRUBlO&tz=360 (Caused by ResponseError('too many 500 error responses'))
2025-07-08 15:46:02,237 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Related Queries': list index out of range
2025-07-08 15:46:05,503 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Related Topics': list index out of range
2025-07-08 15:46:05,506 - clients.google_trends_client - ERROR - Error generating enhanced summary: module 'numpy' has no attribute 'boolean'
2025-07-08 15:46:05,512 - clients.google_trends_client - ERROR - Error analyzing seasonal patterns: module 'numpy' has no attribute 'boolean'
2025-07-08 15:46:08,343 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Trending Searches': The request failed: Google returned a response with code 404
2025-07-08 15:46:08,345 - clients.google_trends_client - INFO - ✅ All Google Trends data fetching complete
2025-07-08 15:46:08,345 - routes - INFO - [SUCCESS] Enhanced Google Trends data fetched successfully for 1 keywords
2025-07-08 15:46:08,347 - middleware - INFO - [RESPONSE] GET /google-trends
2025-07-08 15:46:08,347 - middleware - INFO -    Status: 200
2025-07-08 15:46:08,347 - middleware - INFO -    Processing time: 15.243s
2025-07-08 15:46:31,157 - middleware - INFO - [INCOMING] GET request to /google-trends/visual-report
2025-07-08 15:46:31,157 - middleware - INFO -    Client: 127.0.0.1
2025-07-08 15:46:31,158 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-08 15:46:31,159 - routes - INFO - [VISUAL TRENDS REPORT] Generating report for: tunisia
2025-07-08 15:46:31,160 - clients.google_trends_client - INFO - 🚀 Fetching all Google Trends data for: ['tunisia']
2025-07-08 15:46:34,060 - clients.google_trends_client - ERROR - Error converting DataFrame to dict: module 'numpy' has no attribute 'boolean'
2025-07-08 15:46:34,072 - clients.google_trends_client - INFO - ✅ Interest over time data fetched successfully
2025-07-08 15:46:38,082 - clients.google_trends_client - ERROR - Error converting DataFrame to dict: module 'numpy' has no attribute 'boolean'
2025-07-08 15:46:38,091 - clients.google_trends_client - ERROR - Error processing regional data: module 'numpy' has no attribute 'boolean'
2025-07-08 15:46:38,099 - clients.google_trends_client - INFO - ✅ Interest by region data fetched successfully
2025-07-08 15:46:41,433 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Related Queries': list index out of range
2025-07-08 15:46:44,842 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Related Topics': list index out of range
2025-07-08 15:46:44,844 - clients.google_trends_client - ERROR - Error generating enhanced summary: module 'numpy' has no attribute 'boolean'
2025-07-08 15:46:44,848 - clients.google_trends_client - ERROR - Error analyzing seasonal patterns: module 'numpy' has no attribute 'boolean'
2025-07-08 15:46:49,383 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Trending Searches': The request failed: Google returned a response with code 404
2025-07-08 15:46:49,387 - clients.google_trends_client - INFO - ✅ All Google Trends data fetching complete
2025-07-08 15:46:49,387 - routes - INFO - [SUCCESS] Visual trends report generated successfully
2025-07-08 15:46:49,391 - middleware - INFO - [RESPONSE] GET /google-trends/visual-report
2025-07-08 15:46:49,393 - middleware - INFO -    Status: 200
2025-07-08 15:46:49,394 - middleware - INFO -    Processing time: 18.234s
2025-07-08 16:04:14,614 - middleware - INFO - [INCOMING] GET request to /google-trends
2025-07-08 16:04:14,615 - middleware - INFO -    Client: 127.0.0.1
2025-07-08 16:04:14,616 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-08 16:04:14,617 - routes - INFO - [GOOGLE TRENDS] Fetching enhanced trends for query: sauria
2025-07-08 16:04:14,618 - routes - INFO - [GOOGLE TRENDS] Processing keywords: ['sauria'], timeframe: today 12-m, geo: 
2025-07-08 16:04:14,618 - clients.google_trends_client - INFO - 🚀 Fetching all Google Trends data for: ['sauria']
2025-07-08 16:04:18,056 - clients.google_trends_client - ERROR - Error converting DataFrame to dict: module 'numpy' has no attribute 'boolean'
2025-07-08 16:04:18,063 - clients.google_trends_client - INFO - ✅ Interest over time data fetched successfully
2025-07-08 16:04:24,876 - clients.google_trends_client - ERROR - Error converting DataFrame to dict: module 'numpy' has no attribute 'boolean'
2025-07-08 16:04:24,878 - clients.google_trends_client - ERROR - Error processing regional data: module 'numpy' has no attribute 'boolean'
2025-07-08 16:04:24,880 - clients.google_trends_client - INFO - ✅ Interest by region data fetched successfully
2025-07-08 16:04:28,248 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Related Queries': list index out of range
2025-07-08 16:04:33,491 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Related Topics': list index out of range
2025-07-08 16:04:33,494 - clients.google_trends_client - ERROR - Error generating enhanced summary: module 'numpy' has no attribute 'boolean'
2025-07-08 16:04:33,499 - clients.google_trends_client - ERROR - Error analyzing seasonal patterns: module 'numpy' has no attribute 'boolean'
2025-07-08 16:04:36,410 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Trending Searches': The request failed: Google returned a response with code 404
2025-07-08 16:04:36,413 - clients.google_trends_client - INFO - ✅ All Google Trends data fetching complete
2025-07-08 16:04:36,413 - routes - INFO - [SUCCESS] Enhanced Google Trends data fetched successfully for 1 keywords
2025-07-08 16:04:36,415 - middleware - INFO - [RESPONSE] GET /google-trends
2025-07-08 16:04:36,416 - middleware - INFO -    Status: 200
2025-07-08 16:04:36,416 - middleware - INFO -    Processing time: 21.802s
2025-07-08 16:04:58,392 - middleware - INFO - [INCOMING] GET request to /google-trends
2025-07-08 16:04:58,392 - middleware - INFO -    Client: 127.0.0.1
2025-07-08 16:04:58,393 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-08 16:04:58,394 - routes - INFO - [GOOGLE TRENDS] Fetching enhanced trends for query: earpods
2025-07-08 16:04:58,394 - routes - INFO - [GOOGLE TRENDS] Processing keywords: ['earpods'], timeframe: today 12-m, geo: 
2025-07-08 16:04:58,394 - clients.google_trends_client - INFO - 🚀 Fetching all Google Trends data for: ['earpods']
2025-07-08 16:05:00,835 - clients.google_trends_client - ERROR - Error converting DataFrame to dict: module 'numpy' has no attribute 'boolean'
2025-07-08 16:05:00,844 - clients.google_trends_client - INFO - ✅ Interest over time data fetched successfully
2025-07-08 16:05:04,228 - clients.google_trends_client - ERROR - Error converting DataFrame to dict: module 'numpy' has no attribute 'boolean'
2025-07-08 16:05:04,230 - clients.google_trends_client - ERROR - Error processing regional data: module 'numpy' has no attribute 'boolean'
2025-07-08 16:05:04,232 - clients.google_trends_client - INFO - ✅ Interest by region data fetched successfully
2025-07-08 16:05:07,493 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Related Queries': list index out of range
2025-07-08 16:05:10,644 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Related Topics': list index out of range
2025-07-08 16:05:10,648 - clients.google_trends_client - ERROR - Error generating enhanced summary: module 'numpy' has no attribute 'boolean'
2025-07-08 16:05:10,651 - clients.google_trends_client - ERROR - Error analyzing seasonal patterns: module 'numpy' has no attribute 'boolean'
2025-07-08 16:05:13,718 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Trending Searches': The request failed: Google returned a response with code 404
2025-07-08 16:05:13,721 - clients.google_trends_client - INFO - ✅ All Google Trends data fetching complete
2025-07-08 16:05:13,721 - routes - INFO - [SUCCESS] Enhanced Google Trends data fetched successfully for 1 keywords
2025-07-08 16:05:13,725 - middleware - INFO - [RESPONSE] GET /google-trends
2025-07-08 16:05:13,725 - middleware - INFO -    Status: 200
2025-07-08 16:05:13,725 - middleware - INFO -    Processing time: 15.333s
2025-07-08 16:06:53,976 - middleware - INFO - [INCOMING] GET request to /google-trends
2025-07-08 16:06:53,977 - middleware - INFO -    Client: 127.0.0.1
2025-07-08 16:06:53,978 - middleware - INFO -    Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:3000', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'fr,fr-FR;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,fr-CA;q=0.5'}
2025-07-08 16:06:53,979 - routes - INFO - [GOOGLE TRENDS] Fetching enhanced trends for query: earpods
2025-07-08 16:06:53,980 - routes - INFO - [GOOGLE TRENDS] Processing keywords: ['earpods'], timeframe: today 12-m, geo: IT
2025-07-08 16:06:53,980 - clients.google_trends_client - INFO - 🚀 Fetching all Google Trends data for: ['earpods']
2025-07-08 16:06:55,944 - clients.google_trends_client - ERROR - Error converting DataFrame to dict: module 'numpy' has no attribute 'boolean'
2025-07-08 16:06:55,946 - clients.google_trends_client - INFO - ✅ Interest over time data fetched successfully
2025-07-08 16:06:58,907 - clients.google_trends_client - ERROR - Error converting DataFrame to dict: module 'numpy' has no attribute 'boolean'
2025-07-08 16:06:58,909 - clients.google_trends_client - ERROR - Error processing regional data: module 'numpy' has no attribute 'boolean'
2025-07-08 16:06:58,911 - clients.google_trends_client - INFO - ✅ Interest by region data fetched successfully
2025-07-08 16:07:01,793 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Related Queries': list index out of range
2025-07-08 16:07:04,603 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Related Topics': list index out of range
2025-07-08 16:07:04,604 - clients.google_trends_client - ERROR - Error generating enhanced summary: module 'numpy' has no attribute 'boolean'
2025-07-08 16:07:04,606 - clients.google_trends_client - ERROR - Error analyzing seasonal patterns: module 'numpy' has no attribute 'boolean'
2025-07-08 16:07:07,205 - clients.google_trends_client - WARNING - ⚠️ Could not fetch 'Trending Searches': The request failed: Google returned a response with code 404
2025-07-08 16:07:07,209 - clients.google_trends_client - INFO - ✅ All Google Trends data fetching complete
2025-07-08 16:07:07,210 - routes - INFO - [SUCCESS] Enhanced Google Trends data fetched successfully for 1 keywords
2025-07-08 16:07:07,213 - middleware - INFO - [RESPONSE] GET /google-trends
2025-07-08 16:07:07,213 - middleware - INFO -    Status: 200
2025-07-08 16:07:07,213 - middleware - INFO -    Processing time: 13.237s
